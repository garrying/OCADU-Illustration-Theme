$(function(){var h=$("html, body"),j=function(){45<$("#app-head").height()?$("#app-head").addClass("double"):$("#app-head").removeClass("double")};j();$("#info").hover(function(){$("#search, .year-widget-toggle").animate({opacity:0});$(this).html("\u261c");$("#colophon").animate({opacity:1})},function(){$("#colophon").animate({opacity:0});$(this).html("\u270c");$("#search, .year-widget-toggle").animate({opacity:1})});$.fn.teletype=function(a){var b=this,k=$.extend({animDelay:150},a);$.each(k.text.split(""),
function(a,c){setTimeout(function(){b.attr("placeholder",b.attr("placeholder")+c)},k.animDelay*a)});return this};var l=document.querySelector(".gallery"),c;$("body").hasClass("single")&&imagesLoaded(l,function(){c=new Packery(l,{itemSelector:".gallery-item",gutter:5})});$(".year-widget-toggle").on("click",function(){"true"===$("#year-widget").attr("data-visible")?($(this).find(".indicator").removeClass("visible"),$("#year-widget").attr("data-visible","false"),$("#year-select").addClass("collapsed"),
$.cookie("currentlyVisible","false",{path:"/"})):($(this).find(".indicator").addClass("visible"),$("#year-widget").attr("data-visible","true"),$("#year-select").removeClass("collapsed"),$.cookie("currentlyVisible","true",{path:"/"}))});"false"===$.cookie("currentlyVisible")&&($("#year-widget").attr("data-visible","false"),$(this).find(".indicator").removeClass("visible"),$("#year-select").addClass("collapsed"));setTimeout(function(){if($("body").hasClass("home")||$("body").hasClass("error404"))$("#s").teletype({text:"...Search The Archive"});
else if($("body").hasClass("single")&&$("article").hasClass("illustrator")){var a=$("h1").text();$("#s").teletype({text:" \u25cf "+a})}},7E3);$.fn.shuffle=function(){var a=this.get(),b=$.map(a,function(){var b=Math.floor(Math.random()*a.length),c=$(a[b]).clone(!0)[0];a.splice(b,1);return c});this.each(function(a){$(this).replaceWith($(b[a]))});return $(b)};$("body").hasClass("home")&&$("#content article").shuffle();$.fn.spin=function(a){this.each(function(){var b=$(this).data();b.spinner&&(b.spinner.stop(),
delete b.spinner);!1!==a&&(b.spinner=(new Spinner($.extend({color:"#3EBB94",width:5,radius:50,length:0},a))).spin(this))});return this};var e=$("#progress");e.spin();var d=$("#intro");d.on("click",function(){$(this).fadeOut("fast").addClass("hidden")});var f=$(".sticky"),g=!1;$(window).scroll(function(){g=!0});setInterval(function(){if(g){g=!1;var a=$(window).scrollTop(),b=$(window).height(),c=f.height();70<=a&&c<b?f.addClass("fixed"):f.removeClass("fixed");$("body").hasClass("home")&&(1<$(window).scrollTop()||
!1!==d.hasClass("hidden")?d.fadeOut("fast"):d.fadeIn("fast"))}},40);$(".gallery-icon a").on("click",function(){if($(this).parent().parent().hasClass("enlarge"))return $(this).parent().parent().removeClass("enlarge"),$(this).find("img").attr("title","Click to View"),c.layout(),!1;var a=$(this).attr("href");$(".gallery-item").removeClass("enlarge");$(".gallery-icon a").removeClass("active");$(this).find("img").attr("title","Click to Minimize");$(this).addClass("active");var b=$("<img />").attr("src",
a);$(this).find("img").load(a,function(){if(!this.complete||"undefined"==typeof this.naturalWidth||0==this.naturalWidth)alert("Image failed to load. Try again.");else{var a=b[0].src;$(this).attr("src",a).attr("width",b[0].width).attr("height",b[0].height).parent().parent().parent().addClass("enlarge");c.layout()}});c.on("layoutComplete",function(){var a=$(".active").offset();$("html, body").animate({scrollTop:a.top-20},90)});return!1});$(".enlarge").on("click",function(){$(this).find("img").remove()});
var p=function(){$("html, body").animate({scrollTop:0},400)};if($("body").hasClass("single"))$(".sticky").find("h1").on("click",p);var m=$(".nav-next a"),n=$(".nav-previous a");$(document.documentElement).keyup(function(a){37===a.keyCode&&n.length?window.location=n.attr("href"):39===a.keyCode&&m.length&&(window.location=m.attr("href"))});window.onload=function(){$("body").hasClass("home")&&(document.getElementById("s").focus(),$(".illustrator img").each(function(a){$(this).delay(150*a).animate({opacity:1,
marginTop:0},500,function(){$(this).parent().addClass("visible")})}));$("#s").on("focus",function(){$(this).attr("placeholder","Search for an Illustrator")});$(".gallery").find("img").fadeTo("fast",1,function(){e.spin(!1)});e.spin(!1)};h.bind("mousedown DOMMouseScroll mousewheel keyup",function(){h.stop()});$(window).resize(function(){j()})});