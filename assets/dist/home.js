/*! For license information please see home.js.LICENSE.txt */
(()=>{var e={450:(e,t,i)=>{"use strict";var n,r,s=Object.defineProperty,o=(e,t)=>{for(var i in t)s(e,i,{get:t[i],enumerable:!0})},a=(e,t,i)=>(((e,t,i)=>{t in e?s(e,t,{enumerable:!0,configurable:!0,writable:!0,value:i}):e[t]=i})(e,"symbol"!=typeof t?t+"":t,i),i),l={move:"M",line:"L",curve:"C",arc:"A",close:"Z"},h={};o(h,{HALF_PI:()=>u,NumArray:()=>v,TWO_PI:()=>c,decomposeMatrix:()=>d,getComputedMatrix:()=>p,getPoT:()=>y,lerp:()=>g,mod:()=>_,setMatrix:()=>f,toFixed:()=>b}),"undefined"!=typeof window?n=window:void 0!==i.g?n=i.g:"undefined"!=typeof self&&(n=self);var c=2*Math.PI,u=.5*Math.PI;function d(e,t,i,n,r,s){let o;return arguments.length<=1?(o=e.a,t=e.b,i=e.c,n=e.d,r=e.e,s=e.f):o=e,{translateX:r,translateY:s,scaleX:Math.sqrt(o*o+t*t),scaleY:Math.sqrt(i*i+n*n),rotation:180*Math.atan2(t,o)/Math.PI}}function f(e){r=e}function p(e,t){t=t&&t.identity()||new r;let i=e;const n=[];for(;i&&i._matrix;)n.push(i._matrix),i=i.parent;n.reverse();for(let e=0;e<n.length;e++){const i=n[e].elements;t.multiply(i[0],i[1],i[2],i[3],i[4],i[5],i[6],i[7],i[8],i[9])}return t}function g(e,t,i){return i*(t-e)+e}var m=[2,4,8,16,32,64,128,256,512,1024,2048,4096];function y(e){let t=0;for(;m[t]&&m[t]<e;)t++;return m[t]}function _(e,t){for(;e<0;)e+=t;return e%t}var v=n.Float32Array||Array,x=Math.floor;function b(e){return x(1e6*e)/1e6}var w={};o(w,{Curve:()=>M,getAnchorsFromArcData:()=>H,getComponentOnCubicBezier:()=>j,getControlPoints:()=>N,getCurveBoundingBox:()=>O,getCurveFromPoints:()=>B,getCurveLength:()=>L,getReflection:()=>D,integrate:()=>I,subdivide:()=>F});var S=class{constructor(){a(this,"_events",{}),a(this,"_bound",!1)}addEventListener(e,t){return(this._events[e]||(this._events[e]=[])).push(t),this._bound=!0,this}on(){return this.addEventListener.apply(this,arguments)}bind(){return this.addEventListener.apply(this,arguments)}removeEventListener(e,t){if(!this._events)return this;if(!e&&!t)return this._events={},this._bound=!1,this;const i=e?[e]:Object.keys(this._events);for(let n=0,r=i.length;n<r;n++){e=i[n];let r=this._events[e];if(r){let i=[];if(t)for(let e=0,n=r.length;e<n;e++){let n=r[e];n=n.handler?n.handler:n,t!==n&&i.push(n)}this._events[e]=i}}return this}off(){return this.removeEventListener.apply(this,arguments)}unbind(){return this.removeEventListener.apply(this,arguments)}dispatchEvent(e){if(!this._events)return this;const t=Array.prototype.slice.call(arguments,1),i=this._events[e];if(i)for(let e=0;e<i.length;e++)i[e].call(this,...t);return this}trigger(){return this.dispatchEvent.apply(this,arguments)}listen(e,t,i){const n=this;function r(){i.apply(n,arguments)}return e&&(r.obj=e,r.name=t,r.handler=i,e.on(t,r)),n}ignore(e,t,i){return e.off(t,i),this}};a(S,"Types",{play:"play",pause:"pause",update:"update",render:"render",resize:"resize",change:"change",remove:"remove",insert:"insert",order:"order",load:"load"}),a(S,"Methods",["addEventListener","on","removeEventListener","off","unbind","dispatchEvent","trigger","listen","ignore"]);var k={x:{enumerable:!0,get:function(){return this._x},set:function(e){this._x!==e&&(this._x=e,this._bound&&this.dispatchEvent(S.Types.change))}},y:{enumerable:!0,get:function(){return this._y},set:function(e){this._y!==e&&(this._y=e,this._bound&&this.dispatchEvent(S.Types.change))}}},A=class extends S{constructor(e=0,t=0){super(),a(this,"_x",0),a(this,"_y",0);for(let e in k)Object.defineProperty(this,e,k[e]);this.x=e,this.y=t}static add(e,t){return new A(e.x+t.x,e.y+t.y)}static sub(e,t){return new A(e.x-t.x,e.y-t.y)}static subtract(e,t){return A.sub(e,t)}static ratioBetween(e,t){return(e.x*t.x+e.y*t.y)/(e.length()*t.length())}static angleBetween(e,t){if(arguments.length>=4){const e=arguments[0]-arguments[2],t=arguments[1]-arguments[3];return Math.atan2(t,e)}const i=e.x-t.x,n=e.y-t.y;return Math.atan2(n,i)}static distanceBetween(e,t){return Math.sqrt(A.distanceBetweenSquared(e,t))}static distanceBetweenSquared(e,t){const i=e.x-t.x,n=e.y-t.y;return i*i+n*n}set(e,t){return this.x=e,this.y=t,this}copy(e){return this.x=e.x,this.y=e.y,this}clear(){return this.x=0,this.y=0,this}clone(){return new A(this.x,this.y)}add(e,t){return arguments.length<=0||(arguments.length<=1?"number"==typeof e?(this.x+=e,this.y+=e):e&&"number"==typeof e.x&&"number"==typeof e.y&&(this.x+=e.x,this.y+=e.y):(this.x+=e,this.y+=t)),this}addSelf(e){return this.add.apply(this,arguments)}sub(e,t){return arguments.length<=0||(arguments.length<=1?"number"==typeof e?(this.x-=e,this.y-=e):e&&"number"==typeof e.x&&"number"==typeof e.y&&(this.x-=e.x,this.y-=e.y):(this.x-=e,this.y-=t)),this}subtract(){return this.sub.apply(this,arguments)}subSelf(e){return this.sub.apply(this,arguments)}subtractSelf(e){return this.sub.apply(this,arguments)}multiply(e,t){return arguments.length<=0||(arguments.length<=1?"number"==typeof e?(this.x*=e,this.y*=e):e&&"number"==typeof e.x&&"number"==typeof e.y&&(this.x*=e.x,this.y*=e.y):(this.x*=e,this.y*=t)),this}multiplySelf(e){return this.multiply.apply(this,arguments)}multiplyScalar(e){return this.multiply(e)}divide(e,t){return arguments.length<=0||(arguments.length<=1?"number"==typeof e?(this.x/=e,this.y/=e):e&&"number"==typeof e.x&&"number"==typeof e.y&&(this.x/=e.x,this.y/=e.y):(this.x/=e,this.y/=t),isNaN(this.x)&&(this.x=0),isNaN(this.y)&&(this.y=0)),this}divideSelf(e){return this.divide.apply(this,arguments)}divideScalar(e){return this.divide(e)}negate(){return this.multiply(-1)}dot(e){return this.x*e.x+this.y*e.y}length(){return Math.sqrt(this.lengthSquared())}lengthSquared(){return this.x*this.x+this.y*this.y}normalize(){return this.divideScalar(this.length())}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,i=this.y-e.y;return t*t+i*i}setLength(e){return this.normalize().multiplyScalar(e)}equals(e,t){return t=void 0===t?1e-4:t,this.distanceTo(e)<t}lerp(e,t){const i=(e.x-this.x)*t+this.x,n=(e.y-this.y)*t+this.y;return this.set(i,n)}isZero(e){return e=void 0===e?1e-4:e,this.length()<e}toString(){return this.x+", "+this.y}toObject(){return{x:this.x,y:this.y}}rotate(e){const t=this.x,i=this.y,n=Math.cos(e),r=Math.sin(e);return this.x=t*n-i*r,this.y=t*r+i*n,this}},T=A;a(T,"zero",new A),a(T,"left",new A(-1,0)),a(T,"right",new A(1,0)),a(T,"up",new A(0,-1)),a(T,"down",new A(0,1));var C=class extends T{constructor(e=0,t=0,i=0,n=0,r=0,s=0,o=l.move){super(e,t),a(this,"controls",{left:new T,right:new T}),a(this,"_command",l.move),a(this,"_relative",!0),a(this,"_rx",0),a(this,"_ry",0),a(this,"_xAxisRotation",0),a(this,"_largeArcFlag",0),a(this,"_sweepFlag",1);for(let e in R)Object.defineProperty(this,e,R[e]);this.command=o,this.relative=!0;const h=C.makeBroadcast(this);this.controls.left.set(i,n).addEventListener(S.Types.change,h),this.controls.right.set(r,s).addEventListener(S.Types.change,h)}static makeBroadcast(e){return function(){e._bound&&e.dispatchEvent(S.Types.change)}}copy(e){return this.x=e.x,this.y=e.y,"string"==typeof e.command&&(this.command=e.command),e.controls&&(e.controls.left&&this.controls.left.copy(e.controls.left),e.controls.right&&this.controls.right.copy(e.controls.right)),"boolean"==typeof e.relative&&(this.relative=e.relative),"number"==typeof e.rx&&(this.rx=e.rx),"number"==typeof e.ry&&(this.ry=e.ry),"number"==typeof e.xAxisRotation&&(this.xAxisRotation=e.xAxisRotation),"number"==typeof e.largeArcFlag&&(this.largeArcFlag=e.largeArcFlag),"number"==typeof e.sweepFlag&&(this.sweepFlag=e.sweepFlag),this}clone(){return(new C).copy(this)}toObject(){return{x:this.x,y:this.y,command:this.command,relative:this.relative,controls:{left:this.controls.left.toObject(),right:this.controls.right.toObject()},rx:this.rx,ry:this.ry,xAxisRotation:this.xAxisRotation,largeArcFlag:this.largeArcFlag,sweepFlag:this.sweepFlag}}toString(){return JSON.stringify(this.toObject())}},R={command:{enumerable:!0,get:function(){return this._command},set:function(e){this._command!==e&&(this._command=e,this._bound&&this.dispatchEvent(S.Types.change))}},relative:{enumerable:!0,get:function(){return this._relative},set:function(e){this._relative!==!!e&&(this._relative=!!e,this._bound&&this.dispatchEvent(S.Types.change))}},rx:{enumerable:!0,get:function(){return this._rx},set:function(e){this._rx!==e&&(this._rx=e,this._bound&&this.dispatchEvent(S.Types.change))}},ry:{enumerable:!0,get:function(){return this._ry},set:function(e){this._ry!==e&&(this._ry=e,this._bound&&this.dispatchEvent(S.Types.change))}},xAxisRotation:{enumerable:!0,get:function(){return this._xAxisRotation},set:function(e){this._xAxisRotation!==e&&(this._xAxisRotation=e,this._bound&&this.dispatchEvent(S.Types.change))}},largeArcFlag:{enumerable:!0,get:function(){return this._largeArcFlag},set:function(e){this._largeArcFlag!==e&&(this._largeArcFlag=e,this._bound&&this.dispatchEvent(S.Types.change))}},sweepFlag:{get:function(){return this._sweepFlag},set:function(e){this._sweepFlag!==e&&(this._sweepFlag=e,this._bound&&this.dispatchEvent(S.Types.change))}}},E=0,P={nextFrameID:null,Types:{webgl:"WebGLRenderer",svg:"SVGRenderer",canvas:"CanvasRenderer"},Version:"v0.8.10",PublishDate:"2022-06-09T16:09:22.888Z",Identifier:"two-",Resolution:12,AutoCalculateImportedMatrices:!0,Instances:[],uniqueId:function(){return E++}},M={CollinearityEpsilon:Math.pow(10,-30),RecursionLimit:16,CuspLimit:0,Tolerance:{distance:.25,angle:0,epsilon:Number.EPSILON},abscissas:[[.5773502691896257],[0,.7745966692414834],[.33998104358485626,.8611363115940526],[0,.5384693101056831,.906179845938664],[.2386191860831969,.6612093864662645,.932469514203152],[0,.4058451513773972,.7415311855993945,.9491079123427585],[.1834346424956498,.525532409916329,.7966664774136267,.9602898564975363],[0,.3242534234038089,.6133714327005904,.8360311073266358,.9681602395076261],[.14887433898163122,.4333953941292472,.6794095682990244,.8650633666889845,.9739065285171717],[0,.26954315595234496,.5190961292068118,.7301520055740494,.8870625997680953,.978228658146057],[.1252334085114689,.3678314989981802,.5873179542866175,.7699026741943047,.9041172563704749,.9815606342467192],[0,.2304583159551348,.44849275103644687,.6423493394403402,.8015780907333099,.9175983992229779,.9841830547185881],[.10805494870734367,.31911236892788974,.5152486363581541,.6872929048116855,.827201315069765,.9284348836635735,.9862838086968123],[0,.20119409399743451,.3941513470775634,.5709721726085388,.7244177313601701,.8482065834104272,.937273392400706,.9879925180204854],[.09501250983763744,.2816035507792589,.45801677765722737,.6178762444026438,.755404408355003,.8656312023878318,.9445750230732326,.9894009349916499]],weights:[[1],[.8888888888888888,.5555555555555556],[.6521451548625461,.34785484513745385],[.5688888888888889,.47862867049936647,.23692688505618908],[.46791393457269104,.3607615730481386,.17132449237917036],[.4179591836734694,.3818300505051189,.27970539148927664,.1294849661688697],[.362683783378362,.31370664587788727,.22238103445337448,.10122853629037626],[.3302393550012598,.31234707704000286,.26061069640293544,.1806481606948574,.08127438836157441],[.29552422471475287,.26926671930999635,.21908636251598204,.1494513491505806,.06667134430868814],[.2729250867779006,.26280454451024665,.23319376459199048,.18629021092773426,.1255803694649046,.05566856711617366],[.24914704581340277,.2334925365383548,.20316742672306592,.16007832854334622,.10693932599531843,.04717533638651183],[.2325515532308739,.22628318026289723,.2078160475368885,.17814598076194574,.13887351021978725,.09212149983772845,.04048400476531588],[.2152638534631578,.2051984637212956,.18553839747793782,.15720316715819355,.12151857068790319,.08015808715976021,.03511946033175186],[.2025782419255613,.19843148532711158,.1861610000155622,.16626920581699392,.13957067792615432,.10715922046717194,.07036604748810812,.03075324199611727],[.1894506104550685,.18260341504492358,.16915651939500254,.14959598881657674,.12462897125553388,.09515851168249279,.062253523938647894,.027152459411754096]]};function j(e,t,i,n,r){const s=1-e;return s*s*s*t+3*s*s*e*i+3*s*e*e*n+e*e*e*r}function F(e,t,i,n,r,s,o,a,l){const h=(l=l||M.RecursionLimit)+1;if(Math.abs(e-o)<.001&&Math.abs(t-a)<.001)return[new C(o,a)];const c=[];for(let l=0;l<h;l++){const u=l/h,d=j(u,e,i,r,o),f=j(u,t,n,s,a);c.push(new C(d,f))}return c}function L(e,t,i,n,r,s,o,a,l){if(e===i&&t===n&&r===o&&s===a){const i=o-e,n=a-t;return Math.sqrt(i*i+n*n)}const h=9*(i-r)+3*(o-e),c=6*(e+r)-12*i,u=3*(i-e),d=9*(n-s)+3*(a-t),f=6*(t+s)-12*n,p=3*(n-t);return I((function(e){const t=(h*e+c)*e+u,i=(d*e+f)*e+p;return Math.sqrt(t*t+i*i)}),0,1,l||M.RecursionLimit)}function O(e,t,i,n,r,s,o,a){const l=[],h=[[],[]];let c,u,d,f,p,g,m,y;for(let h=0;h<2;++h)if(0==h?(u=6*e-12*i+6*r,c=-3*e+9*i-9*r+3*o,d=3*i-3*e):(u=6*t-12*n+6*s,c=-3*t+9*n-9*s+3*a,d=3*n-3*t),Math.abs(c)<1e-12){if(Math.abs(u)<1e-12)continue;f=-d/u,0<f&&f<1&&l.push(f)}else m=u*u-4*d*c,y=Math.sqrt(m),m<0||(p=(-u+y)/(2*c),0<p&&p<1&&l.push(p),g=(-u-y)/(2*c),0<g&&g<1&&l.push(g));let _,v=l.length,x=v;for(;v--;)f=l[v],_=1-f,h[0][v]=_*_*_*e+3*_*_*f*i+3*_*f*f*r+f*f*f*o,h[1][v]=_*_*_*t+3*_*_*f*n+3*_*f*f*s+f*f*f*a;return h[0][x]=e,h[1][x]=t,h[0][x+1]=o,h[1][x+1]=a,h[0].length=h[1].length=x+2,{min:{x:Math.min.apply(0,h[0]),y:Math.min.apply(0,h[1])},max:{x:Math.max.apply(0,h[0]),y:Math.max.apply(0,h[1])}}}function I(e,t,i,n){let r=M.abscissas[n-2],s=M.weights[n-2],o=.5*(i-t),a=o+t,l=0,h=n+1>>1,c=1&n?s[l++]*e(a):0;for(;l<h;){const t=o*r[l];c+=s[l++]*(e(a+t)+e(a-t))}return o*c}function B(e,t){const i=e.length,n=i-1;for(let r=0;r<i;r++){const s=e[r],o=t?_(r-1,i):Math.max(r-1,0),a=t?_(r+1,i):Math.min(r+1,n),h=s;N(e[o],h,e[a]),h.command=0===r?l.move:l.curve}}function N(e,t,i){const n=T.angleBetween(e,t),r=T.angleBetween(i,t);let s=T.distanceBetween(e,t),o=T.distanceBetween(i,t),a=(n+r)/2;return s<1e-4||o<1e-4?("boolean"!=typeof t.relative||t.relative||(t.controls.left.copy(t),t.controls.right.copy(t)),t):(s*=.33,o*=.33,r<n?a+=u:a-=u,t.controls.left.x=Math.cos(a)*s,t.controls.left.y=Math.sin(a)*s,a-=Math.PI,t.controls.right.x=Math.cos(a)*o,t.controls.right.y=Math.sin(a)*o,"boolean"!=typeof t.relative||t.relative||(t.controls.left.x+=t.x,t.controls.left.y+=t.y,t.controls.right.x+=t.x,t.controls.right.y+=t.y),t)}function D(e,t,i){return new T(2*e.x-(t.x+e.x)-(i?e.x:0),2*e.y-(t.y+e.y)-(i?e.y:0))}function H(e,t,i,n,r,s,o){const a=P.Resolution,h=[];for(let e=0;e<a;e++){let t=(e+1)/a;o&&(t=1-t);const c=t*s+r,u=i*Math.cos(c),d=n*Math.sin(c),f=new C(u,d);f.command=l.line,h.push(f)}}var V=n.devicePixelRatio||1;function z(e){return V/function(e){return e.webkitBackingStorePixelRatio||e.mozBackingStorePixelRatio||e.msBackingStorePixelRatio||e.oBackingStorePixelRatio||e.backingStorePixelRatio||1}(e)}var q=Array.prototype.slice,W={isNaN:function(e){return"number"==typeof e&&e!==+e},isElement:function(e){return!(!e||1!==e.nodeType)},isObject:function(e){const t=typeof e;return"function"===t||"object"===t&&!!e},extend:function(e){const t=q.call(arguments,1);for(let i=0;i<t.length;i++){const n=t[i];for(let t in n)e[t]=n[t]}return e},defaults:function(e){const t=q.call(arguments,1);for(let i=0;i<t.length;i++){const n=t[i];for(let t in n)void 0===e[t]&&(e[t]=n[t])}return e},each:function(e,t,i){const n=i||this,r=!function(e){if(null==e)return!1;const t=e.length;return"number"==typeof t&&t>=0&&t<4294967296}(e)&&Object.keys(e),s=(r||e).length;for(let i=0;i<s;i++){const s=r?r[i]:i;t.call(n,e[s],s,e)}return e},performance:n.performance&&n.performance.now?n.performance:Date},U=class extends S{constructor(){super(),a(this,"_flagId",!1),a(this,"_flagClassName",!1),a(this,"_renderer",{}),a(this,"_id",""),a(this,"_className",""),a(this,"classList",[]);for(let e in X)Object.defineProperty(this,e,X[e])}flagReset(){this._flagId=this._flagClassName=!1}},X={renderer:{enumerable:!1,get:function(){return this._renderer}},id:{enumerable:!0,get:function(){return this._id},set:function(e){const t=this._id;e!==this._id&&(this._id=e,this._flagId=!0,this.parent&&(delete this.parent.children.ids[t],this.parent.children.ids[this._id]=this))}},className:{enumerable:!0,get:function(){return this._className},set:function(e){this._className!==e&&(this._flagClassName=!0,this.classList=e.split(/\s+?/),this._className=e)}}},$=Math.cos,Y=Math.sin,G=Math.tan,K=[],Q=class extends S{constructor(e,t,i,n,r,s){super(),a(this,"elements",new v(9)),a(this,"manual",!1);let o=e;Array.isArray(o)||(o=Array.prototype.slice.call(arguments)),this.identity(),o.length>0&&this.set(o)}static Multiply(e,t,i){if(t.length<=3){const i=e;let n,r,s;const o=t[0]||0,a=t[1]||0,l=t[2]||0;return n=i[0]*o+i[1]*a+i[2]*l,r=i[3]*o+i[4]*a+i[5]*l,s=i[6]*o+i[7]*a+i[8]*l,{x:n,y:r,z:s}}const n=e[0],r=e[1],s=e[2],o=e[3],a=e[4],l=e[5],h=e[6],c=e[7],u=e[8],d=t[0],f=t[1],p=t[2],g=t[3],m=t[4],y=t[5],_=t[6],x=t[7],b=t[8];return(i=i||new v(9))[0]=n*d+r*g+s*_,i[1]=n*f+r*m+s*x,i[2]=n*p+r*y+s*b,i[3]=o*d+a*g+l*_,i[4]=o*f+a*m+l*x,i[5]=o*p+a*y+l*b,i[6]=h*d+c*g+u*_,i[7]=h*f+c*m+u*x,i[8]=h*p+c*y+u*b,i}set(e,t,i,n,r,s,o,a,l){if(void 0===t){const h=e;e=h[0],t=h[1],i=h[2],n=h[3],r=h[4],s=h[5],o=h[6],a=h[7],l=h[8]}return this.elements[0]=e,this.elements[1]=t,this.elements[2]=i,this.elements[3]=n,this.elements[4]=r,this.elements[5]=s,this.elements[6]=o,this.elements[7]=a,this.elements[8]=l,this.trigger(S.Types.change)}copy(e){return this.elements[0]=e.elements[0],this.elements[1]=e.elements[1],this.elements[2]=e.elements[2],this.elements[3]=e.elements[3],this.elements[4]=e.elements[4],this.elements[5]=e.elements[5],this.elements[6]=e.elements[6],this.elements[7]=e.elements[7],this.elements[8]=e.elements[8],this.manual=e.manual,this.trigger(S.Types.change)}identity(){return this.elements[0]=Q.Identity[0],this.elements[1]=Q.Identity[1],this.elements[2]=Q.Identity[2],this.elements[3]=Q.Identity[3],this.elements[4]=Q.Identity[4],this.elements[5]=Q.Identity[5],this.elements[6]=Q.Identity[6],this.elements[7]=Q.Identity[7],this.elements[8]=Q.Identity[8],this.trigger(S.Types.change)}multiply(e,t,i,n,r,s,o,a,l){if(void 0===t)return this.elements[0]*=e,this.elements[1]*=e,this.elements[2]*=e,this.elements[3]*=e,this.elements[4]*=e,this.elements[5]*=e,this.elements[6]*=e,this.elements[7]*=e,this.elements[8]*=e,this.trigger(S.Types.change);if(void 0===n)return e=e||0,t=t||0,i=i||0,{x:(r=this.elements)[0]*e+r[1]*t+r[2]*i,y:r[3]*e+r[4]*t+r[5]*i,z:r[6]*e+r[7]*t+r[8]*i};const h=this.elements,c=[e,t,i,n,r,s,o,a,l],u=h[0],d=h[1],f=h[2],p=h[3],g=h[4],m=h[5],y=h[6],_=h[7],v=h[8],x=c[0],b=c[1],w=c[2],k=c[3],A=c[4],T=c[5],C=c[6],R=c[7],E=c[8];return this.elements[0]=u*x+d*k+f*C,this.elements[1]=u*b+d*A+f*R,this.elements[2]=u*w+d*T+f*E,this.elements[3]=p*x+g*k+m*C,this.elements[4]=p*b+g*A+m*R,this.elements[5]=p*w+g*T+m*E,this.elements[6]=y*x+_*k+v*C,this.elements[7]=y*b+_*A+v*R,this.elements[8]=y*w+_*T+v*E,this.trigger(S.Types.change)}inverse(e){const t=this.elements;e=e||new Q;const i=t[0],n=t[1],r=t[2],s=t[3],o=t[4],a=t[5],l=t[6],h=t[7],c=t[8],u=c*o-a*h,d=-c*s+a*l,f=h*s-o*l;let p=i*u+n*d+r*f;return p?(p=1/p,e.elements[0]=u*p,e.elements[1]=(-c*n+r*h)*p,e.elements[2]=(a*n-r*o)*p,e.elements[3]=d*p,e.elements[4]=(c*i-r*l)*p,e.elements[5]=(-a*i+r*s)*p,e.elements[6]=f*p,e.elements[7]=(-h*i+n*l)*p,e.elements[8]=(o*i-n*s)*p,e):null}scale(e,t){return arguments.length<=1&&(t=e),this.multiply(e,0,0,0,t,0,0,0,1)}rotate(e){const t=$(e),i=Y(e);return this.multiply(t,-i,0,i,t,0,0,0,1)}translate(e,t){return this.multiply(1,0,e,0,1,t,0,0,1)}skewX(e){const t=G(e);return this.multiply(1,t,0,0,1,0,0,0,1)}skewY(e){const t=G(e);return this.multiply(1,0,0,t,1,0,0,0,1)}toString(e){return K.length=0,this.toTransformArray(e,K),K.map(b).join(" ")}toTransformArray(e,t){const i=this.elements,n=!!t,r=i[0],s=i[1],o=i[2],a=i[3],l=i[4],h=i[5];if(e){const e=i[6],c=i[7],u=i[8];return n?(t[0]=r,t[1]=a,t[2]=e,t[3]=s,t[4]=l,t[5]=c,t[6]=o,t[7]=h,void(t[8]=u)):[r,a,e,s,l,c,o,h,u]}return n?(t[0]=r,t[1]=a,t[2]=s,t[3]=l,t[4]=o,void(t[5]=h)):[r,a,s,l,o,h]}toArray(e,t){const i=this.elements,n=!!t,r=i[0],s=i[1],o=i[2],a=i[3],l=i[4],h=i[5];if(e){const e=i[6],c=i[7],u=i[8];return n?(t[0]=r,t[1]=s,t[2]=o,t[3]=a,t[4]=l,t[5]=h,t[6]=e,t[7]=c,void(t[8]=u)):[r,s,o,a,l,h,e,c,u]}return n?(t[0]=r,t[1]=s,t[2]=o,t[3]=a,t[4]=l,void(t[5]=h)):[r,s,o,a,l,h]}toObject(){return{elements:this.toArray(!0),manual:!!this.manual}}clone(){return(new Q).copy(this)}},J=Q;a(J,"Identity",[1,0,0,0,1,0,0,0,1]),f(J);var Z=class extends U{constructor(){super(),a(this,"_flagMatrix",!0),a(this,"_flagScale",!1),a(this,"_matrix",null),a(this,"_worldMatrix",null),a(this,"_position",null),a(this,"_rotation",0),a(this,"_scale",1),a(this,"_skewX",0),a(this,"_skewY",0);for(let e in ee)Object.defineProperty(this,e,ee[e]);this._renderer.flagMatrix=te.bind(this),this.isShape=!0,this.id=P.Identifier+P.uniqueId(),this.matrix=new J,this.worldMatrix=new J,this.position=new T,this.rotation=0,this.scale=1,this.skewX=0,this.skewY=0}get renderer(){return this._renderer}set renderer(e){this._renderer=e}get translation(){return ee.position.get.apply(this,arguments)}set translation(e){ee.position.set.apply(this,arguments)}addTo(e){return e.add(this),this}remove(){return this.parent?(this.parent.remove(this),this):this}clone(e){const t=new Z;return t.position.copy(this.position),t.rotation=this.rotation,t.scale=this.scale,t.skewX=this.skewX,t.skewY=this.skewY,this.matrix.manual&&t.matrix.copy(this.matrix),e&&e.add(t),t._update()}_update(e){return!this._matrix.manual&&this._flagMatrix&&(this._matrix.identity().translate(this.position.x,this.position.y),this._scale instanceof T?this._matrix.scale(this._scale.x,this._scale.y):this._matrix.scale(this._scale),this._matrix.rotate(this.rotation),this._matrix.skewX(this.skewX),this._matrix.skewY(this.skewY)),e&&this.parent&&this.parent._update&&this.parent._update(),this}flagReset(){return this._flagMatrix=this._flagScale=!1,super.flagReset.call(this),this}},ee={position:{enumerable:!0,get:function(){return this._position},set:function(e){this._position&&this._position.unbind(S.Types.change,this._renderer.flagMatrix),this._position=e,this._position.bind(S.Types.change,this._renderer.flagMatrix),te.call(this)}},rotation:{enumerable:!0,get:function(){return this._rotation},set:function(e){this._rotation=e,this._flagMatrix=!0}},scale:{enumerable:!0,get:function(){return this._scale},set:function(e){this._scale instanceof T&&this._scale.unbind(S.Types.change,this._renderer.flagMatrix),this._scale=e,this._scale instanceof T&&this._scale.bind(S.Types.change,this._renderer.flagMatrix),this._flagMatrix=!0,this._flagScale=!0}},skewX:{enumerable:!0,get:function(){return this._skewX},set:function(e){this._skewX=e,this._flagMatrix=!0}},skewY:{enumerable:!0,get:function(){return this._skewY},set:function(e){this._skewY=e,this._flagMatrix=!0}},matrix:{enumerable:!0,get:function(){return this._matrix},set:function(e){this._matrix=e,this._flagMatrix=!0}},worldMatrix:{enumerable:!0,get:function(){return p(this,this._worldMatrix),this._worldMatrix},set:function(e){this._worldMatrix=e}}};function te(){this._flagMatrix=!0}var ie=class extends Array{constructor(){super(),a(this,"_events",new S),arguments[0]&&Array.isArray(arguments[0])?arguments[0].length>0&&this.push.apply(this,arguments[0]):arguments.length>0&&this.push.apply(this,arguments)}get _bound(){return this._events._bound}set _bound(e){this._events._bound=e}addEventListener(){return this._events.addEventListener.apply(this,arguments)}on(){return this._events.on.apply(this,arguments)}bind(){return this._events.bind.apply(this,arguments)}removeEventListener(){return this._events.removeEventListener.apply(this,arguments)}off(){return this._events.off.apply(this,arguments)}unbind(){return this._events.unbind.apply(this,arguments)}dispatchEvent(){return this._events.dispatchEvent.apply(this,arguments)}trigger(){return this._events.trigger.apply(this,arguments)}listen(){return this._events.listen.apply(this,arguments)}ignore(){return this._events.ignore.apply(this,arguments)}pop(){const e=super.pop.apply(this,arguments);return this.trigger(S.Types.remove,[e]),e}shift(){const e=super.shift.apply(this,arguments);return this.trigger(S.Types.remove,[e]),e}push(){const e=super.push.apply(this,arguments);return this.trigger(S.Types.insert,arguments),e}unshift(){const e=super.unshift.apply(this,arguments);return this.trigger(S.Types.insert,arguments),e}splice(){const e=super.splice.apply(this,arguments);if(this.trigger(S.Types.remove,e),arguments.length>2){const e=this.slice(arguments[0],arguments[0]+arguments.length-2);this.trigger(S.Types.insert,e),this.trigger(S.Types.order)}return e}sort(){return super.sort.apply(this,arguments),this.trigger(S.Types.order),this}reverse(){return super.reverse.apply(this,arguments),this.trigger(S.Types.order),this}indexOf(){return super.indexOf.apply(this,arguments)}},ne=class extends ie{constructor(e){super(e=Array.isArray(e)?e:Array.prototype.slice.call(arguments)),a(this,"ids",{}),this.attach(e),this.on(S.Types.insert,this.attach),this.on(S.Types.remove,this.detach)}attach(e){for(let t=0;t<e.length;t++){const i=e[t];i&&i.id&&(this.ids[i.id]=i)}return this}detach(e){for(let t=0;t<e.length;t++)delete this.ids[e[t].id];return this}},re=Math.min,se=Math.max,oe=class extends Z{constructor(e){super(),a(this,"_flagAdditions",!1),a(this,"_flagSubtractions",!1),a(this,"_flagOrder",!1),a(this,"_flagOpacity",!0),a(this,"_flagBeginning",!1),a(this,"_flagEnding",!1),a(this,"_flagLength",!1),a(this,"_flagMask",!1),a(this,"_fill","#fff"),a(this,"_stroke","#000"),a(this,"_linewidth",1),a(this,"_opacity",1),a(this,"_visible",!0),a(this,"_cap","round"),a(this,"_join","round"),a(this,"_miter",4),a(this,"_closed",!0),a(this,"_curved",!1),a(this,"_automatic",!0),a(this,"_beginning",0),a(this,"_ending",1),a(this,"_length",0),a(this,"_mask",null);for(let e in le)Object.defineProperty(this,e,le[e]);this._renderer.type="group",this.additions=[],this.subtractions=[],this.children=Array.isArray(e)?e:Array.prototype.slice.call(arguments)}static InsertChildren(e){for(let t=0;t<e.length;t++)he.call(this,e[t],this)}static RemoveChildren(e){for(let t=0;t<e.length;t++)he.call(this,e[t])}static OrderChildren(e){this._flagOrder=!0}clone(e){const t=new oe,i=this.children.map((function(e){return e.clone()}));return t.add(i),t.opacity=this.opacity,this.mask&&(t.mask=this.mask),t.translation.copy(this.translation),t.rotation=this.rotation,t.scale=this.scale,t.className=this.className,this.matrix.manual&&t.matrix.copy(this.matrix),e&&e.add(t),t._update()}toObject(){const e={children:[],translation:this.translation.toObject(),rotation:this.rotation,scale:this.scale instanceof T?this.scale.toObject():this.scale,opacity:this.opacity,className:this.className,mask:this.mask?this.mask.toObject():null};return this.matrix.manual&&(e.matrix=this.matrix.toObject()),W.each(this.children,(function(t,i){e.children[i]=t.toObject()}),this),e}corner(){const e=this.getBoundingClientRect(!0);for(let t=0;t<this.children.length;t++){const i=this.children[t];i.translation.x-=e.left,i.translation.y-=e.top}return this.mask&&(this.mask.translation.x-=e.left,this.mask.translation.y-=e.top),this}center(){const e=this.getBoundingClientRect(!0),t=e.left+e.width/2-this.translation.x,i=e.top+e.height/2-this.translation.y;for(let e=0;e<this.children.length;e++){const n=this.children[e];n.isShape&&(n.translation.x-=t,n.translation.y-=i)}return this.mask&&(this.mask.translation.x-=t,this.mask.translation.y-=i),this}getById(e){let t=null;return function i(n){if(n.id===e)return n;if(n.children)for(let e=0;e<n.children.length;e++)if(t=i(n.children[e]),t)return t;return null}(this)}getByClassName(e){const t=[];return function i(n){if(Array.prototype.indexOf.call(n.classList,e)>=0&&t.push(n),n.children)for(let e=0;e<n.children.length;e++)i(n.children[e]);return t}(this)}getByType(e){const t=[];return function i(n){if(n instanceof e&&t.push(n),n.children)for(let e=0;e<n.children.length;e++)i(n.children[e]);return t}(this)}add(e){e=e instanceof Array?e.slice():Array.prototype.slice.call(arguments);for(let t=0;t<e.length;t++){const i=e[t];if(!i||!i.id)continue;const n=Array.prototype.indexOf.call(this.children,i);n>=0&&this.children.splice(n,1),this.children.push(i)}return this}remove(e){const t=arguments.length,i=this.parent;if(t<=0&&i)return i.remove(this),this;e=e instanceof Array?e.slice():Array.prototype.slice.call(arguments);for(let t=0;t<e.length;t++){const i=e[t];if(!i||!this.children.ids[i.id])continue;const n=this.children.indexOf(i);n>=0&&this.children.splice(n,1)}return this}getBoundingClientRect(e){let t,i,n,r,s,o,a,l,h,c;this._update(!0);let u=1/0,d=-1/0,f=1/0,g=-1/0;const m=/texture|gradient/i;i=e?this._matrix:p(this);for(let i=0;i<this.children.length;i++){const n=this.children[i];n.visible&&!m.test(n._renderer.type)&&(t=n.getBoundingClientRect(e),a="number"!=typeof t.top||W.isNaN(t.top)||!isFinite(t.top),l="number"!=typeof t.left||W.isNaN(t.left)||!isFinite(t.left),h="number"!=typeof t.right||W.isNaN(t.right)||!isFinite(t.right),c="number"!=typeof t.bottom||W.isNaN(t.bottom)||!isFinite(t.bottom),a||l||h||c||(f=re(t.top,f),u=re(t.left,u),d=se(t.right,d),g=se(t.bottom,g)))}return e&&(n=i.multiply(u,f,1),r=i.multiply(u,g,1),s=i.multiply(d,f,1),o=i.multiply(d,g,1),f=re(n.y,r.y,s.y,o.y),u=re(n.x,r.x,s.x,o.x),d=se(n.x,r.x,s.x,o.x),g=se(n.y,r.y,s.y,o.y)),{top:f,left:u,right:d,bottom:g,width:d-u,height:g-f}}noFill(){return this.children.forEach((function(e){e.noFill()})),this}noStroke(){return this.children.forEach((function(e){e.noStroke()})),this}subdivide(){const e=arguments;return this.children.forEach((function(t){t.subdivide.apply(t,e)})),this}_update(){let e,t,i;if(this._flagBeginning||this._flagEnding){const n=Math.min(this._beginning,this._ending),r=Math.max(this._beginning,this._ending),s=this.length;let o=0;const a=n*s,l=r*s;for(e=0;e<this.children.length;e++)i=this.children[e],t=i.length,a>o+t?(i.beginning=1,i.ending=1):l<o?(i.beginning=0,i.ending=0):a>o&&a<o+t?(i.beginning=(a-o)/t,i.ending=1):l>o&&l<o+t?(i.beginning=0,i.ending=(l-o)/t):(i.beginning=0,i.ending=1),o+=t}return super._update.apply(this,arguments)}flagReset(){return this._flagAdditions&&(this.additions.length=0,this._flagAdditions=!1),this._flagSubtractions&&(this.subtractions.length=0,this._flagSubtractions=!1),this._flagOrder=this._flagMask=this._flagOpacity=this._flagBeginning=this._flagEnding=!1,super.flagReset.call(this),this}},ae=oe;a(ae,"Children",ne),a(ae,"Properties",["fill","stroke","linewidth","cap","join","miter","closed","curved","automatic"]);var le={visible:{enumerable:!0,get:function(){return this._visible},set:function(e){this._flagVisible=this._visible!==e||this._flagVisible,this._visible=e}},opacity:{enumerable:!0,get:function(){return this._opacity},set:function(e){this._flagOpacity=this._opacity!==e||this._flagOpacity,this._opacity=e}},beginning:{enumerable:!0,get:function(){return this._beginning},set:function(e){this._flagBeginning=this._beginning!==e||this._flagBeginning,this._beginning=e}},ending:{enumerable:!0,get:function(){return this._ending},set:function(e){this._flagEnding=this._ending!==e||this._flagEnding,this._ending=e}},length:{enumerable:!0,get:function(){if(this._flagLength||this._length<=0){if(this._length=0,!this.children)return this._length;for(let e=0;e<this.children.length;e++){const t=this.children[e];this._length+=t.length}}return this._length}},fill:{enumerable:!0,get:function(){return this._fill},set:function(e){this._fill=e;for(let t=0;t<this.children.length;t++)this.children[t].fill=e}},stroke:{enumerable:!0,get:function(){return this._stroke},set:function(e){this._stroke=e;for(let t=0;t<this.children.length;t++)this.children[t].stroke=e}},linewidth:{enumerable:!0,get:function(){return this._linewidth},set:function(e){this._linewidth=e;for(let t=0;t<this.children.length;t++)this.children[t].linewidth=e}},join:{enumerable:!0,get:function(){return this._join},set:function(e){this._join=e;for(let t=0;t<this.children.length;t++)this.children[t].join=e}},miter:{enumerable:!0,get:function(){return this._miter},set:function(e){this._miter=e;for(let t=0;t<this.children.length;t++)this.children[t].miter=e}},cap:{enumerable:!0,get:function(){return this._cap},set:function(e){this._cap=e;for(let t=0;t<this.children.length;t++)this.children[t].cap=e}},closed:{enumerable:!0,get:function(){return this._closed},set:function(e){this._closed=e;for(let t=0;t<this.children.length;t++)this.children[t].closed=e}},curved:{enumerable:!0,get:function(){return this._curved},set:function(e){this._curved=e;for(let t=0;t<this.children.length;t++)this.children[t].curved=e}},automatic:{enumerable:!0,get:function(){return this._automatic},set:function(e){this._automatic=e;for(let t=0;t<this.children.length;t++)this.children[t].automatic=e}},children:{enumerable:!0,get:function(){return this._children},set:function(e){const t=ae.InsertChildren.bind(this),i=ae.RemoveChildren.bind(this),n=ae.OrderChildren.bind(this);this._children&&(this._children.unbind(),this._children.length>0&&i(this._children)),this._children=new ne(e),this._children.bind(S.Types.insert,t),this._children.bind(S.Types.remove,i),this._children.bind(S.Types.order,n),e.length>0&&t(e)}},mask:{enumerable:!0,get:function(){return this._mask},set:function(e){this._mask=e,this._flagMask=!0,W.isObject(e)&&!e.clip&&(e.clip=!0)}}};function he(e,t){const i=e.parent;let n;function r(){t.subtractions.length>0&&(n=Array.prototype.indexOf.call(t.subtractions,e),n>=0&&t.subtractions.splice(n,1)),t.additions.length>0&&(n=Array.prototype.indexOf.call(t.additions,e),n>=0&&t.additions.splice(n,1)),e.parent=t,t.additions.push(e),t._flagAdditions=!0}function s(){n=Array.prototype.indexOf.call(i.additions,e),n>=0&&i.additions.splice(n,1),n=Array.prototype.indexOf.call(i.subtractions,e),n<0&&(i.subtractions.push(e),i._flagSubtractions=!0)}i!==t?(i&&i.children.ids[e.id]&&(n=Array.prototype.indexOf.call(i.children,e),i.children.splice(n,1),s()),t?r():(s(),i._flagAdditions&&0===i.additions.length&&(i._flagAdditions=!1),i._flagSubtractions&&0===i.subtractions.length&&(i._flagSubtractions=!1),delete e.parent)):r()}var ce=new J,ue=[],de=Math.max,fe=Math.min,pe=Math.abs,ge=Math.sin,me=Math.cos,ye=Math.acos,_e=Math.sqrt,ve={isHidden:/(undefined|none|transparent)/i,alignments:{left:"start",middle:"center",right:"end"},shim:function(e,t){return e.tagName=e.nodeName=t||"canvas",e.nodeType=1,e.getAttribute=function(e){return this[e]},e.setAttribute=function(e,t){return this[e]=t,this},e},group:{renderChild:function(e){ve[e._renderer.type].render.call(e,this.ctx,!0,this.clip)},render:function(e){if(!this._visible)return this;this._update();const t=this._matrix.elements,i=this.parent;this._renderer.opacity=this._opacity*(i&&i._renderer?i._renderer.opacity:1);const n=this._mask,r=we(t),s=!r||!!n;if(this._renderer.context||(this._renderer.context={}),this._renderer.context.ctx=e,s&&(e.save(),r||e.transform(t[0],t[3],t[1],t[4],t[2],t[5])),n&&ve[n._renderer.type].render.call(n,e,!0),this._opacity>0&&0!==this._scale)for(let t=0;t<this.children.length;t++){const i=this.children[t];ve[i._renderer.type].render.call(i,e)}return s&&e.restore(),this.flagReset()}},path:{render:function(e,t,i){let n,r,s,o,a,h,c,u,d,f,p,g,m,y,v,x,b,w,S,k,A,C,R,E,P,M,j,F,L,O,I,B,N,D,H,V,z,q,W,U,X;if(D=this.parent&&this.parent._renderer?this.parent._renderer.opacity:1,L=this._mask,O=this._clip,a=this._opacity*(D||1),h=this._visible,!t&&(!h||O||0===a))return this;this._update(),n=this._matrix.elements,r=this._stroke,s=this._linewidth,o=this._fill,c=this._cap,u=this._join,d=this._miter,f=this._closed,p=this._renderer.vertices,g=p.length,m=g-1,I=we(n),N=this.dashes,I||(e.save(),e.transform(n[0],n[3],n[1],n[4],n[2],n[5])),L&&ve[L._renderer.type].render.call(L,e,!0),o&&("string"==typeof o?e.fillStyle=o:(ve[o._renderer.type].render.call(o,e,this),e.fillStyle=o._renderer.effect)),r&&("string"==typeof r?e.strokeStyle=r:(ve[r._renderer.type].render.call(r,e,this),e.strokeStyle=r._renderer.effect),s&&(e.lineWidth=s),d&&(e.miterLimit=d),u&&(e.lineJoin=u),!f&&c&&(e.lineCap=c)),"number"==typeof a&&(e.globalAlpha=a),N&&N.length>0&&(e.lineDashOffset=N.offset||0,e.setLineDash(N)),e.beginPath();for(let t=0;t<g;t++)switch(x=p[t],j=x.x,F=x.y,x.command){case l.close:e.closePath();break;case l.arc:H=x.rx,V=x.ry,z=x.xAxisRotation,q=x.largeArcFlag,W=x.sweepFlag,y=f?_(t-1,g):de(t-1,0),v=p[y],U=v.x,X=v.y,ve.renderSvgArcCommand(e,U,X,H,V,q,W,z,j,F);break;case l.curve:y=f?_(t-1,g):Math.max(t-1,0),v=p[y],R=v.controls&&v.controls.right||T.zero,E=x.controls&&x.controls.left||T.zero,v._relative?(A=R.x+v.x,C=R.y+v.y):(A=R.x,C=R.y),x._relative?(S=E.x+x.x,k=E.y+x.y):(S=E.x,k=E.y),e.bezierCurveTo(A,C,S,k,j,F),t>=m&&f&&(b=w,P=x.controls&&x.controls.right||T.zero,M=b.controls&&b.controls.left||T.zero,x._relative?(A=P.x+x.x,C=P.y+x.y):(A=P.x,C=P.y),b._relative?(S=M.x+b.x,k=M.y+b.y):(S=M.x,k=M.y),j=b.x,F=b.y,e.bezierCurveTo(A,C,S,k,j,F));break;case l.line:e.lineTo(j,F);break;case l.move:w=x,e.moveTo(j,F)}return f&&e.closePath(),O||i||(ve.isHidden.test(o)||(B=o._renderer&&o._renderer.offset,B&&(e.save(),e.translate(-o._renderer.offset.x,-o._renderer.offset.y),e.scale(o._renderer.scale.x,o._renderer.scale.y)),e.fill(),B&&e.restore()),ve.isHidden.test(r)||(B=r._renderer&&r._renderer.offset,B&&(e.save(),e.translate(-r._renderer.offset.x,-r._renderer.offset.y),e.scale(r._renderer.scale.x,r._renderer.scale.y),e.lineWidth=s/r._renderer.scale.x),e.stroke(),B&&e.restore())),I||e.restore(),O&&!i&&e.clip(),N&&N.length>0&&e.setLineDash(ue),this.flagReset()}},points:{render:function(e,t,i){let n,r,s,o,a,l,h,u,f,g,m,y,_,v,x,b;if(b=this.parent&&this.parent._renderer?this.parent._renderer.opacity:1,a=this._opacity*(b||1),l=this._visible,!(t||l&&0!==a))return this;this._update(),n=this._matrix.elements,r=this._stroke,s=this._linewidth,o=this._fill,u=this._renderer.collection,f=u.length,_=we(n),x=this.dashes,h=this._size,_||(e.save(),e.transform(n[0],n[3],n[1],n[4],n[2],n[5])),o&&("string"==typeof o?e.fillStyle=o:(ve[o._renderer.type].render.call(o,e,this),e.fillStyle=o._renderer.effect)),r&&("string"==typeof r?e.strokeStyle=r:(ve[r._renderer.type].render.call(r,e,this),e.strokeStyle=r._renderer.effect),s&&(e.lineWidth=s)),"number"==typeof a&&(e.globalAlpha=a),x&&x.length>0&&(e.lineDashOffset=x.offset||0,e.setLineDash(x)),e.beginPath();let w,S=.5*h;this._sizeAttenuation||(p(this,ce),w=ce.elements,w=d(w[0],w[3],w[1],w[4],w[2],w[5]),S/=Math.max(w.scaleX,w.scaleY));for(let t=0;t<f;t++)g=u[t],m=g.x,y=g.y,e.moveTo(m+S,y),e.arc(m,y,S,0,c);return i||(ve.isHidden.test(o)||(v=o._renderer&&o._renderer.offset,v&&(e.save(),e.translate(-o._renderer.offset.x,-o._renderer.offset.y),e.scale(o._renderer.scale.x,o._renderer.scale.y)),e.fill(),v&&e.restore()),ve.isHidden.test(r)||(v=r._renderer&&r._renderer.offset,v&&(e.save(),e.translate(-r._renderer.offset.x,-r._renderer.offset.y),e.scale(r._renderer.scale.x,r._renderer.scale.y),e.lineWidth=s/r._renderer.scale.x),e.stroke(),v&&e.restore())),_||e.restore(),x&&x.length>0&&e.setLineDash(ue),this.flagReset()}},text:{render:function(e,t,i){const n=this.parent&&this.parent._renderer?this.parent._renderer.opacity:1,r=this._opacity*n,s=this._visible,o=this._mask,a=this._clip;if(!t&&(!s||a||0===r))return this;this._update();const l=this._matrix.elements,h=this._stroke,c=this._linewidth,u=this._fill,d=this._decoration,f=we(l),p=u._renderer&&u._renderer.offset&&h._renderer&&h._renderer.offset,g=this.dashes,m=ve.alignments[this._alignment]||this._alignment,y=this._baseline;let _,v,x,b,w,S,k,A,T,C,R;if(f||(e.save(),e.transform(l[0],l[3],l[1],l[4],l[2],l[5])),o&&ve[o._renderer.type].render.call(o,e,!0),p||(e.font=[this._style,this._weight,this._size+"px/"+this._leading+"px",this._family].join(" ")),e.textAlign=m,e.textBaseline=y,u&&("string"==typeof u?e.fillStyle=u:(ve[u._renderer.type].render.call(u,e,this),e.fillStyle=u._renderer.effect)),h&&("string"==typeof h?e.strokeStyle=h:(ve[h._renderer.type].render.call(h,e,this),e.strokeStyle=h._renderer.effect),c&&(e.lineWidth=c)),"number"==typeof r&&(e.globalAlpha=r),g&&g.length>0&&(e.lineDashOffset=g.offset||0,e.setLineDash(g)),a||i||(ve.isHidden.test(u)||(u._renderer&&u._renderer.offset?(S=u._renderer.scale.x,k=u._renderer.scale.y,e.save(),e.translate(-u._renderer.offset.x,-u._renderer.offset.y),e.scale(S,k),_=this._size/u._renderer.scale.y,v=this._leading/u._renderer.scale.y,e.font=[this._style,this._weight,_+"px/",v+"px",this._family].join(" "),x=u._renderer.offset.x/u._renderer.scale.x,b=u._renderer.offset.y/u._renderer.scale.y,e.fillText(this.value,x,b),e.restore()):e.fillText(this.value,0,0)),ve.isHidden.test(h)||(h._renderer&&h._renderer.offset?(S=h._renderer.scale.x,k=h._renderer.scale.y,e.save(),e.translate(-h._renderer.offset.x,-h._renderer.offset.y),e.scale(S,k),_=this._size/h._renderer.scale.y,v=this._leading/h._renderer.scale.y,e.font=[this._style,this._weight,_+"px/",v+"px",this._family].join(" "),x=h._renderer.offset.x/h._renderer.scale.x,b=h._renderer.offset.y/h._renderer.scale.y,w=c/h._renderer.scale.x,e.lineWidth=w,e.strokeText(this.value,x,b),e.restore()):e.strokeText(this.value,0,0))),/(underline|strikethrough)/i.test(d)){const t=e.measureText(this.value);let i=1;switch(d){case"underline":T=t.actualBoundingBoxAscent,R=t.actualBoundingBoxAscent;break;case"strikethrough":T=0,R=0,i=.5}switch(y){case"top":T+=this._size*i,R+=this._size*i;break;case"baseline":case"bottom":T-=this._size*i,R-=this._size*i}switch(m){case"left":case"start":A=0,C=t.width;break;case"right":case"end":A=-t.width,C=0;break;default:A=-t.width/2,C=t.width/2}e.lineWidth=Math.max(Math.floor(this._size/15),1),e.strokeStyle=e.fillStyle,e.beginPath(),e.moveTo(A,T),e.lineTo(C,R),e.stroke()}return f||e.restore(),a&&!i&&e.clip(),g&&g.length>0&&e.setLineDash(ue),this.flagReset()}},"linear-gradient":{render:function(e,t){if(t){if(this._update(),!this._renderer.effect||this._flagEndPoints||this._flagStops||this._flagUnits){let i,n=this.left._x,r=this.left._y,s=this.right._x,o=this.right._y;/objectBoundingBox/i.test(this._units)&&(i=t.getBoundingClientRect(!0),n=(n-.5)*i.width,r=(r-.5)*i.height,s=(s-.5)*i.width,o=(o-.5)*i.height),this._renderer.effect=e.createLinearGradient(n,r,s,o);for(let e=0;e<this.stops.length;e++){const t=this.stops[e];this._renderer.effect.addColorStop(t._offset,t._color)}}return this.flagReset()}}},"radial-gradient":{render:function(e,t){if(t){if(this._update(),!this._renderer.effect||this._flagCenter||this._flagFocal||this._flagRadius||this._flagStops||this._flagUnits){let i,n=this.center._x,r=this.center._y,s=this.focal._x,o=this.focal._y,a=this._radius;/objectBoundingBox/i.test(this._units)&&(i=t.getBoundingClientRect(!0),n=n*i.width*.5,r=r*i.height*.5,s=s*i.width*.5,o=o*i.height*.5,a*=.5*Math.min(i.width,i.height)),this._renderer.effect=e.createRadialGradient(n,r,0,s,o,a);for(let e=0;e<this.stops.length;e++){const t=this.stops[e];this._renderer.effect.addColorStop(t._offset,t._color)}}return this.flagReset()}}},texture:{render:function(e){this._update();const t=this.image;return(!this._renderer.effect||(this._flagLoaded||this._flagImage||this._flagVideo||this._flagRepeat)&&this.loaded)&&(this._renderer.effect=e.createPattern(this.image,this._repeat)),(this._flagOffset||this._flagLoaded||this._flagScale)&&(this._renderer.offset instanceof T||(this._renderer.offset=new T),this._renderer.offset.x=-this._offset.x,this._renderer.offset.y=-this._offset.y,t&&(this._renderer.offset.x+=t.width/2,this._renderer.offset.y+=t.height/2,this._scale instanceof T?(this._renderer.offset.x*=this._scale.x,this._renderer.offset.y*=this._scale.y):(this._renderer.offset.x*=this._scale,this._renderer.offset.y*=this._scale))),(this._flagScale||this._flagLoaded)&&(this._renderer.scale instanceof T||(this._renderer.scale=new T),this._scale instanceof T?this._renderer.scale.copy(this._scale):this._renderer.scale.set(this._scale,this._scale)),this.flagReset()}},renderSvgArcCommand:function(e,t,i,n,r,s,o,a,l,h){a=a*Math.PI/180,n=pe(n),r=pe(r);const u=(t-l)/2,d=(i-h)/2,f=me(a)*u+ge(a)*d,p=-ge(a)*u+me(a)*d,g=f*f,m=p*p;let y=n*n,v=r*r;const x=g/y+m/v;if(x>1){const e=_e(x);y=(n*=e)*n,v=(r*=e)*r}const b=y*m+v*g;let w=_e(de(0,(y*v-b)/b));s===o&&(w=-w);const S=w*n*p/r,k=-w*r*f/n,A=me(a)*S-ge(a)*k+(t+l)/2,T=ge(a)*S+me(a)*k+(i+h)/2,C=be(1,0,(f-S)/n,(p-k)/r);!function(e,t,i,n,r,s,o,a,l){const h=o-s,u=M.Tolerance.epsilon,d=Math.abs(h)<u;let f=_(h,c);f<u&&(f=d?0:c),!0!==a||d||(f===c?f=-c:f-=c);for(let o=0;o<P.Resolution;o++){const a=s+o/(P.Resolution-1)*f;let h=t+n*Math.cos(a),c=i+r*Math.sin(a);if(0!==l){const e=Math.cos(l),n=Math.sin(l),r=h-t,s=c-i;h=r*e-s*n+t,c=r*n+s*e+i}e.lineTo(h,c)}}(e,A,T,n,r,C,C+be((f-S)/n,(p-k)/r,(-f-S)/n,(-p-k)/r)%c,0===o,a)}},xe=class extends S{constructor(e){super();const t=!1!==e.smoothing;this.domElement=e.domElement||document.createElement("canvas"),this.ctx=this.domElement.getContext("2d"),this.overdraw=e.overdraw||!1,void 0!==this.ctx.imageSmoothingEnabled&&(this.ctx.imageSmoothingEnabled=t),this.scene=new ae,this.scene.parent=this}setSize(e,t,i){return this.width=e,this.height=t,this.ratio=void 0===i?z(this.ctx):i,this.domElement.width=e*this.ratio,this.domElement.height=t*this.ratio,this.domElement.style&&W.extend(this.domElement.style,{width:e+"px",height:t+"px"}),this.trigger(S.Types.resize,e,t,i)}render(){const e=1===this.ratio;return e||(this.ctx.save(),this.ctx.scale(this.ratio,this.ratio)),this.overdraw||this.ctx.clearRect(0,0,this.width,this.height),ve.group.render.call(this.scene,this.ctx),e||this.ctx.restore(),this}};function be(e,t,i,n){const r=e*i+t*n,s=_e(e*e+t*t)*_e(i*i+n*n);let o=ye(de(-1,fe(1,r/s)));return e*n-t*i<0&&(o=-o),o}function we(e){return 1==e[0]&&0==e[3]&&0==e[1]&&1==e[4]&&0==e[2]&&0==e[5]}a(xe,"Utils",ve);var Se={Image:null,isHeadless:!1,shim:function(e,t){return xe.Utils.shim(e),void 0!==t&&(Se.Image=t),Se.isHeadless=!0,e}},ke={hasEventListeners:"function"==typeof n.addEventListener,bind:function(e,t,i,n){return this.hasEventListeners?e.addEventListener(t,i,!!n):e.attachEvent("on"+t,i),ke},unbind:function(e,t,i,n){return ke.hasEventListeners?e.removeEventListeners(t,i,!!n):e.detachEvent("on"+t,i),ke},getRequestAnimationFrame:function(){const e=["ms","moz","webkit","o"];let t=0,i=n.requestAnimationFrame;if(!i){for(let t=0;t<e.length;t++)i=n[e[t]+"RequestAnimationFrame"]||i;i=i||function(e,i){const r=(new Date).getTime(),s=Math.max(0,16-(r-t)),o=n.setTimeout((function(){e(r+s)}),s);return t=r+s,o}}return i}},Ae=n.document?n.document.createElement("div"):{};Ae.id="help-two-load",Object.defineProperty(ke,"temp",{enumerable:!0,get:function(){return W.isElement(Ae)&&!n.document.head.contains(Ae)&&(Ae.style.display="none",n.document.head.appendChild(Ae)),Ae}});var Te=class extends Error{constructor(e){super(),a(this,"name","Two.js"),a(this,"message"),this.message=e}},Ce=class{constructor(){a(this,"map",{})}add(e,t){return this.map[e]=t,this}remove(e){return delete this.map[e],this}get(e){return this.map[e]}contains(e){return e in this.map}};function Re(e,t){if(0===t||1===t)return!0;const i=e._length*t;let n=0;for(let t=0;t<e._lengths.length;t++){const r=e._lengths[t];if(n>=i)return i-n>=0;n+=r}return!1}function Ee(e,t){const i=e._length;if(t<=0)return 0;if(t>=i)return e._lengths.length-1;for(let i=0,n=0;i<e._lengths.length;i++){if(n+e._lengths[i]>=t)return t-=n,Math.max(i-1,0)+t/e._lengths[i];n+=e._lengths[i]}return-1}function Pe(e,t,i){let n,r,s,o,a,l,h,c;const u=t.controls&&t.controls.right,d=e.controls&&e.controls.left;return n=t.x,a=t.y,r=(u||t).x,l=(u||t).y,s=(d||e).x,h=(d||e).y,o=e.x,c=e.y,u&&t._relative&&(r+=t.x,l+=t.y),d&&e._relative&&(s+=e.x,h+=e.y),L(n,a,r,l,s,h,o,c,i)}function Me(e,t,i){let n,r,s,o,a,l,h,c;const u=t.controls&&t.controls.right,d=e.controls&&e.controls.left;return n=t.x,a=t.y,r=(u||t).x,l=(u||t).y,s=(d||e).x,h=(d||e).y,o=e.x,c=e.y,u&&t._relative&&(r+=t.x,l+=t.y),d&&e._relative&&(s+=e.x,h+=e.y),F(n,a,r,l,s,h,o,c,i)}var je=class extends U{constructor(e,t,i){super(),a(this,"_flagOffset",!0),a(this,"_flagOpacity",!0),a(this,"_flagColor",!0),a(this,"_offset",0),a(this,"_opacity",1),a(this,"_color","#fff");for(let e in Le)Object.defineProperty(this,e,Le[e]);this._renderer.type="stop",this.offset="number"==typeof e?e:je.Index<=0?0:1,this.opacity="number"==typeof i?i:1,this.color="string"==typeof t?t:je.Index<=0?"#fff":"#000",je.Index=(je.Index+1)%2}clone(e){const t=new je;return W.each(je.Properties,(function(e){t[e]=this[e]}),this),e&&e.stops&&e.stops.push(t),t}toObject(){const e={};return W.each(je.Properties,(function(t){e[t]=this[t]}),this),e}flagReset(){return this._flagOffset=this._flagColor=this._flagOpacity=!1,super.flagReset.call(this),this}},Fe=je;a(Fe,"Index",0),a(Fe,"Properties",["offset","opacity","color"]);var Le={offset:{enumerable:!0,get:function(){return this._offset},set:function(e){this._offset=e,this._flagOffset=!0,this.parent&&(this.parent._flagStops=!0)}},opacity:{enumerable:!0,get:function(){return this._opacity},set:function(e){this._opacity=e,this._flagOpacity=!0,this.parent&&(this.parent._flagStops=!0)}},color:{enumerable:!0,get:function(){return this._color},set:function(e){this._color=e,this._flagColor=!0,this.parent&&(this.parent._flagStops=!0)}}},Oe=class extends U{constructor(e){super(),a(this,"_flagStops",!1),a(this,"_flagSpread",!1),a(this,"_flagUnits",!1),a(this,"_spread",""),a(this,"_units","");for(let e in Be)Object.defineProperty(this,e,Be[e]);this._renderer.type="gradient",this.id=P.Identifier+P.uniqueId(),this.classList=[],this._renderer.flagStops=Ne.bind(this),this._renderer.bindStops=De.bind(this),this._renderer.unbindStops=He.bind(this),this.spread="pad",this.units="objectBoundingBox",e&&(this.stops=e)}clone(e){const t=this.stops.map((function(e){return e.clone()})),i=new Oe(t);return W.each(Oe.Properties,(function(e){i[e]=this[e]}),this),e&&e.add(i),i}toObject(){const e={stops:this.stops.map((function(e){return e.toObject()}))};return W.each(Oe.Properties,(function(t){e[t]=this[t]}),this),e}_update(){return(this._flagSpread||this._flagStops)&&this.trigger(S.Types.change),this}flagReset(){return this._flagSpread=this._flagUnits=this._flagStops=!1,super.flagReset.call(this),this}},Ie=Oe;a(Ie,"Stop",Fe),a(Ie,"Properties",["spread","stops","renderer","units"]);var Be={spread:{enumerable:!0,get:function(){return this._spread},set:function(e){this._spread=e,this._flagSpread=!0}},units:{enumerable:!0,get:function(){return this._units},set:function(e){this._units=e,this._flagUnits=!0}},stops:{enumerable:!0,get:function(){return this._stops},set:function(e){const t=this._renderer.bindStops,i=this._renderer.unbindStops;this._stops&&this._stops.unbind(S.Types.insert,t).unbind(S.Types.remove,i),this._stops=new ie((e||[]).slice(0)),this._stops.bind(S.Types.insert,t).bind(S.Types.remove,i),t(this._stops)}}};function Ne(){this._flagStops=!0}function De(e){let t=e.length;for(;t--;)e[t].bind(S.Types.change,this._renderer.flagStops),e[t].parent=this;this._renderer.flagStops()}function He(e){let t=e.length;for(;t--;)e[t].unbind(S.Types.change,this._renderer.flagStops),delete e[t].parent;this._renderer.flagStops()}var Ve=class extends Ie{constructor(e,t,i,n,r){super(r),a(this,"_flagEndPoints",!1),a(this,"_left",null),a(this,"_right",null);for(let e in qe)Object.defineProperty(this,e,qe[e]);this._renderer.type="linear-gradient",this._renderer.flagEndPoints=We.bind(this),this.left=new T,this.right=new T,"number"==typeof e&&(this.left.x=e),"number"==typeof t&&(this.left.y=t),"number"==typeof i&&(this.right.x=i),"number"==typeof n&&(this.right.y=n)}clone(e){const t=this.stops.map((function(e){return e.clone()})),i=new Ve(this.left._x,this.left._y,this.right._x,this.right._y,t);return W.each(Ie.Properties,(function(e){i[e]=this[e]}),this),e&&e.add(i),i}toObject(){const e=super.toObject.call(this);return e.left=this.left.toObject(),e.right=this.right.toObject(),e}_update(){return(this._flagEndPoints||this._flagSpread||this._flagStops)&&this.trigger(S.Types.change),this}flagReset(){return this._flagEndPoints=!1,super.flagReset.call(this),this}},ze=Ve;a(ze,"Properties",["left","right"]),a(ze,"Stop",Fe);var qe={left:{enumerable:!0,get:function(){return this._left},set:function(e){this._left instanceof T&&this._left.unbind(S.Types.change,this._renderer.flagEndPoints),this._left=e,this._left.bind(S.Types.change,this._renderer.flagEndPoints),this._flagEndPoints=!0}},right:{enumerable:!0,get:function(){return this._right},set:function(e){this._right instanceof T&&this._right.unbind(S.Types.change,this._renderer.flagEndPoints),this._right=e,this._right.bind(S.Types.change,this._renderer.flagEndPoints),this._flagEndPoints=!0}}};function We(){this._flagEndPoints=!0}var Ue=class extends Ie{constructor(e,t,i,n,r,s){super(n),a(this,"_flagRadius",!1),a(this,"_flagCenter",!1),a(this,"_flagFocal",!1),a(this,"_radius",0),a(this,"_center",null),a(this,"_focal",null);for(let e in Ye)Object.defineProperty(this,e,Ye[e]);this._renderer.type="radial-gradient",this._renderer.flagCenter=Ge.bind(this),this._renderer.flagFocal=Ke.bind(this),this.center=new T,this.radius="number"==typeof i?i:1,this.focal=new T,"number"==typeof e&&(this.center.x=e),"number"==typeof t&&(this.center.y=t),this.focal.copy(this.center),"number"==typeof r&&(this.focal.x=r),"number"==typeof s&&(this.focal.y=s)}clone(e){const t=this.stops.map((function(e){return e.clone()})),i=new Ue(this.center._x,this.center._y,this._radius,t,this.focal._x,this.focal._y);return W.each(Ie.Properties.concat(Ue.Properties),(function(e){i[e]=this[e]}),this),e&&e.add(i),i}toObject(){const e=super.toObject.call(this);return W.each(Ue.Properties,(function(t){e[t]=this[t]}),this),e.center=this.center.toObject(),e.focal=this.focal.toObject(),e}_update(){return(this._flagRadius||this._flatCenter||this._flagFocal||this._flagSpread||this._flagStops)&&this.trigger(S.Types.change),this}flagReset(){return this._flagRadius=this._flagCenter=this._flagFocal=!1,super.flagReset.call(this),this}},Xe=Ue;a(Xe,"Stop",Fe),a(Xe,"Properties",["center","radius","focal"]);var $e,Ye={radius:{enumerable:!0,get:function(){return this._radius},set:function(e){this._radius=e,this._flagRadius=!0}},center:{enumerable:!0,get:function(){return this._center},set:function(e){this._center&&this._center.unbind(S.Types.change,this._renderer.flagCenter),this._center=e,this._center.bind(S.Types.change,this._renderer.flagCenter),this._flagCenter=!0}},focal:{enumerable:!0,get:function(){return this._focal},set:function(e){this._focal&&this._focal.unbind(S.Types.change,this._renderer.flagFocal),this._focal=e,this._focal.bind(S.Types.change,this._renderer.flagFocal),this._flagFocal=!0}}};function Ge(){this._flagCenter=!0}function Ke(){this._flagFocal=!0}var Qe={video:/\.(mp4|webm|ogg)$/i,image:/\.(jpe?g|png|gif|tiff|webp)$/i,effect:/texture|gradient/i};n.document&&($e=document.createElement("a"));var Je=class extends U{constructor(e,t){super(),a(this,"_flagSrc",!1),a(this,"_flagImage",!1),a(this,"_flagVideo",!1),a(this,"_flagLoaded",!1),a(this,"_flagRepeat",!1),a(this,"_flagOffset",!1),a(this,"_flagScale",!1),a(this,"_src",""),a(this,"_image",null),a(this,"_loaded",!1),a(this,"_repeat","no-repeat"),a(this,"_scale",1),a(this,"_offset",null),this._renderer={};for(let e in et)Object.defineProperty(this,e,et[e]);if(this._renderer.type="texture",this._renderer.flagOffset=tt.bind(this),this._renderer.flagScale=it.bind(this),this.id=P.Identifier+P.uniqueId(),this.classList=[],this.loaded=!1,this.repeat="no-repeat",this.offset=new T,"function"==typeof t){const e=function(){this.unbind(S.Types.load,e),"function"==typeof t&&t()}.bind(this);this.bind(S.Types.load,e)}if("string"==typeof e)this.src=e;else if("object"==typeof e){const t=Object.prototype.toString.call(e);"[object HTMLImageElement]"!==t&&"[object HTMLCanvasElement]"!==t&&"[object HTMLVideoElement]"!==t&&"[object Image]"!==t||(this.image=e)}this._update()}static getAbsoluteURL(e){return $e?($e.href=e,$e.href):e}static loadHeadlessBuffer(e,t){e.image.onload=t,e.image.src=e.src}static getTag(e){return e&&e.nodeName&&e.nodeName.toLowerCase()||"img"}static getImage(e){const t=Je.getAbsoluteURL(e);if(Je.ImageRegistry.contains(t))return Je.ImageRegistry.get(t);let i;return Se.Image?(i=new Se.Image,xe.Utils.shim(i,"img")):n.document?i=Qe.video.test(t)?document.createElement("video"):document.createElement("img"):console.warn("Two.js: no prototypical image defined for Two.Texture"),i.crossOrigin="anonymous",i}static load(e,t){let i=e.image,n=Je.getTag(i);e._flagImage&&(/canvas/i.test(n)?Je.Register.canvas(e,t):(e._src=!Se.isHeadless&&i.getAttribute("two-src")||i.src,Je.Register[n](e,t))),e._flagSrc&&(i||(i=Je.getImage(e.src),e.image=i),n=Je.getTag(i),Je.Register[n](e,t))}clone(){const e=new Je(this.src);return e.repeat=this.repeat,e.offset.copy(this.origin),e.scale=this.scale,e}toObject(){return{src:this.src,repeat:this.repeat,origin:this.origin.toObject(),scale:"number"==typeof this.scale?this.scale:this.scale.toObject()}}_update(){return(this._flagSrc||this._flagImage)&&(this.trigger(S.Types.change),(this._flagSrc||this._flagImage)&&(this.loaded=!1,Je.load(this,function(){this.loaded=!0,this.trigger(S.Types.change).trigger(S.Types.load)}.bind(this)))),this._image&&this._image.readyState>=4&&(this._flagVideo=!0),this}flagReset(){return this._flagSrc=this._flagImage=this._flagLoaded=this._flagRepeat=this._flagVideo=this._flagScale=this._flagOffset=!1,super.flagReset.call(this),this}},Ze=Je;a(Ze,"Properties",["src","loaded","repeat","scale","offset","image"]),a(Ze,"RegularExpressions",Qe),a(Ze,"ImageRegistry",new Ce),a(Ze,"Register",{canvas:function(e,t){e._src="#"+e.id,Je.ImageRegistry.add(e.src,e.image),"function"==typeof t&&t()},img:function(e,t){const i=e.image,n=function(e){!Se.isHeadless&&i.removeEventListener&&"function"==typeof i.removeEventListener&&(i.removeEventListener("load",n,!1),i.removeEventListener("error",r,!1)),"function"==typeof t&&t()},r=function(t){throw Se.isHeadless||"function"!=typeof i.removeEventListener||(i.removeEventListener("load",n,!1),i.removeEventListener("error",r,!1)),new Te("unable to load "+e.src)};"number"==typeof i.width&&i.width>0&&"number"==typeof i.height&&i.height>0?n():Se.isHeadless||"function"!=typeof i.addEventListener||(i.addEventListener("load",n,!1),i.addEventListener("error",r,!1)),e._src=Je.getAbsoluteURL(e._src),!Se.isHeadless&&i&&i.getAttribute("two-src")||(Se.isHeadless||i.setAttribute("two-src",e.src),Je.ImageRegistry.add(e.src,i),Se.isHeadless?Je.loadHeadlessBuffer(e,n):e.image.src=e.src)},video:function(e,t){if(Se.isHeadless)throw new Te("video textures are not implemented in headless environments.");const i=function(r){e.image.removeEventListener("canplaythrough",i,!1),e.image.removeEventListener("error",n,!1),e.image.width=e.image.videoWidth,e.image.height=e.image.videoHeight,"function"==typeof t&&t()},n=function(t){throw e.image.removeEventListener("canplaythrough",i,!1),e.image.removeEventListener("error",n,!1),new Te("unable to load "+e.src)};e._src=Je.getAbsoluteURL(e._src),e.image.getAttribute("two-src")||(e.image.setAttribute("two-src",e.src),Je.ImageRegistry.add(e.src,e.image)),e.image.readyState>=4?i():(e.image.addEventListener("canplaythrough",i,!1),e.image.addEventListener("error",n,!1),e.image.src=e.src,e.image.load())}});var et={src:{enumerable:!0,get:function(){return this._src},set:function(e){this._src=e,this._flagSrc=!0}},loaded:{enumerable:!0,get:function(){return this._loaded},set:function(e){this._loaded=e,this._flagLoaded=!0}},repeat:{enumerable:!0,get:function(){return this._repeat},set:function(e){this._repeat=e,this._flagRepeat=!0}},image:{enumerable:!0,get:function(){return this._image},set:function(e){let t;t="canvas"===Ze.getTag(e)?"#"+e.id:e.src,Ze.ImageRegistry.contains(t)?this._image=Ze.ImageRegistry.get(e.src):this._image=e,this._flagImage=!0}},offset:{enumerable:!0,get:function(){return this._offset},set:function(e){this._offset&&this._offset.unbind(S.Types.change,this._renderer.flagOffset),this._offset=e,this._offset.bind(S.Types.change,this._renderer.flagOffset),this._flagOffset=!0}},scale:{enumerable:!0,get:function(){return this._scale},set:function(e){this._scale instanceof T&&this._scale.unbind(S.Types.change,this._renderer.flagScale),this._scale=e,this._scale instanceof T&&this._scale.bind(S.Types.change,this._renderer.flagScale),this._flagScale=!0}}};function tt(){this._flagOffset=!0}function it(){this._flagScale=!0}var nt=Math.min,rt=Math.max,st=Math.ceil,ot=Math.floor,at=new T,lt=class extends Z{constructor(e,t,i,n){super(),a(this,"_flagVertices",!0),a(this,"_flagLength",!0),a(this,"_flagFill",!0),a(this,"_flagStroke",!0),a(this,"_flagLinewidth",!0),a(this,"_flagOpacity",!0),a(this,"_flagVisible",!0),a(this,"_flagCap",!0),a(this,"_flagJoin",!0),a(this,"_flagMiter",!0),a(this,"_flagMask",!1),a(this,"_flagClip",!1),a(this,"_length",0),a(this,"_fill","#fff"),a(this,"_stroke","#000"),a(this,"_linewidth",1),a(this,"_opacity",1),a(this,"_visible",!0),a(this,"_cap","round"),a(this,"_join","round"),a(this,"_miter",4),a(this,"_closed",!0),a(this,"_curved",!1),a(this,"_automatic",!0),a(this,"_beginning",0),a(this,"_ending",1),a(this,"_mask",null),a(this,"_clip",!1),a(this,"_dashes",null);for(let e in ct)Object.defineProperty(this,e,ct[e]);this._renderer.type="path",this._renderer.flagVertices=ut.bind(this),this._renderer.bindVertices=dt.bind(this),this._renderer.unbindVertices=ft.bind(this),this._renderer.flagFill=pt.bind(this),this._renderer.flagStroke=gt.bind(this),this._renderer.vertices=[],this._renderer.collection=[],this.closed=!!t,this.curved=!!i,this.beginning=0,this.ending=1,this.fill="#fff",this.stroke="#000",this.linewidth=1,this.opacity=1,this.className="",this.visible=!0,this.cap="butt",this.join="miter",this.miter=4,this.vertices=e,this.automatic=!n,this.dashes=[],this.dashes.offset=0}clone(e){const t=new lt;for(let e=0;e<this.vertices.length;e++)t.vertices.push(this.vertices[e].clone());for(let e=0;e<lt.Properties.length;e++){const i=lt.Properties[e];t[i]=this[i]}return t.className=this.className,t.translation.copy(this.translation),t.rotation=this.rotation,t.scale=this.scale,t.skewX=this.skewX,t.skewY=this.skewY,this.matrix.manual&&t.matrix.copy(this.matrix),e&&e.add(t),t._update()}toObject(){const e={vertices:this.vertices.map((function(e){return e.toObject()}))};return W.each(lt.Properties,(function(t){void 0!==this[t]&&(this[t].toObject?e[t]=this[t].toObject():e[t]=this[t])}),this),e.className=this.className,e.translation=this.translation.toObject(),e.rotation=this.rotation,e.scale=this.scale instanceof T?this.scale.toObject():this.scale,e.skewX=this.skewX,e.skewY=this.skewY,this.matrix.manual&&(e.matrix=this.matrix.toObject()),e}noFill(){return this.fill="transparent",this}noStroke(){return this.stroke=void 0,this}corner(){const e=this.getBoundingClientRect(!0),t=e.width/2,i=e.height/2,n=e.left+e.width/2,r=e.top+e.height/2;for(let e=0;e<this.vertices.length;e++){const s=this.vertices[e];s.x-=n,s.y-=r,s.x+=t,s.y+=i}return this.mask&&(this.mask.translation.x-=n,this.mask.translation.x+=t,this.mask.translation.y-=r,this.mask.translation.y+=i),this}center(){const e=this.getBoundingClientRect(!0),t=e.left+e.width/2-this.translation.x,i=e.top+e.height/2-this.translation.y;for(let e=0;e<this.vertices.length;e++){const n=this.vertices[e];n.x-=t,n.y-=i}return this.mask&&(this.mask.translation.x-=t,this.mask.translation.y-=i),this}getBoundingClientRect(e){let t,i,n,r,s,o,a,l,h,c,u,d,f,g,m=1/0,y=-1/0,_=1/0,v=-1/0;if(this._update(!0),t=e?this._matrix:p(this),i=(this.linewidth||0)/2,n=this._renderer.vertices.length,n<=0)return{width:0,height:0};for(r=0;r<n;r++)if(o=this._renderer.vertices[r],s=this._renderer.vertices[(r+n-1)%n],s.controls&&o.controls){a=s.controls.right.x,l=s.controls.right.y,s.relative&&(a+=s.x,l+=s.y),h=o.controls.left.x,c=o.controls.left.y,o.relative&&(h+=o.x,c+=o.y);const e=O(s.x,s.y,a,l,h,c,o.x,o.y);_=nt(e.min.y-i,_),m=nt(e.min.x-i,m),y=rt(e.max.x+i,y),v=rt(e.max.y+i,v)}else r<=1&&(_=nt(s.y-i,_),m=nt(s.x-i,m),y=rt(s.x+i,y),v=rt(s.y+i,v)),_=nt(o.y-i,_),m=nt(o.x-i,m),y=rt(o.x+i,y),v=rt(o.y+i,v);return u=t.multiply(m,_,1),d=t.multiply(m,v,1),f=t.multiply(y,_,1),g=t.multiply(y,v,1),_=nt(u.y,d.y,f.y,g.y),m=nt(u.x,d.x,f.x,g.x),y=rt(u.x,d.x,f.x,g.x),v=rt(u.y,d.y,f.y,g.y),{top:_,left:m,right:y,bottom:v,width:y-m,height:v-_}}getPointAt(e,t){let i,n,r,s,o,a,h,c,u,d,f,p,m,y,v,x=this.length*Math.min(Math.max(e,0),1);const b=this.vertices.length,w=b-1;let S=null,k=null;for(let t=0,r=this._lengths.length,s=0;t<r;t++){if(s+this._lengths[t]>=x){this._closed?(i=_(t,b),n=_(t-1,b),0===t&&(i=n,n=t)):(i=t,n=Math.min(Math.max(t-1,0),w)),S=this.vertices[i],k=this.vertices[n],x-=s,e=0!==this._lengths[t]?x/this._lengths[t]:0;break}s+=this._lengths[t]}if(null===S||null===k)return null;if(!S)return k;if(!k)return S;v=k.controls&&k.controls.right,y=S.controls&&S.controls.left,o=k.x,d=k.y,a=(v||k).x,f=(v||k).y,h=(y||S).x,p=(y||S).y,c=S.x,m=S.y,v&&k.relative&&(a+=k.x,f+=k.y),y&&S.relative&&(h+=S.x,p+=S.y),s=j(e,o,a,h,c),u=j(e,d,f,p,m);const A=g(o,a,e),T=g(d,f,e),R=g(a,h,e),E=g(f,p,e),P=g(h,c,e),M=g(p,m,e),F=g(A,R,e),L=g(T,E,e),O=g(R,P,e),I=g(E,M,e);return W.isObject(t)?(t.x=s,t.y=u,t instanceof C&&(t.controls.left.x=F,t.controls.left.y=L,t.controls.right.x=O,t.controls.right.y=I,("boolean"!=typeof t.relative||t.relative)&&(t.controls.left.x-=s,t.controls.left.y-=u,t.controls.right.x-=s,t.controls.right.y-=u)),t.t=e,t):(r=new C(s,u,F-s,L-u,O-s,I-u,this._curved?l.curve:l.line),r.t=e,r)}plot(){if(this.curved)return B(this._collection,this.closed),this;for(let e=0;e<this._collection.length;e++)this._collection[e].command=0===e?l.move:l.line;return this}subdivide(e){this._update();const t=this.vertices.length-1,i=this._closed||this.vertices[t]._command===l.close;let n,r=this.vertices[t],s=[];return W.each(this.vertices,(function(o,a){if(a<=0&&!i)r=o;else{if(o.command===l.move)return s.push(new C(r.x,r.y)),a>0&&(s[s.length-1].command=l.line),void(r=o);n=Me(o,r,e),s=s.concat(n),W.each(n,(function(e,t){t<=0&&r.command===l.move?e.command=l.move:e.command=l.line})),a>=t&&(this._closed&&this._automatic?(r=o,n=Me(o,r,e),s=s.concat(n),W.each(n,(function(e,t){t<=0&&r.command===l.move?e.command=l.move:e.command=l.line}))):i&&s.push(new C(o.x,o.y)),s[s.length-1].command=i?l.close:l.line),r=o}}),this),this._automatic=!1,this._curved=!1,this.vertices=s,this}_updateLength(e,t){t||this._update();const i=this.vertices.length-1;let n=this.vertices[i],r=0;return void 0===this._lengths&&(this._lengths=[]),W.each(this.vertices,(function(t,i){if(i<=0||t.command===l.move)return n=t,void(this._lengths[i]=0);this._lengths[i]=Pe(t,n,e),r+=this._lengths[i],n=t}),this),this._length=r,this._flagLength=!1,this}_update(){if(this._flagVertices){this._automatic&&this.plot(),this._flagLength&&this._updateLength(void 0,!0);const e=this._collection.length,t=this._closed,i=Math.min(this._beginning,this._ending),n=Math.max(this._beginning,this._ending),r=Ee(this,i*this._length),s=Ee(this,n*this._length),o=st(r),a=ot(s);let h,c,u,d,f,p;for(this._renderer.vertices.length=0,p=0;p<e;p++)this._renderer.collection.length<=p&&this._renderer.collection.push(new C),p>a&&!c?(f=this._renderer.collection[p].copy(this._collection[p]),this.getPointAt(n,f),f.command=this._renderer.collection[p].command,this._renderer.vertices.push(f),c=f,u=this._collection[p-1],u&&u.controls&&(f.relative?f.controls.right.clear():f.controls.right.copy(f),u.relative?this._renderer.collection[p-1].controls.right.copy(u.controls.right).lerp(T.zero,1-f.t):this._renderer.collection[p-1].controls.right.copy(u.controls.right).lerp(u,1-f.t))):p>=o&&p<=a&&(f=this._renderer.collection[p].copy(this._collection[p]),this._renderer.vertices.push(f),p===a&&Re(this,n)?(c=f,!t&&c.controls&&(c.relative?c.controls.right.clear():c.controls.right.copy(c))):p===o&&Re(this,i)&&(h=f,h.command=l.move,!t&&h.controls&&(h.relative?h.controls.left.clear():h.controls.left.copy(h))));o>0&&!h&&(p=o-1,f=this._renderer.collection[p].copy(this._collection[p]),this.getPointAt(i,f),f.command=l.move,this._renderer.vertices.unshift(f),d=this._collection[p+1],d&&d.controls&&(f.controls.left.clear(),d.relative?this._renderer.collection[p+1].controls.left.copy(d.controls.left).lerp(T.zero,f.t):(at.copy(d),this._renderer.collection[p+1].controls.left.copy(d.controls.left).lerp(d,f.t))))}return Z.prototype._update.apply(this,arguments),this}flagReset(){return this._flagVertices=this._flagLength=this._flagFill=this._flagStroke=this._flagLinewidth=this._flagOpacity=this._flagVisible=this._flagCap=this._flagJoin=this._flagMiter=this._flagClip=!1,Z.prototype.flagReset.call(this),this}},ht=lt;a(ht,"Properties",["fill","stroke","linewidth","opacity","visible","cap","join","miter","closed","curved","automatic","beginning","ending"]),a(ht,"Utils",{getCurveLength:Pe});var ct={linewidth:{enumerable:!0,get:function(){return this._linewidth},set:function(e){this._linewidth=e,this._flagLinewidth=!0}},opacity:{enumerable:!0,get:function(){return this._opacity},set:function(e){this._opacity=e,this._flagOpacity=!0}},visible:{enumerable:!0,get:function(){return this._visible},set:function(e){this._visible=e,this._flagVisible=!0}},cap:{enumerable:!0,get:function(){return this._cap},set:function(e){this._cap=e,this._flagCap=!0}},join:{enumerable:!0,get:function(){return this._join},set:function(e){this._join=e,this._flagJoin=!0}},miter:{enumerable:!0,get:function(){return this._miter},set:function(e){this._miter=e,this._flagMiter=!0}},fill:{enumerable:!0,get:function(){return this._fill},set:function(e){(this._fill instanceof Ie||this._fill instanceof ze||this._fill instanceof Xe||this._fill instanceof Ze)&&this._fill.unbind(S.Types.change,this._renderer.flagFill),this._fill=e,this._flagFill=!0,(this._fill instanceof Ie||this._fill instanceof ze||this._fill instanceof Xe||this._fill instanceof Ze)&&this._fill.bind(S.Types.change,this._renderer.flagFill)}},stroke:{enumerable:!0,get:function(){return this._stroke},set:function(e){(this._stroke instanceof Ie||this._stroke instanceof ze||this._stroke instanceof Xe||this._stroke instanceof Ze)&&this._stroke.unbind(S.Types.change,this._renderer.flagStroke),this._stroke=e,this._flagStroke=!0,(this._stroke instanceof Ie||this._stroke instanceof ze||this._stroke instanceof Xe||this._stroke instanceof Ze)&&this._stroke.bind(S.Types.change,this._renderer.flagStroke)}},length:{get:function(){return this._flagLength&&this._updateLength(),this._length}},closed:{enumerable:!0,get:function(){return this._closed},set:function(e){this._closed=!!e,this._flagVertices=!0}},curved:{enumerable:!0,get:function(){return this._curved},set:function(e){this._curved=!!e,this._flagVertices=!0}},automatic:{enumerable:!0,get:function(){return this._automatic},set:function(e){if(e===this._automatic)return;this._automatic=!!e;const t=this._automatic?"ignore":"listen";W.each(this.vertices,(function(e){e[t]()}))}},beginning:{enumerable:!0,get:function(){return this._beginning},set:function(e){this._beginning=e,this._flagVertices=!0}},ending:{enumerable:!0,get:function(){return this._ending},set:function(e){this._ending=e,this._flagVertices=!0}},vertices:{enumerable:!0,get:function(){return this._collection},set:function(e){const t=this._renderer.bindVertices,i=this._renderer.unbindVertices;this._collection&&this._collection.unbind(S.Types.insert,t).unbind(S.Types.remove,i),this._collection=e instanceof ie?e:new ie(e||[]),this._collection.bind(S.Types.insert,t).bind(S.Types.remove,i),t(this._collection)}},mask:{enumerable:!0,get:function(){return this._mask},set:function(e){this._mask=e,this._flagMask=!0,W.isObject(e)&&!e.clip&&(e.clip=!0)}},clip:{enumerable:!0,get:function(){return this._clip},set:function(e){this._clip=e,this._flagClip=!0}},dashes:{enumerable:!0,get:function(){return this._dashes},set:function(e){"number"!=typeof e.offset&&(e.offset=this.dashes&&this._dashes.offset||0),this._dashes=e}}};function ut(){this._flagVertices=!0,this._flagLength=!0,this.parent&&(this.parent._flagLength=!0)}function dt(e){let t=e.length;for(;t--;)e[t].bind(S.Types.change,this._renderer.flagVertices);this._renderer.flagVertices()}function ft(e){let t=e.length;for(;t--;)e[t].unbind(S.Types.change,this._renderer.flagVertices);this._renderer.flagVertices()}function pt(){this._flagFill=!0}function gt(){this._flagStroke=!0}var mt=class extends ht{constructor(e,t,i,n){super([new C,new C,new C,new C],!0,!1,!0),a(this,"_flagWidth",0),a(this,"_flagHeight",0),a(this,"_width",0),a(this,"_height",0),a(this,"_origin",null);for(let e in _t)Object.defineProperty(this,e,_t[e]);this.width="number"==typeof i?i:1,this.height="number"==typeof n?n:1,this.origin=new T,"number"==typeof e&&(this.translation.x=e),"number"==typeof t&&(this.translation.y=t),this._update()}_update(){if(this._flagVertices||this._flagWidth||this._flagHeight){const e=this._width/2,t=this._height/2;this._closed||4!==this.vertices.length||this.vertices.push(new C),this.vertices[0].set(-e,-t).sub(this._origin).command=l.move,this.vertices[1].set(e,-t).sub(this._origin).command=l.line,this.vertices[2].set(e,t).sub(this._origin).command=l.line,this.vertices[3].set(-e,t).sub(this._origin).command=l.line,this.vertices[4]&&(this.vertices[4].set(-e,-t).sub(this._origin).command=l.line)}return super._update.call(this),this}flagReset(){return this._flagWidth=this._flagHeight=!1,super.flagReset.call(this),this}clone(e){const t=new mt(0,0,this.width,this.height);t.translation.copy(this.translation),t.rotation=this.rotation,t.scale=this.scale,t.skewX=this.skewX,t.skewY=this.skewY,this.matrix.manual&&t.matrix.copy(this.matrix);for(let e=0;e<ht.Properties.length;e++){const i=ht.Properties[e];t[i]=this[i]}return e&&e.add(t),t}toObject(){const e=super.toObject.call(this);return e.width=this.width,e.height=this.height,e.origin=this.origin.toObject(),e}},yt=mt;a(yt,"Properties",["width","height"]);var _t={width:{enumerable:!0,get:function(){return this._width},set:function(e){this._width=e,this._flagWidth=!0}},height:{enumerable:!0,get:function(){return this._height},set:function(e){this._height=e,this._flagHeight=!0}},origin:{enumerable:!0,get:function(){return this._origin},set:function(e){this._origin&&this._origin.unbind(S.Types.change,this._renderer.flagVertices),this._origin=e,this._origin.bind(S.Types.change,this._renderer.flagVertices),this._renderer.flagVertices()}}},vt=class extends yt{constructor(e,t,i,n,r,s){super(t,i,0,0),a(this,"_flagTexture",!1),a(this,"_flagColumns",!1),a(this,"_flagRows",!1),a(this,"_flagFrameRate",!1),a(this,"_flagIndex",!1),a(this,"_amount",1),a(this,"_duration",0),a(this,"_startTime",0),a(this,"_playing",!1),a(this,"_firstFrame",0),a(this,"_lastFrame",0),a(this,"_loop",!0),a(this,"_texture",null),a(this,"_columns",1),a(this,"_rows",1),a(this,"_frameRate",0),a(this,"_index",0),a(this,"_origin",null);for(let e in bt)Object.defineProperty(this,e,bt[e]);this.noStroke(),this.noFill(),e instanceof Ze?this.texture=e:"string"==typeof e&&(this.texture=new Ze(e)),this.origin=new T,this._update(),"number"==typeof n&&(this.columns=n),"number"==typeof r&&(this.rows=r),"number"==typeof s&&(this.frameRate=s),this.index=0}play(e,t,i){return this._playing=!0,this._firstFrame=0,this._lastFrame=this.amount-1,this._startTime=W.performance.now(),"number"==typeof e&&(this._firstFrame=e),"number"==typeof t&&(this._lastFrame=t),"function"==typeof i?this._onLastFrame=i:delete this._onLastFrame,this._index!==this._firstFrame&&(this._startTime-=1e3*Math.abs(this._index-this._firstFrame)/this._frameRate),this}pause(){return this._playing=!1,this}stop(){return this._playing=!1,this._index=0,this}clone(e){const t=new vt(this.texture,this.translation.x,this.translation.y,this.columns,this.rows,this.frameRate);return this.playing&&(t.play(this._firstFrame,this._lastFrame),t._loop=this._loop),e&&e.add(t),t}toObject(){const e=super.toObject.call(this);return e.texture=this.texture.toObject(),e.columns=this.columns,e.rows=this.rows,e.frameRate=this.frameRate,e.index=this.index,e._firstFrame=this._firstFrame,e._lastFrame=this._lastFrame,e._loop=this._loop,e}_update(){const e=this._texture,t=this._columns,i=this._rows;let n,r,s,o,a,l,h,c,u;if(e&&((this._flagColumns||this._flagRows)&&(this._amount=this._columns*this._rows),this._flagFrameRate&&(this._duration=1e3*this._amount/this._frameRate),this._flagTexture&&(this.fill=e),e.loaded)){h=e.image.width,c=e.image.height,n=h/t,r=c/i,o=this._amount,this.width!==n&&(this.width=n),this.height!==r&&(this.height=r),this._playing&&this._frameRate>0&&(W.isNaN(this._lastFrame)&&(this._lastFrame=o-1),s=W.performance.now()-this._startTime,u=this._lastFrame+1,a=1e3*(u-this._firstFrame)/this._frameRate,this._loop?s%=a:s=Math.min(s,a),l=g(this._firstFrame,u,s/a),l=Math.floor(l),l!==this._index&&(this._index=l,l>=this._lastFrame-1&&this._onLastFrame&&this._onLastFrame()));const d=-n*(this._index%t)+(h-n)/2,f=-r*Math.floor(this._index/t)+(c-r)/2;d!==e.offset.x&&(e.offset.x=d),f!==e.offset.y&&(e.offset.y=f)}return super._update.call(this),this}flagReset(){return this._flagTexture=this._flagColumns=this._flagRows=this._flagFrameRate=!1,super.flagReset.call(this),this}},xt=vt;a(xt,"Properties",["texture","columns","rows","frameRate","index"]);var bt={texture:{enumerable:!0,get:function(){return this._texture},set:function(e){this._texture=e,this._flagTexture=!0}},columns:{enumerable:!0,get:function(){return this._columns},set:function(e){this._columns=e,this._flagColumns=!0}},rows:{enumerable:!0,get:function(){return this._rows},set:function(e){this._rows=e,this._flagRows=!0}},frameRate:{enumerable:!0,get:function(){return this._frameRate},set:function(e){this._frameRate=e,this._flagFrameRate=!0}},index:{enumerable:!0,get:function(){return this._index},set:function(e){this._index=e,this._flagIndex=!0}}},wt=Math.cos,St=Math.sin,kt=class extends ht{constructor(e,t,i,n){const r=n?Math.max(n,2):4,s=[];for(let e=0;e<r;e++)s.push(new C(0,0,0,0,0,0));super(s,!0,!0,!0),a(this,"_flagRadius",!1),a(this,"_radius",0);for(let e in Tt)Object.defineProperty(this,e,Tt[e]);"number"==typeof i&&(this.radius=i),this._update(),"number"==typeof e&&(this.translation.x=e),"number"==typeof t&&(this.translation.y=t)}_update(){if(this._flagVertices||this._flagRadius){let e=this.vertices.length;!this._closed&&e>2&&(e-=1);const t=4/3*Math.tan(Math.PI/(2*e)),i=this._radius,n=i*t;for(let t=0;t<this.vertices.length;t++){const r=t/e*c,s=i*wt(r),o=i*St(r),a=n*wt(r-u),h=n*St(r-u),d=n*wt(r+u),f=n*St(r+u),p=this.vertices[t];p.command=0===t?l.move:l.curve,p.set(s,o),p.controls.left.set(a,h),p.controls.right.set(d,f)}}return super._update.call(this),this}flagReset(){return this._flagRadius=!1,super.flagReset.call(this),this}clone(e){const t=new kt(0,0,this.radius,this.vertices.length);t.translation.copy(this.translation),t.rotation=this.rotation,t.scale=this.scale,t.skewX=this.skewX,t.skewY=this.skewY,this.matrix.manual&&t.matrix.copy(this.matrix);for(let e=0;e<ht.Properties.length;e++){const i=ht.Properties[e];t[i]=this[i]}return e&&e.add(t),t}toObject(){const e=super.toObject.call(this);for(let t=0;t<kt.Properties.length;t++){const i=kt.Properties[t];e[i]=this[i]}return e}},At=kt;a(At,"Properties",["radius"]);var Tt={radius:{enumerable:!0,get:function(){return this._radius},set:function(e){this._radius=e,this._flagRadius=!0}}},Ct=Math.cos,Rt=Math.sin,Et=class extends ht{constructor(e,t,i,n,r){"number"!=typeof n&&"number"==typeof i&&(n=i);const s=r?Math.max(r,2):4,o=[];for(let e=0;e<s;e++)o.push(new C);super(o,!0,!0,!0),a(this,"_flagWidth",!1),a(this,"_flagHeight",!1),a(this,"_width",0),a(this,"_height",0);for(let e in Mt)Object.defineProperty(this,e,Mt[e]);"number"==typeof i&&(this.width=2*i),"number"==typeof n&&(this.height=2*n),this._update(),"number"==typeof e&&(this.translation.x=e),"number"==typeof t&&(this.translation.y=t)}_update(){if(this._flagVertices||this._flagWidth||this._flagHeight){let e=this.vertices.length;!this._closed&&e>2&&(e-=1);const t=4/3*Math.tan(Math.PI/(2*this.vertices.length)),i=this._width/2,n=this._height/2;for(let r=0;r<this.vertices.length;r++){const s=r/e*c,o=i*Ct(s),a=n*Rt(s),h=i*t*Ct(s-u),d=n*t*Rt(s-u),f=i*t*Ct(s+u),p=n*t*Rt(s+u),g=this.vertices[r];g.command=0===r?l.move:l.curve,g.set(o,a),g.controls.left.set(h,d),g.controls.right.set(f,p)}}return super._update.call(this),this}flagReset(){return this._flagWidth=this._flagHeight=!1,super.flagReset.call(this),this}clone(e){const t=this.width/2,i=this.height/2,n=this.vertices.length,r=new Et(0,0,t,i,n);r.translation.copy(this.translation),r.rotation=this.rotation,r.scale=this.scale,r.skewX=this.skewX,r.skewY=this.skewY,this.matrix.manual&&r.matrix.copy(this.matrix);for(let e=0;e<ht.Properties.length;e++){const t=ht.Properties[e];r[t]=this[t]}return e&&e.add(r),r}toObject(){const e=super.toObject.call(this);for(let t=0;t<Et.Properties.length;t++){const i=Et.Properties[t];e[i]=this[i]}return e}},Pt=Et;a(Pt,"Properties",["width","height"]);var Mt={width:{enumerable:!0,get:function(){return this._width},set:function(e){this._width=e,this._flagWidth=!0}},height:{enumerable:!0,get:function(){return this._height},set:function(e){this._height=e,this._flagHeight=!0}}},jt=class extends ht{constructor(e,t,i,n){super([new C(e,t),new C(i,n)]);for(let e in Ft)Object.defineProperty(this,e,Ft[e]);this.vertices[0].command=l.move,this.vertices[1].command=l.line,this.automatic=!1}},Ft={left:{enumerable:!0,get:function(){return this.vertices[0]},set:function(e){if(W.isObject(e))this.vertices.splice(0,1,e);else{const e=new Te("Two.Line.x argument is not an object.");console.warn(e.name,e.message)}}},right:{enumerable:!0,get:function(){return this.vertices[0]},set:function(e){if(W.isObject(e))this.vertices.splice(1,1,e);else{const e=new Te("Two.Line.y argument is not an object.");console.warn(e.name,e.message)}}}},Lt=class extends ht{constructor(e,t,i,n,r){void 0===r&&"number"==typeof i&&"number"==typeof n&&(r=Math.floor(Math.min(i,n)/12));const s=[];for(let e=0;e<10;e++)s.push(new C(0,0,0,0,0,0,0===e?l.move:l.curve));super(s),a(this,"_flagWidth",!1),a(this,"_flagHeight",!1),a(this,"_flagRadius",!1),a(this,"_width",0),a(this,"_height",0),a(this,"_radius",12);for(let e in It)Object.defineProperty(this,e,It[e]);this.closed=!0,this.automatic=!1,this._renderer.flagRadius=Bt.bind(this),"number"==typeof i&&(this.width=i),"number"==typeof n&&(this.height=n),"number"==typeof r&&(this.radius=r),this._update(),"number"==typeof e&&(this.translation.x=e),"number"==typeof t&&(this.translation.y=t)}_update(){if(this._flagVertices||this._flagWidth||this._flagHeight||this._flagRadius){const e=this._width,t=this._height;let i,n,r;this._radius instanceof T?(i=this._radius.x,n=this._radius.y):(i=this._radius,n=this._radius);let s=e/2,o=t/2;r=this.vertices[0],r.x=-(s-i),r.y=-o,r=this.vertices[1],r.x=s-i,r.y=-o,r.controls.left.clear(),r.controls.right.x=i,r.controls.right.y=0,r=this.vertices[2],r.x=s,r.y=-(o-n),r.controls.right.clear(),r.controls.left.clear(),r=this.vertices[3],r.x=s,r.y=o-n,r.controls.left.clear(),r.controls.right.x=0,r.controls.right.y=n,r=this.vertices[4],r.x=s-i,r.y=o,r.controls.right.clear(),r.controls.left.clear(),r=this.vertices[5],r.x=-(s-i),r.y=o,r.controls.left.clear(),r.controls.right.x=-i,r.controls.right.y=0,r=this.vertices[6],r.x=-s,r.y=o-n,r.controls.left.clear(),r.controls.right.clear(),r=this.vertices[7],r.x=-s,r.y=-(o-n),r.controls.left.clear(),r.controls.right.x=0,r.controls.right.y=-n,r=this.vertices[8],r.x=-(s-i),r.y=-o,r.controls.left.clear(),r.controls.right.clear(),r=this.vertices[9],r.copy(this.vertices[8])}return super._update.call(this),this}flagReset(){return this._flagWidth=this._flagHeight=this._flagRadius=!1,super.flagReset.call(this),this}clone(e){const t=this.width,i=this.height,n=this.radius,r=new Lt(0,0,t,i,n);r.translation.copy(this.translation),r.rotation=this.rotation,r.scale=this.scale,r.skewX=this.skewX,r.skewY=this.skewY,this.matrix.manual&&r.matrix.copy(this.matrix);for(let e=0;e<ht.Properties.length;e++){const t=ht.Properties[e];r[t]=this[t]}return e&&e.add(r),r}toObject(){const e=super.toObject.call(this);for(let t=0;t<Lt.Properties.length;t++){const i=Lt.Properties[t];e[i]=this[i]}return e.radius="number"==typeof this.radius?this.radius:this.radius.toObject(),e}},Ot=Lt;a(Ot,"Properties",["width","height","radius"]);var It={width:{enumerable:!0,get:function(){return this._width},set:function(e){this._width=e,this._flagWidth=!0}},height:{enumerable:!0,get:function(){return this._height},set:function(e){this._height=e,this._flagHeight=!0}},radius:{enumerable:!0,get:function(){return this._radius},set:function(e){this._radius instanceof T&&this._radius.unbind(S.Types.change,this._renderer.flagRadius),this._radius=e,this._radius instanceof T&&this._radius.bind(S.Types.change,this._renderer.flagRadius),this._flagRadius=!0}}};function Bt(){this._flagRadius=!0}var Nt=Math.min,Dt=Math.max,Ht=class extends Z{constructor(e,t,i,n){super(),a(this,"_flagValue",!0),a(this,"_flagFamily",!0),a(this,"_flagSize",!0),a(this,"_flagLeading",!0),a(this,"_flagAlignment",!0),a(this,"_flagBaseline",!0),a(this,"_flagStyle",!0),a(this,"_flagWeight",!0),a(this,"_flagDecoration",!0),a(this,"_flagFill",!0),a(this,"_flagStroke",!0),a(this,"_flagLinewidth",!0),a(this,"_flagOpacity",!0),a(this,"_flagVisible",!0),a(this,"_flagMask",!1),a(this,"_flagClip",!1),a(this,"_value",""),a(this,"_family","sans-serif"),a(this,"_size",13),a(this,"_leading",17),a(this,"_alignment","center"),a(this,"_baseline","middle"),a(this,"_style","normal"),a(this,"_weight",500),a(this,"_decoration","none"),a(this,"_fill","#000"),a(this,"_stroke","transparent"),a(this,"_linewidth",1),a(this,"_opacity",1),a(this,"_visible",!0),a(this,"_mask",null),a(this,"_clip",!1),a(this,"_dashes",null);for(let e in zt)Object.defineProperty(this,e,zt[e]);if(this._renderer.type="text",this._renderer.flagFill=qt.bind(this),this._renderer.flagStroke=Wt.bind(this),this.value=e,"number"==typeof t&&(this.translation.x=t),"number"==typeof i&&(this.translation.y=i),this.dashes=[],this.dashes.offset=0,!W.isObject(n))return this;for(let e=0;e<Ht.Properties.length;e++){const t=Ht.Properties[e];t in n&&(this[t]=n[t])}}clone(e){const t=new Ht(this.value);t.translation.copy(this.translation),t.rotation=this.rotation,t.scale=this.scale;for(let e=0;e<Ht.Properties.length;e++){const i=Ht.Properties[e];t[i]=this[i]}return this.matrix.manual&&t.matrix.copy(this.matrix),e&&e.add(t),t._update()}toObject(){const e={translation:this.translation.toObject(),rotation:this.rotation,scale:this.scale};this.matrix.manual&&(e.matrix=this.matrix.toObject());for(let t=0;t<Ht.Properties.length;t++){const i=Ht.Properties[t];e[i]=this[i]}return e}noFill(){return this.fill="transparent",this}noStroke(){return this.stroke=void 0,this.linewidth=void 0,this}getBoundingClientRect(e){let t,i,n,r,s,o,a,l,h;this._update(!0),t=e?this._matrix:p(this);const c=this.leading,u=this.value.length*this.size*Ht.Ratio,d=(this._linewidth||0)/2;switch(this.alignment){case"left":o=-d,a=u+d;break;case"right":o=-(u+d),a=d;break;default:o=-(u/2+d),a=u/2+d}switch(this.baseline){case"top":l=-d,h=c+d;break;case"bottom":l=-(c+d),h=d;break;default:l=-(c/2+d),h=c/2+d}return i=t.multiply(o,l,1),n=t.multiply(o,h,1),r=t.multiply(a,l,1),s=t.multiply(a,h,1),l=Nt(i.y,n.y,r.y,s.y),o=Nt(i.x,n.x,r.x,s.x),a=Dt(i.x,n.x,r.x,s.x),h=Dt(i.y,n.y,r.y,s.y),{top:l,left:o,right:a,bottom:h,width:a-o,height:h-l}}flagReset(){return super.flagReset.call(this),this._flagValue=this._flagFamily=this._flagSize=this._flagLeading=this._flagAlignment=this._flagFill=this._flagStroke=this._flagLinewidth=this._flagOpacity=this._flagVisible=this._flagClip=this._flagDecoration=this._flagClassName=this._flagBaseline=this._flagWeight=this._flagStyle=!1,this}},Vt=Ht;a(Vt,"Ratio",.6),a(Vt,"Properties",["value","family","size","leading","alignment","linewidth","style","weight","decoration","baseline","opacity","visible","fill","stroke"]);var zt={value:{enumerable:!0,get:function(){return this._value},set:function(e){this._value=e,this._flagValue=!0}},family:{enumerable:!0,get:function(){return this._family},set:function(e){this._family=e,this._flagFamily=!0}},size:{enumerable:!0,get:function(){return this._size},set:function(e){this._size=e,this._flagSize=!0}},leading:{enumerable:!0,get:function(){return this._leading},set:function(e){this._leading=e,this._flagLeading=!0}},alignment:{enumerable:!0,get:function(){return this._alignment},set:function(e){this._alignment=e,this._flagAlignment=!0}},linewidth:{enumerable:!0,get:function(){return this._linewidth},set:function(e){this._linewidth=e,this._flagLinewidth=!0}},style:{enumerable:!0,get:function(){return this._style},set:function(e){this._style=e,this._flagStyle=!0}},weight:{enumerable:!0,get:function(){return this._weight},set:function(e){this._weight=e,this._flagWeight=!0}},decoration:{enumerable:!0,get:function(){return this._decoration},set:function(e){this._decoration=e,this._flagDecoration=!0}},baseline:{enumerable:!0,get:function(){return this._baseline},set:function(e){this._baseline=e,this._flagBaseline=!0}},opacity:{enumerable:!0,get:function(){return this._opacity},set:function(e){this._opacity=e,this._flagOpacity=!0}},visible:{enumerable:!0,get:function(){return this._visible},set:function(e){this._visible=e,this._flagVisible=!0}},fill:{enumerable:!0,get:function(){return this._fill},set:function(e){(this._fill instanceof Ie||this._fill instanceof ze||this._fill instanceof Xe||this._fill instanceof Ze)&&this._fill.unbind(S.Types.change,this._renderer.flagFill),this._fill=e,this._flagFill=!0,(this._fill instanceof Ie||this._fill instanceof ze||this._fill instanceof Xe||this._fill instanceof Ze)&&this._fill.bind(S.Types.change,this._renderer.flagFill)}},stroke:{enumerable:!0,get:function(){return this._stroke},set:function(e){(this._stroke instanceof Ie||this._stroke instanceof ze||this._stroke instanceof Xe||this._stroke instanceof Ze)&&this._stroke.unbind(S.Types.change,this._renderer.flagStroke),this._stroke=e,this._flagStroke=!0,(this._stroke instanceof Ie||this._stroke instanceof ze||this._stroke instanceof Xe||this._stroke instanceof Ze)&&this._stroke.bind(S.Types.change,this._renderer.flagStroke)}},mask:{enumerable:!0,get:function(){return this._mask},set:function(e){this._mask=e,this._flagMask=!0,W.isObject(e)&&!e.clip&&(e.clip=!0)}},clip:{enumerable:!0,get:function(){return this._clip},set:function(e){this._clip=e,this._flagClip=!0}},dashes:{enumerable:!0,get:function(){return this._dashes},set:function(e){"number"!=typeof e.offset&&(e.offset=this.dashes&&this._dashes.offset||0),this._dashes=e}}};function qt(){this._flagFill=!0}function Wt(){this._flagStroke=!0}var Ut={path:/[+-]?(?:\d*\.\d+|\d+)(?:[eE][+-]\d+)?/g,cssBackgroundImage:/url\(['"]?#([\w\d-_]*)['"]?\)/i,unitSuffix:/[a-zA-Z%]*/i},Xt={start:"left",middle:"center",end:"right"},$t=["id","class","transform","xmlns","viewBox"],Yt=["x","y","width","height","href","xlink:href"];function Gt(e){return e.replace(/svg:/gi,"").toLowerCase()}function Kt(e,t){if(t.x+=e.translateX,t.y+=e.translateY,t.x*=e.scaleX,t.y*=e.scaleY,0!==e.rotation){const i=t.length();t.x=i*Math.cos(e.rotation),t.y=i*Math.sin(e.rotation)}}function Qt(e,t){t||(t={});const i=e.split(";");for(let e=0;e<i.length;e++){const n=i[e].split(":"),r=n[0],s=n[1];void 0!==r&&void 0!==s&&(t[r]=s.replace(/\s/,""))}return t}function Jt(e){const t={},i=function(e){const t=e.getAttributeNames();for(let e=0;e<$t.length;e++){const i=$t[e],n=Array.prototype.indexOf.call(t,i);n>=0&&t.splice(n,1)}return t}(e),n=Math.max(i.length,e.style.length);for(let r=0;r<n;r++){const n=e.style[r],s=i[r];n&&(t[n]=e.style[n]),s&&(t[s]=e.getAttribute(s))}return t}function Zt(e,t,i){const r={},s={},o={};let a,l,h,c,u,f,p,g,m,y,_,v,x,b,w,S,k;if(n.getComputedStyle){const t=n.getComputedStyle(e);for(a=t.length;a--;)h=t[a],c=t[h],void 0!==c&&(r[h]=c)}for(a=0;a<e.attributes.length;a++)f=e.attributes[a],/style/i.test(f.nodeName)?Qt(f.value,o):s[f.nodeName]=f.value;for(h in void 0!==r.opacity&&(r["stroke-opacity"]=r.opacity,r["fill-opacity"]=r.opacity,delete r.opacity),i&&W.defaults(r,i),W.extend(r,o,s),r.visible=!(void 0===r.display&&/none/i.test(r.display))||void 0===r.visibility&&/hidden/i.test(r.visibility),r)switch(c=r[h],h){case"gradientTransform":if(/none/i.test(c))break;if(l=e.gradientTransform&&e.gradientTransform.baseVal&&e.gradientTransform.baseVal.length>0?e.gradientTransform.baseVal[0].matrix:e.getCTM?e.getCTM():null,null===l)break;switch(p=d(l),t._renderer.type){case"linear-gradient":Kt(p,t.left),Kt(p,t.right);break;case"radial-gradient":t.center.x+=p.translateX,t.center.y+=p.translateY,t.focal.x+=p.translateX,t.focal.y+=p.translateY,t.radius*=Math.max(p.scaleX,p.scaleY)}break;case"transform":if(/none/i.test(c))break;if(l=e.transform&&e.transform.baseVal&&e.transform.baseVal.length>0?e.transform.baseVal[0].matrix:e.getCTM?e.getCTM():null,null===l)break;P.AutoCalculateImportedMatrices?(p=d(l),t.translation.set(p.translateX,p.translateY),t.rotation=Math.PI*(p.rotation/180),t.scale=new T(p.scaleX,p.scaleY),g=parseFloat((r.x+"").replace("px")),m=parseFloat((r.y+"").replace("px")),g&&(t.translation.x=g),m&&(t.translation.y=m)):(l=e.getCTM(),t._matrix.manual=!0,t._matrix.set(l.a,l.b,l.c,l.d,l.e,l.f));break;case"visible":if(t instanceof ae){t._visible=c;break}t.visible=c;break;case"stroke-linecap":if(t instanceof ae){t._cap=c;break}t.cap=c;break;case"stroke-linejoin":if(t instanceof ae){t._join=c;break}t.join=c;break;case"stroke-miterlimit":if(t instanceof ae){t._miter=c;break}t.miter=c;break;case"stroke-width":if(t instanceof ae){t._linewidth=parseFloat(c);break}t.linewidth=parseFloat(c);break;case"opacity":case"stroke-opacity":case"fill-opacity":if(t instanceof ae){t._opacity=parseFloat(c);break}t.opacity=parseFloat(c);break;case"clip-path":if(Ut.cssBackgroundImage.test(c)&&(y=c.replace(Ut.cssBackgroundImage,"$1"),ii.defs.current&&ii.defs.current.contains(y)&&(v=ii.defs.current.get(y),v&&v.childNodes.length>0)))switch(v=v.childNodes[0],x=Gt(v.nodeName),t.mask=ii[x].call(this,v,{}),t._renderer.type){case"text":case"path":t.position.add(t.mask.position),t.mask.position.clear()}break;case"fill":case"stroke":u=(t instanceof ae?"_":"")+h,Ut.cssBackgroundImage.test(c)?(y=c.replace(Ut.cssBackgroundImage,"$1"),ii.defs.current&&ii.defs.current.contains(y)?(v=ii.defs.current.get(y),v.object||(x=Gt(v.nodeName),v.object=ii[x].call(this,v,{})),v=v.object):(_=ti(this),v=_.getById(y)),t[u]=v):t[u]=/none/i.test(c)?"transparent":c;break;case"id":t.id=c;break;case"class":case"className":t.classList=c.split(" "),t._flagClassName=!0;break;case"x":case"y":if(b=t instanceof Ie,w=t instanceof ze,S=t instanceof Xe,b||w||S)break;c.match("[a-z%]$")&&!c.endsWith("px")&&(k=new Te("only pixel values are supported with the "+h+" attribute."),console.warn(k.name,k.message)),t.translation[h]=parseFloat(c);break;case"font-family":t instanceof Vt&&(t.family=c);break;case"font-size":t instanceof Vt&&(t.size=c);break;case"font-weight":t instanceof Vt&&(t.weight=c);break;case"font-style":t instanceof Vt&&(t.style=c);break;case"text-decoration":t instanceof Vt&&(t.decoration=c);break;case"line-height":t instanceof Vt&&(t.leading=c)}return Object.keys(e.dataset).length&&(t.dataset=e.dataset),r}function ei(e,t){for(let i=0,n=e.childNodes.length;i<n;i++){const n=e.childNodes[i];n.id&&("#text"!==Gt(e.nodeName)&&t.add(n.id,n))}}function ti(e){for(;e.parent;)e=e.parent;return e.scene}var ii={svg:function(e){const t=ii.defs.current=new Ce,i=e.getElementsByTagName("defs");for(let e=0;e<i.length;e++)ei(i[e],t);const n=ii.g.call(this,e),r=e.getAttribute("viewBox"),s=e.getAttribute("x"),o=e.getAttribute("y"),a=e.getAttribute("width"),l=e.getAttribute("height");n.defs=t;const h=null!==r,c=null!==o,u=null!==a,d=null!==l;return null!==s&&(n.x=parseFloat(s.replace(Ut.unitSuffix,""))),c&&(n.y=parseFloat(o.replace(Ut.unitSuffix,""))),u&&(n.width=parseFloat(a.replace(Ut.unitSuffix,""))),d&&(n.height=parseFloat(l.replace(Ut.unitSuffix,""))),h&&function(e,t){const i=t.split(/[\s,]/),n=-parseFloat(i[0]),r=-parseFloat(i[1]),s=parseFloat(i[2]),o=parseFloat(i[3]);if(n&&r)for(let t=0;t<e.children.length;t++){const i=e.children[t];"translation"in i?i.translation.add(n,r):"x"in i?i.x=n:"y"in i&&(i.y=r)}const a="number"==typeof e.x,l="number"==typeof e.y,h="number"==typeof e.width,c="number"==typeof e.height;a&&(e.translation.x+=e.x),l&&(e.translation.y+=e.y),(h||c)&&(e.scale=new T(1,1)),h&&(e.scale.x=e.width/s),c&&(e.scale.y=e.height/o),e.mask=new yt(0,0,s,o),e.mask.origin.set(-s/2,-o/2)}(n,r),delete ii.defs.current,n},defs:function(e){return null},use:function(e,t){let i;const n=e.getAttribute("href")||e.getAttribute("xlink:href");if(!n)return i=new Te("encountered <use /> with no href."),console.warn(i.name,i.message),null;const r=n.slice(1);if(!ii.defs.current.contains(r))return i=new Te("unable to find element for reference "+n+"."),console.warn(i.name,i.message),null;const s=ii.defs.current.get(r).cloneNode(!0);for(let t=0;t<e.attributes.length;t++){const i=e.attributes[t],n=Yt.includes(i.nodeName),r=!s.hasAttribute(i.nodeName);(n||r)&&s.setAttribute(i.nodeName,i.value)}const o=Gt(s.nodeName);return ii[o].call(this,s,t)},g:function(e,t){const i=new ae;Zt.call(this,e,i,t),this.add(i);const n=Jt.call(this,e);for(let t=0,r=e.childNodes.length;t<r;t++){const r=e.childNodes[t],s=r.nodeName;if(!s)return;const o=Gt(s);if(o in ii){const e=ii[o].call(i,r,n);e&&!e.parent&&i.add(e)}}return i},polygon:function(e,t){let i;i="string"==typeof e?e:e.getAttribute("points");const n=[];i.replace(/(-?[\d.eE-]+)[,|\s](-?[\d.eE-]+)/g,(function(e,t,i){n.push(new C(parseFloat(t),parseFloat(i)))}));const r=new ht(n,!0).noStroke();return r.fill="black",Zt.call(this,e,r,t),r},polyline:function(e,t){const i=ii.polygon.call(this,e,t);return i.closed=!1,i},path:function(e,t){let i;i="string"==typeof e?e:e.getAttribute("d");let n=[],r=!1,s=!1;if(i){let e,t,o=new C,a=i.match(/[a-df-z][^a-df-z]*/gi);const h=a.length-1;W.each(a.slice(0),(function(e,t){const i=e.slice(1).trim().match(Ut.path),n=e[0],r=n.toLowerCase();let s,o,l,h,c;const u=[];switch(0===t&&(a=[]),r){case"h":case"v":i.length>1&&(s=1);break;case"m":case"l":case"t":i.length>2&&(s=2);break;case"s":case"q":i.length>4&&(s=4);break;case"c":i.length>6&&(s=6);break;case"a":i.length>7&&(s=7)}if(s){for(o=0,l=i.length,c=0;o<l;o+=s){if(h=n,c>0)switch(n){case"m":h="l";break;case"M":h="L"}u.push(h+i.slice(o,o+s).join(" ")),c++}a=Array.prototype.concat.apply(a,u)}else a.push(e)})),W.each(a,(function(i,a){let c,u,d;const f=i[0],p=f.toLowerCase();let g,m,y,_,v,x,b,w,S,k,A,R,E,P,M,j,F;switch(t=i.slice(1).trim().match(Ut.path),s=f===p,p){case"z":if(a>=h)r=!0;else{u=o.x,d=o.y,c=new C(u,d,void 0,void 0,void 0,void 0,l.close);for(let e=n.length-1;e>=0;e--){const t=n[e];if(/m/i.test(t.command)){o=t;break}}}break;case"m":case"l":e=void 0,u=parseFloat(t[0]),d=parseFloat(t[1]),c=new C(u,d,void 0,void 0,void 0,void 0,/m/i.test(p)?l.move:l.line),s&&c.addSelf(o),o=c;break;case"h":case"v":k=/h/i.test(p)?"x":"y",A=/x/i.test(k)?"y":"x",c=new C(void 0,void 0,void 0,void 0,void 0,void 0,l.line),c[k]=parseFloat(t[0]),c[A]=o[A],s&&(c[k]+=o[k]),o=c;break;case"c":case"s":g=o.x,m=o.y,e||(e=new T),/c/i.test(p)?(y=parseFloat(t[0]),_=parseFloat(t[1]),v=parseFloat(t[2]),x=parseFloat(t[3]),b=parseFloat(t[4]),w=parseFloat(t[5])):(S=D(o,e,s),y=S.x,_=S.y,v=parseFloat(t[0]),x=parseFloat(t[1]),b=parseFloat(t[2]),w=parseFloat(t[3])),s&&(y+=g,_+=m,v+=g,x+=m,b+=g,w+=m),o.controls.right.set(y-o.x,_-o.y),c=new C(b,w,v-b,x-w,void 0,void 0,l.curve),o=c,e=c.controls.left;break;case"t":case"q":g=o.x,m=o.y,e||(e=new T),/q/i.test(p)?(y=parseFloat(t[0]),_=parseFloat(t[1]),v=parseFloat(t[0]),x=parseFloat(t[1]),b=parseFloat(t[2]),w=parseFloat(t[3])):(S=D(o,e,s),y=S.x,_=S.y,v=S.x,x=S.y,b=parseFloat(t[0]),w=parseFloat(t[1])),s&&(y+=g,_+=m,v+=g,x+=m,b+=g,w+=m),o.controls.right.set(.33*(y-o.x),.33*(_-o.y)),c=new C(b,w,v-b,x-w,void 0,void 0,l.curve),o=c,e=c.controls.left;break;case"a":g=o.x,m=o.y,E=parseFloat(t[0]),P=parseFloat(t[1]),M=parseFloat(t[2]),j=parseFloat(t[3]),F=parseFloat(t[4]),b=parseFloat(t[5]),w=parseFloat(t[6]),s&&(b+=g,w+=m),R=new C(b,w),R.command=l.arc,R.rx=E,R.ry=P,R.xAxisRotation=M,R.largeArcFlag=j,R.sweepFlag=F,c=R,o=R,e=void 0}c&&(Array.isArray(c)?n=n.concat(c):n.push(c))}))}i=new ht(n,r,void 0,!0).noStroke(),i.fill="black";const o=i.getBoundingClientRect(!0);return o.centroid={x:o.left+o.width/2,y:o.top+o.height/2},W.each(i.vertices,(function(e){e.subSelf(o.centroid)})),Zt.call(this,e,i,t),i.translation.addSelf(o.centroid),i},circle:function(e,t){const i=parseFloat(e.getAttribute("cx")),n=parseFloat(e.getAttribute("cy")),r=parseFloat(e.getAttribute("r")),s=new At(0,0,r).noStroke();return s.fill="black",Zt.call(this,e,s,t),s.translation.x=i,s.translation.y=n,s},ellipse:function(e,t){const i=parseFloat(e.getAttribute("cx")),n=parseFloat(e.getAttribute("cy")),r=parseFloat(e.getAttribute("rx")),s=parseFloat(e.getAttribute("ry")),o=new Pt(0,0,r,s).noStroke();return o.fill="black",Zt.call(this,e,o,t),o.translation.x=i,o.translation.y=n,o},rect:function(e,t){const i=parseFloat(e.getAttribute("rx")),n=parseFloat(e.getAttribute("ry"));if(!W.isNaN(i)||!W.isNaN(n))return ii["rounded-rect"](e);const r=parseFloat(e.getAttribute("width")),s=parseFloat(e.getAttribute("height")),o=r/2,a=s/2,l=new yt(0,0,r,s).noStroke();return l.fill="black",Zt.call(this,e,l,t),l.translation.x+=o,l.translation.y+=a,l},"rounded-rect":function(e,t){const i=parseFloat(e.getAttribute("rx"))||0,n=parseFloat(e.getAttribute("ry"))||0,r=parseFloat(e.getAttribute("width")),s=parseFloat(e.getAttribute("height")),o=r/2,a=s/2,l=new T(i,n),h=new Ot(0,0,r,s,l).noStroke();return h.fill="black",Zt.call(this,e,h,t),h.translation.x+=o,h.translation.y+=a,h},line:function(e,t){const i=parseFloat(e.getAttribute("x1")),n=parseFloat(e.getAttribute("y1")),r=parseFloat(e.getAttribute("x2")),s=parseFloat(e.getAttribute("y2")),o=new jt(i,n,r,s).noFill();return Zt.call(this,e,o,t),o},lineargradient:function(e,t){let i=e.getAttribute("gradientUnits"),n=e.getAttribute("spreadMethod");i||(i="objectBoundingBox"),n||(n="pad");let r=parseFloat(e.getAttribute("x1")||0),s=parseFloat(e.getAttribute("y1")||0),o=parseFloat(e.getAttribute("x2")||0),a=parseFloat(e.getAttribute("y2")||0);const l=(o+r)/2,h=(a+s)/2;/userSpaceOnUse/i.test(i)&&(r-=l,s-=h,o-=l,a-=h);const c=[];for(let t=0;t<e.children.length;t++){const i=e.children[t];let n=i.getAttribute("offset");/%/gi.test(n)&&(n=parseFloat(n.replace(/%/gi,""))/100),n=parseFloat(n);let r,s=i.getAttribute("stop-color"),o=i.getAttribute("stop-opacity"),a=i.getAttribute("style");null===s&&(r=!!a&&a.match(/stop-color:\s?([#a-fA-F0-9]*)/),s=r&&r.length>1?r[1]:void 0),null===o?(r=!!a&&a.match(/stop-opacity:\s?([0-9.-]*)/),o=r&&r.length>1?parseFloat(r[1]):1):o=parseFloat(o),c.push(new Fe(n,s,o))}const u=new ze(r,s,o,a,c);return u.spread=n,u.units=i,Zt.call(this,e,u,t),u},radialgradient:function(e,t){let i=e.getAttribute("gradientUnits"),n=e.getAttribute("spreadMethod");i||(i="objectBoundingBox"),n||(n="pad");let r=parseFloat(e.getAttribute("cx"))||0,s=parseFloat(e.getAttribute("cy"))||0,o=parseFloat(e.getAttribute("r")),a=parseFloat(e.getAttribute("fx")),l=parseFloat(e.getAttribute("fy"));W.isNaN(a)&&(a=r),W.isNaN(l)&&(l=s);const h=Math.abs(r+a)/2,c=Math.abs(s+l)/2;/userSpaceOnUse/i.test(i)&&(r-=h,s-=c,a-=h,l-=c);const u=[];for(let t=0;t<e.children.length;t++){const i=e.children[t];let n=i.getAttribute("offset");/%/gi.test(n)&&(n=parseFloat(n.replace(/%/gi,""))/100),n=parseFloat(n);let r,s=i.getAttribute("stop-color"),o=i.getAttribute("stop-opacity"),a=i.getAttribute("style");null===s&&(r=!!a&&a.match(/stop-color:\s?([#a-fA-F0-9]*)/),s=r&&r.length>1?r[1]:void 0),null===o?(r=!!a&&a.match(/stop-opacity:\s?([0-9.-]*)/),o=r&&r.length>1?parseFloat(r[1]):1):o=parseFloat(o),u.push(new Fe(n,s,o))}const d=new Xe(r,s,o,u,a,l);return d.spread=n,d.units=i,Zt.call(this,e,d,t),d},text:function(e,t){const i=(n=e.getAttribute("text-anchor"),Xt[n]||"left");var n;const r=function(e){const t=e.getAttribute("dominant-baseline"),i=e.getAttribute("alignment-baseline");return t||i}(e)||"baseline",s=e.textContent,o=new Vt(s);return Zt.call(this,e,o,t),o.alignment=i,o.baseline=r,o},clippath:function(e,t){return ii.defs.current&&!ii.defs.current.contains(e.id)&&ii.defs.current.add(e.id,e),null},image:function(e,t){let i;const n=e.getAttribute("href")||e.getAttribute("xlink:href");if(!n)return i=new Te("encountered <image /> with no href."),console.warn(i.name,i.message),null;const r=parseFloat(e.getAttribute("x"))||0,s=parseFloat(e.getAttribute("y"))||0,o=parseFloat(e.getAttribute("width")),a=parseFloat(e.getAttribute("height")),l=new xt(n,r,s);return W.isNaN(o)||(l.width=o),W.isNaN(a)||(l.height=a),Zt.call(this,e,l,t),l}};function ni(e,t){const i=new XMLHttpRequest;return i.open("GET",e),i.onreadystatechange=function(){4===i.readyState&&200===i.status&&t(i.responseText)},i.send(),i}var ri=class extends yt{constructor(e,t,i,n){super(t,i,0,0),a(this,"_flagTextures",!1),a(this,"_flagFrameRate",!1),a(this,"_flagIndex",!1),a(this,"_amount",1),a(this,"_duration",0),a(this,"_index",0),a(this,"_startTime",0),a(this,"_playing",!1),a(this,"_firstFrame",0),a(this,"_lastFrame",0),a(this,"_loop",!0),a(this,"_textures",null),a(this,"_frameRate",0),a(this,"_origin",null);for(let e in oi)Object.defineProperty(this,e,oi[e]);this._renderer.flagTextures=ai.bind(this),this._renderer.bindTextures=li.bind(this),this._renderer.unbindTextures=hi.bind(this),this.noStroke(),this.noFill(),Array.isArray(e)?this.textures=e.map(ci.bind(this)):this.textures=[ci(e)],this.origin=new T,this._update(),this.frameRate="number"==typeof n?n:ri.DefaultFrameRate,this.index=0}play(e,t,i){return this._playing=!0,this._firstFrame=0,this._lastFrame=this.amount-1,this._startTime=W.performance.now(),"number"==typeof e&&(this._firstFrame=e),"number"==typeof t&&(this._lastFrame=t),"function"==typeof i?this._onLastFrame=i:delete this._onLastFrame,this._index!==this._firstFrame&&(this._startTime-=1e3*Math.abs(this._index-this._firstFrame)/this._frameRate),this}pause(){return this._playing=!1,this}stop(){return this._playing=!1,this._index=this._firstFrame,this}clone(e){const t=new ri(this.textures,this.translation.x,this.translation.y,this.frameRate);return t._loop=this._loop,this._playing&&t.play(),e&&e.add(t),t}toObject(){const e=super.toObject.call(this);return e.textures=this.textures.map((function(e){return e.toObject()})),e.frameRate=this.frameRate,e.index=this.index,e._firstFrame=this._firstFrame,e._lastFrame=this._lastFrame,e._loop=this._loop,e}_update(){const e=this._textures;let t,i,n,r,s,o,a,l;return e&&(this._flagTextures&&(this._amount=e.length),this._flagFrameRate&&(this._duration=1e3*this._amount/this._frameRate),this._playing&&this._frameRate>0?(r=this._amount,W.isNaN(this._lastFrame)&&(this._lastFrame=r-1),n=W.performance.now()-this._startTime,l=this._lastFrame+1,s=1e3*(l-this._firstFrame)/this._frameRate,this._loop?n%=s:n=Math.min(n,s),a=g(this._firstFrame,l,n/s),a=Math.floor(a),a!==this._index&&(this._index=a,o=e[this._index],o.loaded&&(t=o.image.width,i=o.image.height,this.width!==t&&(this.width=t),this.height!==i&&(this.height=i),this.fill=o,a>=this._lastFrame-1&&this._onLastFrame&&this._onLastFrame()))):!this._flagIndex&&this.fill instanceof Ze||(o=e[this._index],o.loaded&&(t=o.image.width,i=o.image.height,this.width!==t&&(this.width=t),this.height!==i&&(this.height=i)),this.fill=o)),super._update.call(this),this}flagReset(){return this._flagTextures=this._flagFrameRate=!1,super.flagReset.call(this),this}},si=ri;a(si,"Properties",["textures","frameRate","index"]),a(si,"DefaultFrameRate",30);var oi={frameRate:{enumerable:!0,get:function(){return this._frameRate},set:function(e){this._frameRate=e,this._flagFrameRate=!0}},index:{enumerable:!0,get:function(){return this._index},set:function(e){this._index=e,this._flagIndex=!0}},textures:{enumerable:!0,get:function(){return this._textures},set:function(e){const t=this._renderer.bindTextures,i=this._renderer.unbindTextures;this._textures&&this._textures.unbind(S.Types.insert,t).unbind(S.Types.remove,i),this._textures=new ie((e||[]).slice(0)),this._textures.bind(S.Types.insert,t).bind(S.Types.remove,i),t(this._textures)}}};function ai(){this._flagTextures=!0}function li(e){let t=e.length;for(;t--;)e[t].bind(S.Types.change,this._renderer.flagTextures);this._renderer.flagTextures()}function hi(e){let t=e.length;for(;t--;)e[t].unbind(S.Types.change,this._renderer.flagTextures);this._renderer.flagTextures()}function ci(e){return e instanceof Ze?e:"string"==typeof e?new Ze(e):void 0}var ui=class extends ht{constructor(e,t,i,n,r,s,o){const l=o||3*P.Resolution,h=[];for(let e=0;e<l;e++)h.push(new C);super(h,!0,!1,!0),a(this,"_flagStartAngle",!1),a(this,"_flagEndAngle",!1),a(this,"_flagInnerRadius",!1),a(this,"_flagOuterRadius",!1),a(this,"_startAngle",0),a(this,"_endAngle",c),a(this,"_innerRadius",0),a(this,"_outerRadius",0);for(let e in fi)Object.defineProperty(this,e,fi[e]);"number"==typeof i&&(this.innerRadius=i),"number"==typeof n&&(this.outerRadius=n),"number"==typeof r&&(this.startAngle=r),"number"==typeof s&&(this.endAngle=s),this._update(),"number"==typeof e&&(this.translation.x=e),"number"==typeof t&&(this.translation.y=t)}_update(){if(this._flagVertices||this._flagStartAngle||this._flagEndAngle||this._flagInnerRadius||this._flagOuterRadius){const e=this._startAngle,t=this._endAngle,i=this._innerRadius,n=this._outerRadius,r=_(e,c)===_(t,c),s=i>0,o=this.vertices;let a,h,d,f,p,g,m,y,v,x,b=s?o.length/2:o.length,w=0;for(r?b--:s||(b-=2),h=0,d=b-1;h<b;h++)f=h/d,p=o[w],g=f*(t-e)+e,m=(t-e)/b,y=n*Math.cos(g),v=n*Math.sin(g),a=0===h?l.move:l.curve,p.command=a,p.x=y,p.y=v,p.controls.left.clear(),p.controls.right.clear(),p.command===l.curve&&(x=n*m/Math.PI,p.controls.left.x=x*Math.cos(g-u),p.controls.left.y=x*Math.sin(g-u),p.controls.right.x=x*Math.cos(g+u),p.controls.right.y=x*Math.sin(g+u),1===h&&p.controls.left.multiplyScalar(2),h===d&&p.controls.right.multiplyScalar(2)),w++;if(s){for(r?(o[w].command=l.close,w++):(b--,d=b-1),h=0;h<b;h++)f=h/d,p=o[w],g=(1-f)*(t-e)+e,m=(t-e)/b,y=i*Math.cos(g),v=i*Math.sin(g),a=l.curve,h<=0&&(a=r?l.move:l.line),p.command=a,p.x=y,p.y=v,p.controls.left.clear(),p.controls.right.clear(),p.command===l.curve&&(x=i*m/Math.PI,p.controls.left.x=x*Math.cos(g+u),p.controls.left.y=x*Math.sin(g+u),p.controls.right.x=x*Math.cos(g-u),p.controls.right.y=x*Math.sin(g-u),1===h&&p.controls.left.multiplyScalar(2),h===d&&p.controls.right.multiplyScalar(2)),w++;o[w].copy(o[0]),o[w].command=l.line}else r||(o[w].command=l.line,o[w].x=0,o[w].y=0,w++,o[w].copy(o[0]),o[w].command=l.line)}return super._update.call(this),this}flagReset(){return super.flagReset.call(this),this._flagStartAngle=this._flagEndAngle=this._flagInnerRadius=this._flagOuterRadius=!1,this}clone(e){const t=this.innerRadius,i=this.outerRadius,n=this.startAngle,r=this.endAngle,s=this.vertices.length,o=new ui(0,0,t,i,n,r,s);o.translation.copy(this.translation),o.rotation=this.rotation,o.scale=this.scale,o.skewX=this.skewX,o.skewY=this.skewY,this.matrix.manual&&o.matrix.copy(this.matrix);for(let e=0;e<ht.Properties.length;e++){const t=ht.Properties[e];o[t]=this[t]}return e&&e.add(o),o}toObject(){const e=super.toObject.call(this);for(let t=0;t<ui.Properties.length;t++){const i=ui.Properties[t];e[i]=this[i]}return e}},di=ui;a(di,"Properties",["startAngle","endAngle","innerRadius","outerRadius"]);var fi={startAngle:{enumerable:!0,get:function(){return this._startAngle},set:function(e){this._startAngle=e,this._flagStartAngle=!0}},endAngle:{enumerable:!0,get:function(){return this._endAngle},set:function(e){this._endAngle=e,this._flagEndAngle=!0}},innerRadius:{enumerable:!0,get:function(){return this._innerRadius},set:function(e){this._innerRadius=e,this._flagInnerRadius=!0}},outerRadius:{enumerable:!0,get:function(){return this._outerRadius},set:function(e){this._outerRadius=e,this._flagOuterRadius=!0}}},pi=Math.ceil,gi=Math.floor,mi=class extends Z{constructor(e){super(),a(this,"_flagVertices",!0),a(this,"_flagLength",!0),a(this,"_flagFill",!0),a(this,"_flagStroke",!0),a(this,"_flagLinewidth",!0),a(this,"_flagOpacity",!0),a(this,"_flagVisible",!0),a(this,"_flagSize",!0),a(this,"_flagSizeAttenuation",!0),a(this,"_length",0),a(this,"_fill","#fff"),a(this,"_stroke","#000"),a(this,"_linewidth",1),a(this,"_opacity",1),a(this,"_visible",!0),a(this,"_size",1),a(this,"_sizeAttenuation",!1),a(this,"_beginning",0),a(this,"_ending",1),a(this,"_dashes",null),a(this,"noFill",ht.prototype.noFill),a(this,"noStroke",ht.prototype.noStroke),a(this,"corner",ht.prototype.corner),a(this,"center",ht.prototype.center),a(this,"getBoundingClientRect",ht.prototype.getBoundingClientRect),a(this,"_updateLength",ht.prototype._updateLength);for(let e in _i)Object.defineProperty(this,e,_i[e]);this._renderer.type="points",this._renderer.flagVertices=ut.bind(this),this._renderer.bindVertices=dt.bind(this),this._renderer.unbindVertices=ft.bind(this),this._renderer.flagFill=pt.bind(this),this._renderer.flagStroke=gt.bind(this),this._renderer.vertices=null,this._renderer.collection=null,this.sizeAttenuation=!1,this.beginning=0,this.ending=1,this.fill="#fff",this.stroke="#000",this.className="",this.visible=!0,this.vertices=e,this.dashes=[],this.dashes.offset=0}clone(e){const t=new mi;for(let e=0;e<this.vertices.length;e++)t.vertices.push(this.vertices[e].clone());for(let e=0;e<mi.Properties.length;e++){const i=mi.Properties[e];t[i]=this[i]}return t.className=this.className,t.translation.copy(this.translation),t.rotation=this.rotation,t.scale=this.scale,t.skewX=this.skewX,t.skewY=this.skewY,this.matrix.manual&&t.matrix.copy(this.matrix),e&&e.add(t),t._update()}toObject(){const e={vertices:this.vertices.map((function(e){return e.toObject()}))};return W.each(mi.Properties,(function(t){e[t]=this[t]}),this),e.className=this.className,e.translation=this.translation.toObject(),e.rotation=this.rotation,e.scale=this.scale instanceof T?this.scale.toObject():this.scale,e.skewX=this.skewX,e.skewY=this.skewY,this.matrix.manual&&(e.matrix=this.matrix.toObject()),e}subdivide(e){this._update();let t=[];for(let i=0;i<this.vertices.length;i++){const n=this.vertices[i],r=this.vertices[i-1];if(!r)continue;const s=n.x,o=n.y,a=r.x,l=r.y,h=F(s,o,s,o,a,l,a,l,e);t=t.concat(h)}return this.vertices=t,this}_update(){if(this._flagVertices){this._flagLength&&this._updateLength(void 0,!0);const e=Math.min(this._beginning,this._ending),t=Math.max(this._beginning,this._ending),i=Ee(this,e*this._length),n=Ee(this,t*this._length),r=pi(i),s=gi(n);let o,a=0;this._renderer.vertices=[],this._renderer.collection=[];for(let e=0;e<this._collection.length;e++)e>=r&&e<=s&&(o=this._collection[e],this._renderer.collection.push(o),this._renderer.vertices[2*a+0]=o.x,this._renderer.vertices[2*a+1]=o.y,a++)}return super._update.apply(this,arguments),this}flagReset(){return this._flagVertices=this._flagLength=this._flagFill=this._flagStroke=this._flagLinewidth=this._flagOpacity=this._flagVisible=this._flagSize=this._flagSizeAttenuation=!1,super.flagReset.call(this),this}},yi=mi;a(yi,"Properties",["fill","stroke","linewidth","opacity","visible","size","sizeAttenuation","beginning","ending"]);var _i={linewidth:{enumerable:!0,get:function(){return this._linewidth},set:function(e){this._linewidth=e,this._flagLinewidth=!0}},opacity:{enumerable:!0,get:function(){return this._opacity},set:function(e){this._opacity=e,this._flagOpacity=!0}},visible:{enumerable:!0,get:function(){return this._visible},set:function(e){this._visible=e,this._flagVisible=!0}},size:{enumerable:!0,get:function(){return this._size},set:function(e){this._size=e,this._flagSize=!0}},sizeAttenuation:{enumerable:!0,get:function(){return this._sizeAttenuation},set:function(e){this._sizeAttenuation=e,this._flagSizeAttenuation=!0}},fill:{enumerable:!0,get:function(){return this._fill},set:function(e){(this._fill instanceof Ie||this._fill instanceof ze||this._fill instanceof Xe||this._fill instanceof Ze)&&this._fill.unbind(S.Types.change,this._renderer.flagFill),this._fill=e,this._flagFill=!0,(this._fill instanceof Ie||this._fill instanceof ze||this._fill instanceof Xe||this._fill instanceof Ze)&&this._fill.bind(S.Types.change,this._renderer.flagFill)}},stroke:{enumerable:!0,get:function(){return this._stroke},set:function(e){(this._stroke instanceof Ie||this._stroke instanceof ze||this._stroke instanceof Xe||this._stroke instanceof Ze)&&this._stroke.unbind(S.Types.change,this._renderer.flagStroke),this._stroke=e,this._flagStroke=!0,(this._stroke instanceof Ie||this._stroke instanceof ze||this._stroke instanceof Xe||this._stroke instanceof Ze)&&this._stroke.bind(S.Types.change,this._renderer.flagStroke)}},length:{get:function(){return this._flagLength&&this._updateLength(),this._length}},beginning:{enumerable:!0,get:function(){return this._beginning},set:function(e){this._beginning=e,this._flagVertices=!0}},ending:{enumerable:!0,get:function(){return this._ending},set:function(e){this._ending=e,this._flagVertices=!0}},vertices:{enumerable:!0,get:function(){return this._collection},set:function(e){const t=this._renderer.bindVertices,i=this._renderer.unbindVertices;this._collection&&this._collection.unbind(S.Types.insert,t).unbind(S.Types.remove,i),this._collection=e instanceof ie?e:new ie(e||[]),this._collection.bind(S.Types.insert,t).bind(S.Types.remove,i),t(this._collection)}},dashes:{enumerable:!0,get:function(){return this._dashes},set:function(e){"number"!=typeof e.offset&&(e.offset=this.dashes&&this._dashes.offset||0),this._dashes=e}}},vi=Math.cos,xi=Math.sin,bi=class extends ht{constructor(e,t,i,n){n=Math.max(n||0,3),super(),a(this,"_flagWidth",!1),a(this,"_flagHeight",!1),a(this,"_flagSides",!1),a(this,"_radius",0),a(this,"_width",0),a(this,"_height",0),a(this,"_sides",0);for(let e in Si)Object.defineProperty(this,e,Si[e]);this.closed=!0,this.automatic=!1,"number"==typeof i&&(this.radius=i),"number"==typeof n&&(this.sides=n),this._update(),"number"==typeof e&&(this.translation.x=e),"number"==typeof t&&(this.translation.y=t)}_update(){if(this._flagVertices||this._flagWidth||this._flagHeight||this._flagSides){const e=this._sides,t=e+1;let i=this.vertices.length;i>e&&(this.vertices.splice(e-1,i-e),i=e);for(let n=0;n<t;n++){const t=c*((n+.5)/e)+Math.PI/2,r=this._width*vi(t)/2,s=this._height*xi(t)/2;n>=i?this.vertices.push(new C(r,s)):this.vertices[n].set(r,s),this.vertices[n].command=0===n?l.move:l.line}}return super._update.call(this),this}flagReset(){return this._flagWidth=this._flagHeight=this._flagSides=!1,super.flagReset.call(this),this}clone(e){const t=new bi(0,0,0,this.sides);t.translation.copy(this.translation),t.rotation=this.rotation,t.scale=this.scale,t.skewX=this.skewX,t.skewY=this.skewY,t.width=this.width,t.height=this.height,this.matrix.manual&&t.matrix.copy(this.matrix);for(let e=0;e<ht.Properties.length;e++){const i=ht.Properties[e];t[i]=this[i]}return e&&e.add(t),t}toObject(){const e=super.toObject.call(this);for(let t=0;t<bi.Properties.length;t++){const i=bi.Properties[t];e[i]=this[i]}return e}},wi=bi;a(wi,"Properties",["width","height","sides"]);var Si={radius:{enumerable:!0,get:function(){return this._radius},set:function(e){this._radius=e,this.width=2*e,this.height=2*e}},width:{enumerable:!0,get:function(){return this._width},set:function(e){this._width=e,this._flagWidth=!0,this._radius=Math.max(this.width,this.height)/2}},height:{enumerable:!0,get:function(){return this._height},set:function(e){this._height=e,this._flagHeight=!0,this._radius=Math.max(this.width,this.height)/2}},sides:{enumerable:!0,get:function(){return this._sides},set:function(e){this._sides=e,this._flagSides=!0}}},ki=Math.cos,Ai=Math.sin,Ti=class extends ht{constructor(e,t,i,n,r){arguments.length<=3&&(i=(n=i)/2),("number"!=typeof r||r<=0)&&(r=5),super(),a(this,"_flagInnerRadius",!1),a(this,"_flagOuterRadius",!1),a(this,"_flagSides",!1),a(this,"_innerRadius",0),a(this,"_outerRadius",0),a(this,"_sides",0);for(let e in Ri)Object.defineProperty(this,e,Ri[e]);this.closed=!0,this.automatic=!1,"number"==typeof i&&(this.innerRadius=i),"number"==typeof n&&(this.outerRadius=n),"number"==typeof r&&(this.sides=r),this._update(),"number"==typeof e&&(this.translation.x=e),"number"==typeof t&&(this.translation.y=t)}_update(){if(this._flagVertices||this._flagInnerRadius||this._flagOuterRadius||this._flagSides){const e=2*this._sides,t=e+1;let i=this.vertices.length;i>e&&(this.vertices.splice(e-1,i-e),i=e);for(let n=0;n<t;n++){const t=c*((n+.5)/e),r=(n%2?this._outerRadius:this._innerRadius)/2,s=r*ki(t),o=r*Ai(t);n>=i?this.vertices.push(new C(s,o)):this.vertices[n].set(s,o),this.vertices[n].command=0===n?l.move:l.line}}return super._update.call(this),this}flagReset(){return this._flagInnerRadius=this._flagOuterRadius=this._flagSides=!1,super.flagReset.call(this),this}clone(e){const t=this.innerRadius,i=this.outerRadius,n=this.sides,r=new Ti(0,0,t,i,n);r.translation.copy(this.translation),r.rotation=this.rotation,r.scale=this.scale,r.skewX=this.skewX,r.skewY=this.skewY,this.matrix.manual&&r.matrix.copy(this.matrix);for(let e=0;e<ht.Properties.length;e++){const t=ht.Properties[e];r[t]=this[t]}return e&&e.add(r),r}toObject(){const e=super.toObject.call(this);for(let t=0;t<Ti.Properties.length;t++){const i=Ti.Properties[t];e[i]=this[i]}return e}},Ci=Ti;a(Ci,"Properties",["innerRadius","outerRadius","sides"]);var Ri={innerRadius:{enumerable:!0,get:function(){return this._innerRadius},set:function(e){this._innerRadius=e,this._flagInnerRadius=!0}},outerRadius:{enumerable:!0,get:function(){return this._outerRadius},set:function(e){this._outerRadius=e,this._flagOuterRadius=!0}},sides:{enumerable:!0,get:function(){return this._sides},set:function(e){this._sides=e,this._flagSides=!0}}},Ei=new J,Pi={version:1.1,ns:"http://www.w3.org/2000/svg",xlink:"http://www.w3.org/1999/xlink",alignments:{left:"start",center:"middle",right:"end"},createElement:function(e,t){const i=e,n=document.createElementNS(Pi.ns,i);return"svg"===i&&(t=W.defaults(t||{},{version:Pi.version})),t&&Object.keys(t).length>0&&Pi.setAttributes(n,t),n},setAttributes:function(e,t){const i=Object.keys(t);for(let n=0;n<i.length;n++)/href/.test(i[n])?e.setAttributeNS(Pi.xlink,i[n],t[i[n]]):e.setAttribute(i[n],t[i[n]]);return this},removeAttributes:function(e,t){for(let i in t)e.removeAttribute(i);return this},toString:function(e,t){let i,n=e.length,r=n-1,s="";for(let o=0;o<n;o++){const a=e[o],h=e[t?_(o-1,n):Math.max(o-1,0)];let c,u,d,f,p,g,m,y,v,x,w,S,k,A,C,R=b(a.x),E=b(a.y);switch(a.command){case l.close:c=l.close;break;case l.arc:w=a.rx,S=a.ry,k=a.xAxisRotation,A=a.largeArcFlag,C=a.sweepFlag,c=l.arc+" "+w+" "+S+" "+k+" "+A+" "+C+" "+R+" "+E;break;case l.curve:m=h.controls&&h.controls.right||T.zero,y=a.controls&&a.controls.left||T.zero,h.relative?(d=b(m.x+h.x),f=b(m.y+h.y)):(d=b(m.x),f=b(m.y)),a.relative?(p=b(y.x+a.x),g=b(y.y+a.y)):(p=b(y.x),g=b(y.y)),c=(0===o?l.move:l.curve)+" "+d+" "+f+" "+p+" "+g+" "+R+" "+E;break;case l.move:i=a,c=l.move+" "+R+" "+E;break;default:c=a.command+" "+R+" "+E}o>=r&&t&&(a.command===l.curve&&(u=i,v=a.controls&&a.controls.right||a,x=u.controls&&u.controls.left||u,a.relative?(d=b(v.x+a.x),f=b(v.y+a.y)):(d=b(v.x),f=b(v.y)),u.relative?(p=b(x.x+u.x),g=b(x.y+u.y)):(p=b(x.x),g=b(x.y)),R=b(u.x),E=b(u.y),c+=" C "+d+" "+f+" "+p+" "+g+" "+R+" "+E),a.command!==l.close&&(c+=" Z")),s+=c+" "}return s},pointsToString:function(e,t){let i="";const n=.5*t;for(let t=0;t<e.length;t++){const r=e[t].x,s=e[t].y-n;i+=l.move+" "+r+" "+s+" ",i+="a "+n+" "+n+" 0 1 0 0.001 0 Z"}return i},getClip:function(e,t){let i=e._renderer.clip;return i||(i=e._renderer.clip=Pi.createElement("clipPath",{"clip-rule":"nonzero"}),t.defs.appendChild(i)),i},group:{appendChild:function(e){const t=e._renderer.elem;if(!t)return;const i=t.nodeName;!i||/(radial|linear)gradient/i.test(i)||e._clip||this.elem.appendChild(t)},removeChild:function(e){const t=e._renderer.elem;t&&t.parentNode==this.elem&&t.nodeName&&(e._clip||this.elem.removeChild(t))},orderChild:function(e){this.elem.appendChild(e._renderer.elem)},renderChild:function(e){Pi[e._renderer.type].render.call(e,this)},render:function(e){if(!this._visible&&!this._flagVisible||0===this._opacity&&!this._flagOpacity)return this;this._update(),this._renderer.elem||(this._renderer.elem=Pi.createElement("g",{id:this.id}),e.appendChild(this._renderer.elem));const t=this._matrix.manual||this._flagMatrix,i={domElement:e,elem:this._renderer.elem};t&&this._renderer.elem.setAttribute("transform","matrix("+this._matrix.toString()+")");for(let t=0;t<this.children.length;t++){const i=this.children[t];Pi[i._renderer.type].render.call(i,e)}return this._flagId&&this._renderer.elem.setAttribute("id",this._id),this._flagOpacity&&this._renderer.elem.setAttribute("opacity",this._opacity),this._flagVisible&&this._renderer.elem.setAttribute("display",this._visible?"inline":"none"),this._flagClassName&&this._renderer.elem.setAttribute("class",this.classList.join(" ")),this._flagAdditions&&this.additions.forEach(Pi.group.appendChild,i),this._flagSubtractions&&this.subtractions.forEach(Pi.group.removeChild,i),this._flagOrder&&this.children.forEach(Pi.group.orderChild,i),this._flagMask&&(this._mask?(Pi[this._mask._renderer.type].render.call(this._mask,e),this._renderer.elem.setAttribute("clip-path","url(#"+this._mask.id+")")):this._renderer.elem.removeAttribute("clip-path")),this.dataset&&Object.assign(this._renderer.elem.dataset,this.dataset),this.flagReset()}},path:{render:function(e){if(0===this._opacity&&!this._flagOpacity)return this;this._update();const t={};if((this._matrix.manual||this._flagMatrix)&&(t.transform="matrix("+this._matrix.toString()+")"),this._flagId&&(t.id=this._id),this._flagVertices){const e=Pi.toString(this._renderer.vertices,this._closed);t.d=e}if(this._fill&&this._fill._renderer&&(this._fill._update(),Pi[this._fill._renderer.type].render.call(this._fill,e,!0)),this._flagFill&&(t.fill=this._fill&&this._fill.id?"url(#"+this._fill.id+")":this._fill),this._stroke&&this._stroke._renderer&&(this._stroke._update(),Pi[this._stroke._renderer.type].render.call(this._stroke,e,!0)),this._flagStroke&&(t.stroke=this._stroke&&this._stroke.id?"url(#"+this._stroke.id+")":this._stroke),this._flagLinewidth&&(t["stroke-width"]=this._linewidth),this._flagOpacity&&(t["stroke-opacity"]=this._opacity,t["fill-opacity"]=this._opacity),this._flagClassName&&(t.class=this.classList.join(" ")),this._flagVisible&&(t.visibility=this._visible?"visible":"hidden"),this._flagCap&&(t["stroke-linecap"]=this._cap),this._flagJoin&&(t["stroke-linejoin"]=this._join),this._flagMiter&&(t["stroke-miterlimit"]=this._miter),this.dashes&&this.dashes.length>0&&(t["stroke-dasharray"]=this.dashes.join(" "),t["stroke-dashoffset"]=this.dashes.offset||0),this._renderer.elem?Pi.setAttributes(this._renderer.elem,t):(t.id=this._id,this._renderer.elem=Pi.createElement("path",t),e.appendChild(this._renderer.elem)),this._flagClip){const t=Pi.getClip(this,e),i=this._renderer.elem;this._clip?(i.removeAttribute("id"),t.setAttribute("id",this.id),t.appendChild(i)):(t.removeAttribute("id"),i.setAttribute("id",this.id),this.parent._renderer.elem.appendChild(i))}return this._flagMask&&(this._mask?(Pi[this._mask._renderer.type].render.call(this._mask,e),this._renderer.elem.setAttribute("clip-path","url(#"+this._mask.id+")")):this._renderer.elem.removeAttribute("clip-path")),this.flagReset()}},points:{render:function(e){if(0===this._opacity&&!this._flagOpacity)return this;this._update();const t={};if((this._matrix.manual||this._flagMatrix)&&(t.transform="matrix("+this._matrix.toString()+")"),this._flagId&&(t.id=this._id),this._flagVertices||this._flagSize||this._flagSizeAttenuation){let e=this._size;if(!this._sizeAttenuation){p(this,Ei);const t=Ei.elements,i=d(t[0],t[3],t[1],t[4],t[2],t[5]);e/=Math.max(i.scaleX,i.scaleY)}const i=Pi.pointsToString(this._renderer.collection,e);t.d=i}return this._fill&&this._fill._renderer&&(this._fill._update(),Pi[this._fill._renderer.type].render.call(this._fill,e,!0)),this._flagFill&&(t.fill=this._fill&&this._fill.id?"url(#"+this._fill.id+")":this._fill),this._stroke&&this._stroke._renderer&&(this._stroke._update(),Pi[this._stroke._renderer.type].render.call(this._stroke,e,!0)),this._flagStroke&&(t.stroke=this._stroke&&this._stroke.id?"url(#"+this._stroke.id+")":this._stroke),this._flagLinewidth&&(t["stroke-width"]=this._linewidth),this._flagOpacity&&(t["stroke-opacity"]=this._opacity,t["fill-opacity"]=this._opacity),this._flagClassName&&(t.class=this.classList.join(" ")),this._flagVisible&&(t.visibility=this._visible?"visible":"hidden"),this.dashes&&this.dashes.length>0&&(t["stroke-dasharray"]=this.dashes.join(" "),t["stroke-dashoffset"]=this.dashes.offset||0),this._renderer.elem?Pi.setAttributes(this._renderer.elem,t):(t.id=this._id,this._renderer.elem=Pi.createElement("path",t),e.appendChild(this._renderer.elem)),this.flagReset()}},text:{render:function(e){this._update();const t={};if((this._matrix.manual||this._flagMatrix)&&(t.transform="matrix("+this._matrix.toString()+")"),this._flagId&&(t.id=this._id),this._flagFamily&&(t["font-family"]=this._family),this._flagSize&&(t["font-size"]=this._size),this._flagLeading&&(t["line-height"]=this._leading),this._flagAlignment&&(t["text-anchor"]=Pi.alignments[this._alignment]||this._alignment),this._flagBaseline&&(t["alignment-baseline"]=t["dominant-baseline"]=this._baseline),this._flagStyle&&(t["font-style"]=this._style),this._flagWeight&&(t["font-weight"]=this._weight),this._flagDecoration&&(t["text-decoration"]=this._decoration),this._fill&&this._fill._renderer&&(this._fill._update(),Pi[this._fill._renderer.type].render.call(this._fill,e,!0)),this._flagFill&&(t.fill=this._fill&&this._fill.id?"url(#"+this._fill.id+")":this._fill),this._stroke&&this._stroke._renderer&&(this._stroke._update(),Pi[this._stroke._renderer.type].render.call(this._stroke,e,!0)),this._flagStroke&&(t.stroke=this._stroke&&this._stroke.id?"url(#"+this._stroke.id+")":this._stroke),this._flagLinewidth&&(t["stroke-width"]=this._linewidth),this._flagOpacity&&(t.opacity=this._opacity),this._flagClassName&&(t.class=this.classList.join(" ")),this._flagVisible&&(t.visibility=this._visible?"visible":"hidden"),this.dashes&&this.dashes.length>0&&(t["stroke-dasharray"]=this.dashes.join(" "),t["stroke-dashoffset"]=this.dashes.offset||0),this._renderer.elem?Pi.setAttributes(this._renderer.elem,t):(t.id=this._id,this._renderer.elem=Pi.createElement("text",t),e.defs.appendChild(this._renderer.elem)),this._flagClip){const t=Pi.getClip(this,e),i=this._renderer.elem;this._clip?(i.removeAttribute("id"),t.setAttribute("id",this.id),t.appendChild(i)):(t.removeAttribute("id"),i.setAttribute("id",this.id),this.parent._renderer.elem.appendChild(i))}return this._flagMask&&(this._mask?(Pi[this._mask._renderer.type].render.call(this._mask,e),this._renderer.elem.setAttribute("clip-path","url(#"+this._mask.id+")")):this._renderer.elem.removeAttribute("clip-path")),this._flagValue&&(this._renderer.elem.textContent=this._value),this.flagReset()}},"linear-gradient":{render:function(e,t){t||this._update();const i={};if(this._flagId&&(i.id=this._id),this._flagEndPoints&&(i.x1=this.left._x,i.y1=this.left._y,i.x2=this.right._x,i.y2=this.right._y),this._flagSpread&&(i.spreadMethod=this._spread),this._flagUnits&&(i.gradientUnits=this._units),this._renderer.elem?Pi.setAttributes(this._renderer.elem,i):(i.id=this._id,this._renderer.elem=Pi.createElement("linearGradient",i),e.defs.appendChild(this._renderer.elem)),this._flagStops){const e=this._renderer.elem.childNodes.length!==this.stops.length;if(e)for(;this._renderer.elem.lastChild;)this._renderer.elem.removeChild(this._renderer.elem.lastChild);for(let t=0;t<this.stops.length;t++){const i=this.stops[t],n={};i._flagOffset&&(n.offset=100*i._offset+"%"),i._flagColor&&(n["stop-color"]=i._color),i._flagOpacity&&(n["stop-opacity"]=i._opacity),i._renderer.elem?Pi.setAttributes(i._renderer.elem,n):i._renderer.elem=Pi.createElement("stop",n),e&&this._renderer.elem.appendChild(i._renderer.elem),i.flagReset()}}return this.flagReset()}},"radial-gradient":{render:function(e,t){t||this._update();const i={};if(this._flagId&&(i.id=this._id),this._flagCenter&&(i.cx=this.center._x,i.cy=this.center._y),this._flagFocal&&(i.fx=this.focal._x,i.fy=this.focal._y),this._flagRadius&&(i.r=this._radius),this._flagSpread&&(i.spreadMethod=this._spread),this._flagUnits&&(i.gradientUnits=this._units),this._renderer.elem?Pi.setAttributes(this._renderer.elem,i):(i.id=this._id,this._renderer.elem=Pi.createElement("radialGradient",i),e.defs.appendChild(this._renderer.elem)),this._flagStops){const e=this._renderer.elem.childNodes.length!==this.stops.length;if(e)for(;this._renderer.elem.lastChild;)this._renderer.elem.removeChild(this._renderer.elem.lastChild);for(let t=0;t<this.stops.length;t++){const i=this.stops[t],n={};i._flagOffset&&(n.offset=100*i._offset+"%"),i._flagColor&&(n["stop-color"]=i._color),i._flagOpacity&&(n["stop-opacity"]=i._opacity),i._renderer.elem?Pi.setAttributes(i._renderer.elem,n):i._renderer.elem=Pi.createElement("stop",n),e&&this._renderer.elem.appendChild(i._renderer.elem),i.flagReset()}}return this.flagReset()}},texture:{render:function(e,t){t||this._update();const i={},n={x:0,y:0},r=this.image;if(this._flagId&&(i.id=this._id),this._flagLoaded&&this.loaded)switch(r.nodeName.toLowerCase()){case"canvas":n.href=n["xlink:href"]=r.toDataURL("image/png");break;case"img":case"image":n.href=n["xlink:href"]=this.src}return(this._flagOffset||this._flagLoaded||this._flagScale)&&(i.x=this._offset.x,i.y=this._offset.y,r&&(i.x-=r.width/2,i.y-=r.height/2,this._scale instanceof T?(i.x*=this._scale.x,i.y*=this._scale.y):(i.x*=this._scale,i.y*=this._scale)),i.x>0&&(i.x*=-1),i.y>0&&(i.y*=-1)),(this._flagScale||this._flagLoaded||this._flagRepeat)&&(i.width=0,i.height=0,r)&&(n.width=i.width=r.width,n.height=i.height=r.height,"no-repeat"===this._repeat&&(i.width+=1,i.height+=1),this._scale instanceof T?(i.width*=this._scale.x,i.height*=this._scale.y):(i.width*=this._scale,i.height*=this._scale)),(this._flagScale||this._flagLoaded)&&(this._renderer.image?Pi.setAttributes(this._renderer.image,n):this._renderer.image=Pi.createElement("image",n)),this._renderer.elem?0!==Object.keys(i).length&&Pi.setAttributes(this._renderer.elem,i):(i.id=this._id,i.patternUnits="userSpaceOnUse",this._renderer.elem=Pi.createElement("pattern",i),e.defs.appendChild(this._renderer.elem)),this._renderer.elem&&this._renderer.image&&!this._renderer.appended&&(this._renderer.elem.appendChild(this._renderer.image),this._renderer.appended=!0),this.flagReset()}}},Mi=class extends S{constructor(e){super(),this.domElement=e.domElement||Pi.createElement("svg"),this.scene=new ae,this.scene.parent=this,this.defs=Pi.createElement("defs"),this.domElement.appendChild(this.defs),this.domElement.defs=this.defs,this.domElement.style.overflow="hidden"}setSize(e,t){return this.width=e,this.height=t,Pi.setAttributes(this.domElement,{width:e,height:t}),this.trigger(S.Types.resize,e,t)}render(){return Pi.group.render.call(this.scene,this.domElement),this}};a(Mi,"Utils",Pi);var ji=function(e,t,i){const n=e.createShader(e[i]);if(e.shaderSource(n,t),e.compileShader(n),!e.getShaderParameter(n,e.COMPILE_STATUS)){const t=e.getShaderInfoLog(n);throw e.deleteShader(n),new Te("unable to compile shader "+n+": "+t)}return n},Fi={vertex:"VERTEX_SHADER",fragment:"FRAGMENT_SHADER"},Li={vertex:"\n      precision mediump float;\n      attribute vec2 a_position;\n\n      uniform mat3 u_matrix;\n      uniform vec2 u_resolution;\n      uniform vec4 u_rect;\n\n      varying vec2 v_textureCoords;\n\n      void main() {\n        vec2 rectCoords = (a_position * (u_rect.zw - u_rect.xy)) + u_rect.xy;\n        vec2 projected = (u_matrix * vec3(rectCoords, 1.0)).xy;\n        vec2 normal = projected / u_resolution;\n        vec2 clipspace = (normal * 2.0) - 1.0;\n\n        gl_Position = vec4(clipspace * vec2(1.0, -1.0), 0.0, 1.0);\n        v_textureCoords = a_position;\n      }\n    ",fragment:"\n      precision mediump float;\n\n      uniform sampler2D u_image;\n      varying vec2 v_textureCoords;\n\n      void main() {\n        vec4 texel = texture2D(u_image, v_textureCoords);\n        if (texel.a == 0.0) {\n          discard;\n        }\n        gl_FragColor = texel;\n      }\n    "},Oi={vertex:"\n      precision mediump float;\n      attribute vec2 a_position;\n\n      uniform float u_size;\n      uniform mat3 u_matrix;\n      uniform vec2 u_resolution;\n\n      varying vec2 v_textureCoords;\n\n      void main() {\n        vec2 projected = (u_matrix * vec3(a_position, 1.0)).xy;\n        vec2 normal = projected / u_resolution;\n        vec2 clipspace = (normal * 2.0) - 1.0;\n\n        gl_PointSize = u_size;\n        gl_Position = vec4(clipspace * vec2(1.0, -1.0), 0.0, 1.0);\n        v_textureCoords = a_position;\n      }\n    ",fragment:"\n      precision mediump float;\n\n      uniform sampler2D u_image;\n\n      void main() {\n        vec4 texel = texture2D(u_image, gl_PointCoord);\n        if (texel.a == 0.0) {\n          discard;\n        }\n        gl_FragColor = texel;\n      }\n    "},Ii=J.Multiply,Bi=[1,0,0,0,1,0,0,0,1],Ni=new v(9),Di=xe.Utils,Hi=new v([0,0,1,0,0,1,0,1,1,0,1,1]),Vi={precision:.9,isHidden:/(undefined|none|transparent)/i,canvas:n.document?n.document.createElement("canvas"):{getContext:function(){}},alignments:{left:"start",middle:"center",right:"end"},matrix:new J,group:{removeChild:function(e,t){if(e.children)for(let i=0;i<e.children.length;i++)Vi.group.removeChild(e.children[i],t);e._renderer.texture&&(t.deleteTexture(e._renderer.texture),delete e._renderer.texture),e._renderer.positionBuffer&&(t.deleteBuffer(e._renderer.positionBuffer),delete e._renderer.positionBuffer)},render:function(e,t){if(!this._visible)return;this._update();const i=this.parent,n=i._matrix&&i._matrix.manual||i._flagMatrix,r=this._matrix.manual||this._flagMatrix;let s;if((n||r)&&(this._renderer.matrix||(this._renderer.matrix=new v(9)),this._matrix.toTransformArray(!0,Ni),Ii(Ni,i._renderer.matrix,this._renderer.matrix),this._renderer.scale instanceof T||(this._renderer.scale=new T),this._scale instanceof T?(this._renderer.scale.x=this._scale.x,this._renderer.scale.y=this._scale.y):(this._renderer.scale.x=this._scale,this._renderer.scale.y=this._scale),/renderer/i.test(i._renderer.type)||(this._renderer.scale.x*=i._renderer.scale.x,this._renderer.scale.y*=i._renderer.scale.y),n&&(this._flagMatrix=!0)),this._mask&&(e.clear(e.STENCIL_BUFFER_BIT),e.enable(e.STENCIL_TEST),e.stencilFunc(e.ALWAYS,1,0),e.stencilOp(e.KEEP,e.KEEP,e.REPLACE),e.colorMask(!1,!1,!1,!1),Vi[this._mask._renderer.type].render.call(this._mask,e,t,this),e.stencilFunc(e.EQUAL,1,255),e.stencilOp(e.KEEP,e.KEEP,e.KEEP),e.colorMask(!0,!0,!0,!0)),this._flagOpacity=i._flagOpacity||this._flagOpacity,this._renderer.opacity=this._opacity*(i&&i._renderer?i._renderer.opacity:1),this._flagSubtractions)for(s=0;s<this.subtractions.length;s++)Vi.group.removeChild(this.subtractions[s],e);for(s=0;s<this.children.length;s++){const i=this.children[s];Vi[i._renderer.type].render.call(i,e,t)}return this._mask&&e.disable(e.STENCIL_TEST),this.flagReset()}},path:{updateCanvas:function(e){let t,i,n,r,s,o,a,h,c,u,d,f,p,g;const m=e._renderer.vertices,y=this.canvas,v=this.ctx,x=e._renderer.scale,b=e._stroke,w=e._linewidth,S=e._fill,k=e._renderer.opacity||e._opacity,A=e._cap,C=e._join,R=e._miter,E=e._closed,P=e.dashes,M=m.length,j=M-1;y.width=Math.max(Math.ceil(e._renderer.rect.width*x.x),1),y.height=Math.max(Math.ceil(e._renderer.rect.height*x.y),1);const F=e._renderer.rect.centroid,L=F.x,O=F.y;let I,B,N,D,H,V,z,q;v.clearRect(0,0,y.width,y.height),S&&("string"==typeof S?v.fillStyle=S:(Vi[S._renderer.type].render.call(S,v,e),v.fillStyle=S._renderer.effect)),b&&("string"==typeof b?v.strokeStyle=b:(Vi[b._renderer.type].render.call(b,v,e),v.strokeStyle=b._renderer.effect),w&&(v.lineWidth=w),R&&(v.miterLimit=R),C&&(v.lineJoin=C),!E&&A&&(v.lineCap=A)),"number"==typeof k&&(v.globalAlpha=k),P&&P.length>0&&(v.lineDashOffset=P.offset||0,v.setLineDash(P)),v.save(),v.scale(x.x,x.y),v.translate(L,O),v.beginPath();for(let e=0;e<m.length;e++){const g=m[e];switch(f=g.x,p=g.y,g.command){case l.close:v.closePath();break;case l.arc:B=g.rx,N=g.ry,D=g.xAxisRotation,H=g.largeArcFlag,V=g.sweepFlag,t=E?_(e-1,M):Math.max(e-1,0),i=m[t],z=i.x,q=i.y,Di.renderSvgArcCommand(v,z,q,B,N,H,V,D,f,p);break;case l.curve:t=E?_(e-1,M):Math.max(e-1,0),i=m[t],h=i.controls&&i.controls.right||T.zero,c=g.controls&&g.controls.left||T.zero,i._relative?(o=h.x+i.x,a=h.y+i.y):(o=h.x,a=h.y),g._relative?(r=c.x+g.x,s=c.y+g.y):(r=c.x,s=c.y),v.bezierCurveTo(o,a,r,s,f,p),e>=j&&E&&(n=I,u=g.controls&&g.controls.right||T.zero,d=n.controls&&n.controls.left||T.zero,g._relative?(o=u.x+g.x,a=u.y+g.y):(o=u.x,a=u.y),n._relative?(r=d.x+n.x,s=d.y+n.y):(r=d.x,s=d.y),f=n.x,p=n.y,v.bezierCurveTo(o,a,r,s,f,p));break;case l.line:v.lineTo(f,p);break;case l.move:I=g,v.moveTo(f,p)}}E&&v.closePath(),Vi.isHidden.test(S)||(g=S._renderer&&S._renderer.offset,g&&(v.save(),v.translate(-S._renderer.offset.x,-S._renderer.offset.y),v.scale(S._renderer.scale.x,S._renderer.scale.y)),v.fill(),g&&v.restore()),Vi.isHidden.test(b)||(g=b._renderer&&b._renderer.offset,g&&(v.save(),v.translate(-b._renderer.offset.x,-b._renderer.offset.y),v.scale(b._renderer.scale.x,b._renderer.scale.y),v.lineWidth=w/b._renderer.scale.x),v.stroke(),g&&v.restore()),v.restore()},getBoundingClientRect:function(e,t,i){let n,r,s=1/0,o=-1/0,a=1/0,l=-1/0;e.forEach((function(e){const t=e.x,i=e.y,n=e.controls;let r,h,c,u,d,f;a=Math.min(i,a),s=Math.min(t,s),o=Math.max(t,o),l=Math.max(i,l),e.controls&&(d=n.left,f=n.right,d&&f&&(r=e._relative?d.x+t:d.x,h=e._relative?d.y+i:d.y,c=e._relative?f.x+t:f.x,u=e._relative?f.y+i:f.y,r&&h&&c&&u&&(a=Math.min(h,u,a),s=Math.min(r,c,s),o=Math.max(r,c,o),l=Math.max(h,u,l))))})),"number"==typeof t&&(a-=t,s-=t,o+=t,l+=t),n=o-s,r=l-a,i.top=a,i.left=s,i.right=o,i.bottom=l,i.width=n,i.height=r,i.centroid||(i.centroid={}),i.centroid.x=-s,i.centroid.y=-a},render:function(e,t,i){if(!this._visible||!this._opacity)return this;this._update();const n=i||this.parent,r=t[this._renderer.type],s=n._matrix.manual||n._flagMatrix,o=this._matrix.manual||this._flagMatrix,a=this._renderer.parent!==n,l=this._flagVertices||this._flagFill||this._fill instanceof ze&&(this._fill._flagSpread||this._fill._flagStops||this._fill._flagEndPoints)||this._fill instanceof Xe&&(this._fill._flagSpread||this._fill._flagStops||this._fill._flagRadius||this._fill._flagCenter||this._fill._flagFocal)||this._fill instanceof Ze&&(this._fill._flagLoaded&&this._fill.loaded||this._fill._flagImage||this._fill._flagVideo||this._fill._flagRepeat||this._fill._flagOffset||this._fill._flagScale)||this._stroke instanceof ze&&(this._stroke._flagSpread||this._stroke._flagStops||this._stroke._flagEndPoints)||this._stroke instanceof Xe&&(this._stroke._flagSpread||this._stroke._flagStops||this._stroke._flagRadius||this._stroke._flagCenter||this._stroke._flagFocal)||this._stroke instanceof Ze&&(this._stroke._flagLoaded&&this._stroke.loaded||this._stroke._flagImage||this._stroke._flagVideo||this._stroke._flagRepeat||this._stroke._flagOffset||this._fill._flagScale)||this._flagStroke||this._flagLinewidth||this._flagOpacity||n._flagOpacity||this._flagVisible||this._flagCap||this._flagJoin||this._flagMiter||this._flagScale||this.dashes&&this.dashes.length>0||!this._renderer.texture;if((s||o||a)&&(this._renderer.matrix||(this._renderer.matrix=new v(9)),this._matrix.toTransformArray(!0,Ni),Ii(Ni,n._renderer.matrix,this._renderer.matrix),this._renderer.scale instanceof T||(this._renderer.scale=new T),this._scale instanceof T?(this._renderer.scale.x=this._scale.x*n._renderer.scale.x,this._renderer.scale.y=this._scale.y*n._renderer.scale.y):(this._renderer.scale.x=this._scale*n._renderer.scale.x,this._renderer.scale.y=this._scale*n._renderer.scale.y),a&&(this._renderer.parent=n)),this._mask&&(e.clear(e.STENCIL_BUFFER_BIT),e.enable(e.STENCIL_TEST),e.stencilFunc(e.ALWAYS,1,0),e.stencilOp(e.KEEP,e.KEEP,e.REPLACE),e.colorMask(!1,!1,!1,!1),Vi[this._mask._renderer.type].render.call(this._mask,e,t,this),e.stencilFunc(e.EQUAL,1,255),e.stencilOp(e.KEEP,e.KEEP,e.KEEP),e.colorMask(!0,!0,!0,!0)),l?(this._renderer.rect||(this._renderer.rect={}),this._renderer.opacity=this._opacity*n._renderer.opacity,Vi.path.getBoundingClientRect(this._renderer.vertices,this._linewidth,this._renderer.rect),Vi.updateTexture.call(Vi,e,this)):(this._fill&&this._fill._update&&this._fill._update(),this._stroke&&this._stroke._update&&this._stroke._update()),this._clip&&!i||!this._renderer.texture)return this;t.current!==r&&(e.useProgram(r),e.bindBuffer(e.ARRAY_BUFFER,t.buffers.position),e.vertexAttribPointer(r.position,2,e.FLOAT,!1,0,0),e.enableVertexAttribArray(r.position),e.bufferData(e.ARRAY_BUFFER,Hi,e.STATIC_DRAW),t.resolution.flagged||e.uniform2f(e.getUniformLocation(r,"u_resolution"),t.resolution.width,t.resolution.height),t.current=r),t.resolution.flagged&&e.uniform2f(e.getUniformLocation(r,"u_resolution"),t.resolution.width,t.resolution.height),e.bindTexture(e.TEXTURE_2D,this._renderer.texture);const h=this._renderer.rect;return e.uniformMatrix3fv(r.matrix,!1,this._renderer.matrix),e.uniform4f(r.rect,h.left,h.top,h.right,h.bottom),e.drawArrays(e.TRIANGLES,0,6),this._mask&&e.disable(e.STENCIL_TEST),this.flagReset()}},points:{updateCanvas:function(e){let t;const i=this.canvas,n=this.ctx,r=e._stroke,s=e._linewidth,o=e._fill,a=e._renderer.opacity||e._opacity,l=e.dashes,h=e._size;let u=h;Vi.isHidden.test(r)||(u+=s),i.width=y(u),i.height=i.width;const d=u/i.width,f=i.width/2,p=i.height/2;n.clearRect(0,0,i.width,i.height),o&&("string"==typeof o?n.fillStyle=o:(Vi[o._renderer.type].render.call(o,n,e),n.fillStyle=o._renderer.effect)),r&&("string"==typeof r?n.strokeStyle=r:(Vi[r._renderer.type].render.call(r,n,e),n.strokeStyle=r._renderer.effect),s&&(n.lineWidth=s/d)),"number"==typeof a&&(n.globalAlpha=a),l&&l.length>0&&(n.lineDashOffset=l.offset||0,n.setLineDash(l)),n.save(),n.translate(f,p),n.scale(Vi.precision,Vi.precision),n.beginPath(),n.arc(0,0,h/d*.5,0,c),n.restore(),closed&&n.closePath(),Vi.isHidden.test(o)||(t=o._renderer&&o._renderer.offset,t&&(n.save(),n.translate(-o._renderer.offset.x,-o._renderer.offset.y),n.scale(o._renderer.scale.x,o._renderer.scale.y)),n.fill(),t&&n.restore()),Vi.isHidden.test(r)||(t=r._renderer&&r._renderer.offset,t&&(n.save(),n.translate(-r._renderer.offset.x,-r._renderer.offset.y),n.scale(r._renderer.scale.x,r._renderer.scale.y),n.lineWidth=s/r._renderer.scale.x),n.stroke(),t&&n.restore())},render:function(e,t,i){if(!this._visible||!this._opacity)return this;this._update();let n=this._size;const r=i||this.parent,s=t[this._renderer.type],o=this._sizeAttenuation,a=this._stroke,l=this._linewidth,h=r._matrix.manual||r._flagMatrix,c=this._matrix.manual||this._flagMatrix,u=this._renderer.parent!==r,d=this._renderer.vertices,f=this._renderer.collection.length,p=this._flagVertices,g=this._flagFill||this._fill instanceof ze&&(this._fill._flagSpread||this._fill._flagStops||this._fill._flagEndPoints)||this._fill instanceof Xe&&(this._fill._flagSpread||this._fill._flagStops||this._fill._flagRadius||this._fill._flagCenter||this._fill._flagFocal)||this._fill instanceof Ze&&(this._fill._flagLoaded&&this._fill.loaded||this._fill._flagImage||this._fill._flagVideo||this._fill._flagRepeat||this._fill._flagOffset||this._fill._flagScale)||this._stroke instanceof ze&&(this._stroke._flagSpread||this._stroke._flagStops||this._stroke._flagEndPoints)||this._stroke instanceof Xe&&(this._stroke._flagSpread||this._stroke._flagStops||this._stroke._flagRadius||this._stroke._flagCenter||this._stroke._flagFocal)||this._stroke instanceof Ze&&(this._stroke._flagLoaded&&this._stroke.loaded||this._stroke._flagImage||this._stroke._flagVideo||this._stroke._flagRepeat||this._stroke._flagOffset||this._fill._flagScale)||this._flagStroke||this._flagLinewidth||this._flagOpacity||r._flagOpacity||this._flagVisible||this._flagScale||this.dashes&&this.dashes.length>0||!this._renderer.texture;if((h||c||u)&&(this._renderer.matrix||(this._renderer.matrix=new v(9)),this._matrix.toTransformArray(!0,Ni),Ii(Ni,r._renderer.matrix,this._renderer.matrix),this._renderer.scale instanceof T||(this._renderer.scale=new T),this._scale instanceof T?(this._renderer.scale.x=this._scale.x*r._renderer.scale.x,this._renderer.scale.y=this._scale.y*r._renderer.scale.y):(this._renderer.scale.x=this._scale*r._renderer.scale.x,this._renderer.scale.y=this._scale*r._renderer.scale.y),u&&(this._renderer.parent=r)),p){const t=this._renderer.positionBuffer;t&&e.deleteBuffer(t),this._renderer.positionBuffer=e.createBuffer(),e.bindBuffer(e.ARRAY_BUFFER,this._renderer.positionBuffer),e.vertexAttribPointer(s.position,2,e.FLOAT,!1,0,0),e.enableVertexAttribArray(s.position),e.bufferData(e.ARRAY_BUFFER,d,e.STATIC_DRAW)}return g?(this._renderer.opacity=this._opacity*r._renderer.opacity,Vi.updateTexture.call(Vi,e,this)):(this._fill&&this._fill._update&&this._fill._update(),this._stroke&&this._stroke._update&&this._stroke._update()),this._clip&&!i||!this._renderer.texture?this:(Vi.isHidden.test(a)||(n+=l),n/=Vi.precision,o&&(n*=Math.max(this._renderer.scale.x,this._renderer.scale.y)),t.current!==s&&(e.useProgram(s),t.resolution.flagged||e.uniform2f(e.getUniformLocation(s,"u_resolution"),t.resolution.width,t.resolution.height),t.current=s),t.resolution.flagged&&e.uniform2f(e.getUniformLocation(s,"u_resolution"),t.resolution.width,t.resolution.height),e.bindTexture(e.TEXTURE_2D,this._renderer.texture),e.uniformMatrix3fv(s.matrix,!1,this._renderer.matrix),e.uniform1f(s.size,n*t.resolution.ratio),e.drawArrays(e.POINTS,0,f),this.flagReset())}},text:{updateCanvas:function(e){const t=this.canvas,i=this.ctx,n=e._renderer.scale,r=e._stroke,s=e._linewidth*n,o=e._fill,a=e._renderer.opacity||e._opacity,l=e.dashes,h=e._decoration;t.width=Math.max(Math.ceil(e._renderer.rect.width*n.x),1),t.height=Math.max(Math.ceil(e._renderer.rect.height*n.y),1);const c=e._renderer.rect.centroid,u=c.x,d=c.y;let f,p,g,m,y,_,v,x,b,w,S;const k=o._renderer&&o._renderer.offset&&r._renderer&&r._renderer.offset;if(i.clearRect(0,0,t.width,t.height),k||(i.font=[e._style,e._weight,e._size+"px/"+e._leading+"px",e._family].join(" ")),i.textAlign="center",i.textBaseline="middle",o&&("string"==typeof o?i.fillStyle=o:(Vi[o._renderer.type].render.call(o,i,e),i.fillStyle=o._renderer.effect)),r&&("string"==typeof r?i.strokeStyle=r:(Vi[r._renderer.type].render.call(r,i,e),i.strokeStyle=r._renderer.effect),s&&(i.lineWidth=s)),"number"==typeof a&&(i.globalAlpha=a),l&&l.length>0&&(i.lineDashOffset=l.offset||0,i.setLineDash(l)),i.save(),i.scale(n.x,n.y),i.translate(u,d),Vi.isHidden.test(o)||(o._renderer&&o._renderer.offset?(_=o._renderer.scale.x,v=o._renderer.scale.y,i.save(),i.translate(-o._renderer.offset.x,-o._renderer.offset.y),i.scale(_,v),f=e._size/o._renderer.scale.y,p=e._leading/o._renderer.scale.y,i.font=[e._style,e._weight,f+"px/",p+"px",e._family].join(" "),g=o._renderer.offset.x/o._renderer.scale.x,m=o._renderer.offset.y/o._renderer.scale.y,i.fillText(e.value,g,m),i.restore()):i.fillText(e.value,0,0)),Vi.isHidden.test(r)||(r._renderer&&r._renderer.offset?(_=r._renderer.scale.x,v=r._renderer.scale.y,i.save(),i.translate(-r._renderer.offset.x,-r._renderer.offset.y),i.scale(_,v),f=e._size/r._renderer.scale.y,p=e._leading/r._renderer.scale.y,i.font=[e._style,e._weight,f+"px/",p+"px",e._family].join(" "),g=r._renderer.offset.x/r._renderer.scale.x,m=r._renderer.offset.y/r._renderer.scale.y,y=s/r._renderer.scale.x,i.lineWidth=y,i.strokeText(e.value,g,m),i.restore()):i.strokeText(e.value,0,0)),/(underline|strikethrough)/i.test(h)){const t=i.measureText(e.value);switch(h){case"underline":b=t.actualBoundingBoxAscent,S=t.actualBoundingBoxAscent;break;case"strikethrough":b=0,S=0}x=-t.width/2,w=t.width/2,i.lineWidth=Math.max(Math.floor(e._size/15),1),i.strokeStyle=i.fillStyle,i.beginPath(),i.moveTo(x,b),i.lineTo(w,S),i.stroke()}i.restore()},getBoundingClientRect:function(e,t){const i=Vi.ctx;i.font=[e._style,e._weight,e._size+"px/"+e._leading+"px",e._family].join(" "),i.textAlign="center",i.textBaseline=e._baseline;let n=1.25*i.measureText(e._value).width,r=1.25*Math.max(e._size,e._leading);this._linewidth&&!Vi.isHidden.test(this._stroke)&&(n+=2*this._linewidth,r+=2*this._linewidth);const s=n/2,o=r/2;switch(Vi.alignments[e._alignment]||e._alignment){case Vi.alignments.left:t.left=0,t.right=n;break;case Vi.alignments.right:t.left=-n,t.right=0;break;default:t.left=-s,t.right=s}switch(e._baseline){case"bottom":t.top=-r,t.bottom=0;break;case"top":t.top=0,t.bottom=r;break;default:t.top=-o,t.bottom=o}t.width=n,t.height=r,t.centroid||(t.centroid={}),t.centroid.x=s,t.centroid.y=o},render:function(e,t,i){if(!this._visible||!this._opacity)return this;this._update();const n=i||this.parent,r=t[this._renderer.type],s=n._matrix.manual||n._flagMatrix,o=this._matrix.manual||this._flagMatrix,a=this._renderer.parent!==n,l=this._flagVertices||this._flagFill||this._fill instanceof ze&&(this._fill._flagSpread||this._fill._flagStops||this._fill._flagEndPoints)||this._fill instanceof Xe&&(this._fill._flagSpread||this._fill._flagStops||this._fill._flagRadius||this._fill._flagCenter||this._fill._flagFocal)||this._fill instanceof Ze&&(this._fill._flagLoaded&&this._fill.loaded||this._fill._flagImage||this._fill._flagVideo||this._fill._flagRepeat||this._fill._flagOffset||this._fill._flagScale)||this._stroke instanceof ze&&(this._stroke._flagSpread||this._stroke._flagStops||this._stroke._flagEndPoints)||this._stroke instanceof Xe&&(this._stroke._flagSpread||this._stroke._flagStops||this._stroke._flagRadius||this._stroke._flagCenter||this._stroke._flagFocal)||this._stroke instanceof Ze&&(this._stroke._flagLoaded&&this._stroke.loaded||this._stroke._flagImage||this._stroke._flagVideo||this._stroke._flagRepeat||this._stroke._flagOffset||this._fill._flagScale)||this._flagStroke||this._flagLinewidth||this._flagOpacity||n._flagOpacity||this._flagVisible||this._flagScale||this._flagValue||this._flagFamily||this._flagSize||this._flagLeading||this._flagAlignment||this._flagBaseline||this._flagStyle||this._flagWeight||this._flagDecoration||this.dashes&&this.dashes.length>0||!this._renderer.texture;if((s||o||a)&&(this._renderer.matrix||(this._renderer.matrix=new v(9)),this._matrix.toTransformArray(!0,Ni),Ii(Ni,n._renderer.matrix,this._renderer.matrix),this._renderer.scale instanceof T||(this._renderer.scale=new T),this._scale instanceof T?(this._renderer.scale.x=this._scale.x*n._renderer.scale.x,this._renderer.scale.y=this._scale.y*n._renderer.scale.y):(this._renderer.scale.x=this._scale*n._renderer.scale.x,this._renderer.scale.y=this._scale*n._renderer.scale.y),a&&(this._renderer.parent=n)),this._mask&&(e.clear(e.STENCIL_BUFFER_BIT),e.enable(e.STENCIL_TEST),e.stencilFunc(e.ALWAYS,1,0),e.stencilOp(e.KEEP,e.KEEP,e.REPLACE),e.colorMask(!1,!1,!1,!1),Vi[this._mask._renderer.type].render.call(this._mask,e,t,this),e.stencilFunc(e.EQUAL,1,255),e.stencilOp(e.KEEP,e.KEEP,e.KEEP),e.colorMask(!0,!0,!0,!0)),l?(this._renderer.rect||(this._renderer.rect={}),this._renderer.opacity=this._opacity*n._renderer.opacity,Vi.text.getBoundingClientRect(this,this._renderer.rect),Vi.updateTexture.call(Vi,e,this)):(this._fill&&this._fill._update&&this._fill._update(),this._stroke&&this._stroke._update&&this._stroke._update()),this._clip&&!i||!this._renderer.texture)return this;t.current!==r&&(e.useProgram(r),e.bindBuffer(e.ARRAY_BUFFER,t.buffers.position),e.vertexAttribPointer(r.position,2,e.FLOAT,!1,0,0),e.enableVertexAttribArray(r.position),e.bufferData(e.ARRAY_BUFFER,Hi,e.STATIC_DRAW),t.resolution.flagged||e.uniform2f(e.getUniformLocation(r,"u_resolution"),t.resolution.width,t.resolution.height),t.current=r),t.resolution.flagged&&e.uniform2f(e.getUniformLocation(r,"u_resolution"),t.resolution.width,t.resolution.height),e.bindTexture(e.TEXTURE_2D,this._renderer.texture);const h=this._renderer.rect;return e.uniformMatrix3fv(r.matrix,!1,this._renderer.matrix),e.uniform4f(r.rect,h.left,h.top,h.right,h.bottom),e.drawArrays(e.TRIANGLES,0,6),this._mask&&e.disable(e.STENCIL_TEST),this.flagReset()}},"linear-gradient":{render:function(e,t){if(e.canvas.getContext("2d")&&t){if(this._update(),!this._renderer.effect||this._flagEndPoints||this._flagStops||this._flagUnits){let i,n=this.left._x,r=this.left._y,s=this.right._x,o=this.right._y;/objectBoundingBox/i.test(this._units)&&(i=t.getBoundingClientRect(!0),n=(n-.5)*i.width,r=(r-.5)*i.height,s=(s-.5)*i.width,o=(o-.5)*i.height),this._renderer.effect=e.createLinearGradient(n,r,s,o);for(let e=0;e<this.stops.length;e++){const t=this.stops[e];this._renderer.effect.addColorStop(t._offset,t._color)}}return this.flagReset()}}},"radial-gradient":{render:function(e,t){if(e.canvas.getContext("2d")&&t){if(this._update(),!this._renderer.effect||this._flagCenter||this._flagFocal||this._flagRadius||this._flagStops||this._flagUnits){let i,n=this.center._x,r=this.center._y,s=this.focal._x,o=this.focal._y,a=this._radius;/objectBoundingBox/i.test(this._units)&&(i=t.getBoundingClientRect(!0),n=n*i.width*.5,r=r*i.height*.5,s=s*i.width*.5,o=o*i.height*.5,a*=.5*Math.min(i.width,i.height)),this._renderer.effect=e.createRadialGradient(n,r,0,s,o,a);for(let e=0;e<this.stops.length;e++){const t=this.stops[e];this._renderer.effect.addColorStop(t._offset,t._color)}}return this.flagReset()}}},texture:{render:function(e,t){if(!e.canvas.getContext("2d"))return;this._update();const i=this.image;if((this._flagLoaded||this._flagImage||this._flagVideo||this._flagRepeat)&&this.loaded)this._renderer.effect=e.createPattern(i,this._repeat);else if(!this._renderer.effect)return this.flagReset();return(this._flagOffset||this._flagLoaded||this._flagScale)&&(this._renderer.offset instanceof T||(this._renderer.offset=new T),this._renderer.offset.x=-this._offset.x,this._renderer.offset.y=-this._offset.y,i&&(this._renderer.offset.x+=i.width/2,this._renderer.offset.y+=i.height/2,this._scale instanceof T?(this._renderer.offset.x*=this._scale.x,this._renderer.offset.y*=this._scale.y):(this._renderer.offset.x*=this._scale,this._renderer.offset.y*=this._scale))),(this._flagScale||this._flagLoaded)&&(this._renderer.scale instanceof T||(this._renderer.scale=new T),this._scale instanceof T?this._renderer.scale.copy(this._scale):this._renderer.scale.set(this._scale,this._scale)),this.flagReset()}},updateTexture:function(e,t){if(this[t._renderer.type].updateCanvas.call(Vi,t),this.canvas.width<=0||this.canvas.height<=0)return t._renderer.texture&&e.deleteTexture(t._renderer.texture),void delete t._renderer.texture;t._renderer.texture||(t._renderer.texture=e.createTexture()),e.bindTexture(e.TEXTURE_2D,t._renderer.texture),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.LINEAR),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,e.RGBA,e.UNSIGNED_BYTE,this.canvas)},program:{create:function(e,t){let i,n,r;if(i=e.createProgram(),W.each(t,(function(t){e.attachShader(i,t)})),e.linkProgram(i),n=e.getProgramParameter(i,e.LINK_STATUS),!n)throw r=e.getProgramInfoLog(i),e.deleteProgram(i),new Te("unable to link program: "+r);return i}},TextureRegistry:new Ce};Vi.ctx=Vi.canvas.getContext("2d");var zi=class extends S{constructor(e){let t,i,n,r;if(super(),this.domElement=e.domElement||document.createElement("canvas"),void 0!==e.offscreenElement&&(Vi.canvas=e.offscreenElement,Vi.ctx=Vi.canvas.getContext("2d")),this.scene=new ae,this.scene.parent=this,this._renderer={type:"renderer",matrix:new v(Bi),scale:1,opacity:1},this._flagMatrix=!0,e=W.defaults(e||{},{antialias:!1,alpha:!0,premultipliedAlpha:!0,stencil:!0,preserveDrawingBuffer:!0,overdraw:!1}),this.overdraw=e.overdraw,t=this.ctx=this.domElement.getContext("webgl",e)||this.domElement.getContext("experimental-webgl",e),!this.ctx)throw new Te("unable to create a webgl context. Try using another renderer.");n=ji(t,Li.vertex,Fi.vertex),r=ji(t,Li.fragment,Fi.fragment),this.programs={current:null,buffers:{position:t.createBuffer()},resolution:{width:0,height:0,ratio:1,flagged:!1}},i=this.programs.path=Vi.program.create(t,[n,r]),this.programs.text=this.programs.path,i.position=t.getAttribLocation(i,"a_position"),i.matrix=t.getUniformLocation(i,"u_matrix"),i.rect=t.getUniformLocation(i,"u_rect");const s=t.createBuffer();t.bindBuffer(t.ARRAY_BUFFER,s),t.vertexAttribPointer(i.position,2,t.FLOAT,!1,0,0),t.enableVertexAttribArray(i.position),t.bufferData(t.ARRAY_BUFFER,Hi,t.STATIC_DRAW),n=ji(t,Oi.vertex,Fi.vertex),r=ji(t,Oi.fragment,Fi.fragment),i=this.programs.points=Vi.program.create(t,[n,r]),i.position=t.getAttribLocation(i,"a_position"),i.matrix=t.getUniformLocation(i,"u_matrix"),i.size=t.getUniformLocation(i,"u_size"),t.enable(t.BLEND),t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!0),t.blendEquation(t.FUNC_ADD),t.blendFunc(t.ONE,t.ONE_MINUS_SRC_ALPHA)}setSize(e,t,i){let n,r;const s=this.ctx;return this.width=e,this.height=t,this.ratio=void 0===i?z(s):i,this.domElement.width=e*this.ratio,this.domElement.height=t*this.ratio,W.isObject(this.domElement.style)&&W.extend(this.domElement.style,{width:e+"px",height:t+"px"}),this._renderer.matrix[0]=this._renderer.matrix[4]=this._renderer.scale=this.ratio,this._flagMatrix=!0,n=e*this.ratio,r=t*this.ratio,s.viewport(0,0,n,r),this.programs.resolution.width=n,this.programs.resolution.height=r,this.programs.resolution.ratio=this.ratio,this.programs.resolution.flagged=!0,this.trigger(S.Types.resize,e,t,i)}render(){const e=this.ctx;return this.overdraw||e.clear(e.COLOR_BUFFER_BIT),Vi.group.render.call(this.scene,e,this.programs),this._flagMatrix=!1,this.programs.resolution.flagged=!0,this}};a(zi,"Utils",Vi);var qi=W.extend({Error:Te,getRatio:z,read:ii,xhr:ni},W,Se,w,h),Wi=class{constructor(e){a(this,"_events",new S),a(this,"type",""),a(this,"renderer",null),a(this,"scene",null),a(this,"width",0),a(this,"height",0),a(this,"frameCount",0),a(this,"timeDelta",0),a(this,"playing",!1);const t=W.defaults(e||{},{fullscreen:!1,fitted:!1,width:640,height:480,type:Wi.Types.svg,autostart:!1});if(W.each(t,(function(e,t){/fullscreen/i.test(t)||/autostart/i.test(t)||(this[t]=e)}),this),W.isElement(t.domElement)){const e=t.domElement.tagName.toLowerCase();/^(CanvasRenderer-canvas|WebGLRenderer-canvas|SVGRenderer-svg)$/.test(this.type+"-"+e)||(this.type=Wi.Types[e])}this.renderer=new Wi[this.type](this),this.setPlaying(t.autostart),this.frameCount=0,t.fullscreen?(this.fit=Xi.bind(this),this.fit.domElement=window,this.fit.attached=!0,W.extend(document.body.style,{overflow:"hidden",margin:0,padding:0,top:0,left:0,right:0,bottom:0,position:"fixed"}),W.extend(this.renderer.domElement.style,{display:"block",top:0,left:0,right:0,bottom:0,position:"fixed"}),ke.bind(this.fit.domElement,"resize",this.fit),this.fit()):t.fitted?(this.fit=$i.bind(this),W.extend(this.renderer.domElement.style,{display:"block"})):W.isElement(t.domElement)||(this.renderer.setSize(t.width,t.height,this.ratio),this.width=t.width,this.height=t.height),this.renderer.bind(S.Types.resize,Yi.bind(this)),this.scene=this.renderer.scene,Wi.Instances.push(this),t.autostart&&Gi.init()}get _bound(){return this._events._bound}set _bound(e){this._events._bound=e}addEventListener(){return this._events.addEventListener.apply(this,arguments)}on(){return this._events.addEventListener.apply(this,arguments)}bind(){return this._events.addEventListener.apply(this,arguments)}removeEventListener(){return this._events.removeEventListener.apply(this,arguments)}off(){return this._events.removeEventListener.apply(this,arguments)}unbind(){return this._events.removeEventListener.apply(this,arguments)}dispatchEvent(){return this._events.dispatchEvent.apply(this,arguments)}trigger(){return this._events.dispatchEvent.apply(this,arguments)}listen(){return this._events.listen.apply(this,arguments)}ignore(){return this._events.ignore.apply(this,arguments)}appendTo(e){return e.appendChild(this.renderer.domElement),this.fit&&(this.fit.domElement!==window&&(this.fit.domElement=e,this.fit.attached=!1),this.update()),this}play(){return this.playing=!0,Gi.init(),this.trigger(S.Types.play)}pause(){return this.playing=!1,this.trigger(S.Types.pause)}setPlaying(e){this.playing=e}release(e){let t,i,n;if(!W.isObject(e))return this.release(this.scene);if("function"==typeof e.unbind&&e.unbind(),e.vertices)for("function"==typeof e.vertices.unbind&&e.vertices.unbind(),t=0;t<e.vertices.length;t++)i=e.vertices[t],"function"==typeof i.unbind&&i.unbind(),i.controls&&(i.controls.left&&"function"==typeof i.controls.left.unbind&&i.controls.left.unbind(),i.controls.right&&"function"==typeof i.controls.right.unbind&&i.controls.right.unbind());if(e.children){for(t=0;t<e.children.length;t++)n=e.children[t],this.release(n);"function"==typeof e.children.unbind&&e.children.unbind()}return e}update(){const e=!!this._lastFrame,t=W.performance.now();e&&(this.timeDelta=parseFloat((t-this._lastFrame).toFixed(3))),this._lastFrame=t,this.fit&&this.fit.domElement&&!this.fit.attached&&(ke.bind(this.fit.domElement,"resize",this.fit),this.fit.attached=!0,this.fit());const i=this.width,n=this.height,r=this.renderer;return i===r.width&&n===r.height||r.setSize(i,n,this.ratio),this.trigger(S.Types.update,this.frameCount,this.timeDelta),this.render()}render(){return this.renderer.render(),this.trigger(S.Types.render,this.frameCount++)}add(e){return e instanceof Array||(e=Array.prototype.slice.call(arguments)),this.scene.add(e),this}remove(e){return e instanceof Array||(e=Array.prototype.slice.call(arguments)),this.scene.remove(e),this}clear(){return this.scene.remove(this.scene.children),this}makeLine(e,t,i,n){const r=new jt(e,t,i,n);return this.scene.add(r),r}makeArrow(e,t,i,n,r){const s="number"==typeof r?r:10,o=Math.atan2(n-t,i-e),a=[new C(e,t,void 0,void 0,void 0,void 0,l.move),new C(i,n,void 0,void 0,void 0,void 0,l.line),new C(i-s*Math.cos(o-Math.PI/4),n-s*Math.sin(o-Math.PI/4),void 0,void 0,void 0,void 0,l.line),new C(i,n,void 0,void 0,void 0,void 0,l.move),new C(i-s*Math.cos(o+Math.PI/4),n-s*Math.sin(o+Math.PI/4),void 0,void 0,void 0,void 0,l.line)],h=new ht(a,!1,!1,!0);return h.noFill(),h.cap="round",h.join="round",this.scene.add(h),h}makeRectangle(e,t,i,n){const r=new yt(e,t,i,n);return this.scene.add(r),r}makeRoundedRectangle(e,t,i,n,r){const s=new Ot(e,t,i,n,r);return this.scene.add(s),s}makeCircle(e,t,i,n){const r=new At(e,t,i,n);return this.scene.add(r),r}makeEllipse(e,t,i,n,r){const s=new Pt(e,t,i,n,r);return this.scene.add(s),s}makeStar(e,t,i,n,r){const s=new Ci(e,t,i,n,r);return this.scene.add(s),s}makeCurve(e){const t=arguments.length;if(!Array.isArray(e)){e=[];for(let i=0;i<t;i+=2){const t=arguments[i];if("number"!=typeof t)break;const n=arguments[i+1];e.push(new C(t,n))}}const i=arguments[t-1],n=new ht(e,!("boolean"==typeof i?i:void 0),!0),r=n.getBoundingClientRect();return n.center().translation.set(r.left+r.width/2,r.top+r.height/2),this.scene.add(n),n}makePolygon(e,t,i,n){const r=new wi(e,t,i,n);return this.scene.add(r),r}makeArcSegment(e,t,i,n,r,s,o){const a=new di(e,t,i,n,r,s,o);return this.scene.add(a),a}makePoints(e){const t=arguments.length;let i=e;if(!Array.isArray(e)){i=[];for(let e=0;e<t;e+=2){const t=arguments[e];if("number"!=typeof t)break;const n=arguments[e+1];i.push(new T(t,n))}}const n=new yi(i);return this.scene.add(n),n}makePath(e){const t=arguments.length;let i=e;if(!Array.isArray(e)){i=[];for(let e=0;e<t;e+=2){const t=arguments[e];if("number"!=typeof t)break;const n=arguments[e+1];i.push(new C(t,n))}}const n=arguments[t-1],r=new ht(i,!("boolean"==typeof n?n:void 0)),s=r.getBoundingClientRect();return"number"==typeof s.top&&"number"==typeof s.left&&"number"==typeof s.right&&"number"==typeof s.bottom&&r.center().translation.set(s.left+s.width/2,s.top+s.height/2),this.scene.add(r),r}makeText(e,t,i,n){const r=new Vt(e,t,i,n);return this.add(r),r}makeLinearGradient(e,t,i,n){const r=Array.prototype.slice.call(arguments,4),s=new ze(e,t,i,n,r);return this.add(s),s}makeRadialGradient(e,t,i){const n=Array.prototype.slice.call(arguments,3),r=new Xe(e,t,i,n);return this.add(r),r}makeSprite(e,t,i,n,r,s,o){const a=new xt(e,t,i,n,r,s);return o&&a.play(),this.add(a),a}makeImageSequence(e,t,i,n,r){const s=new si(e,t,i,n);return r&&s.play(),this.add(s),s}makeTexture(e,t){return new Ze(e,t)}makeGroup(e){e instanceof Array||(e=Array.prototype.slice.call(arguments));const t=new ae;return this.scene.add(t),t.add(e),t}interpret(e,t,i){const n=e.tagName.toLowerCase();if(i=void 0===i||i,!(n in ii))return null;const r=ii[n].call(this,e);return i?this.add(t&&r instanceof ae?r.children:r):r.parent&&r.remove(),r}load(e,t){const i=new ae;let n,r,s;const o=function(e){for(ke.temp.innerHTML=e,r=0;r<ke.temp.children.length;r++)n=ke.temp.children[r],s=this.interpret(n,!1,!1),null!==s&&i.add(s);if("function"==typeof t){const e=ke.temp.children.length<=1?ke.temp.children[0]:ke.temp.children;t(i,e)}}.bind(this);return/\.svg$/i.test(e)?(ni(e,o),i):(o(e),i)}},Ui=Wi;function Xi(){const e=document.body.getBoundingClientRect(),t=this.width=e.width,i=this.height=e.height;this.renderer.setSize(t,i,this.ratio)}function $i(){const e=this.renderer.domElement.parentElement;if(!e)return void console.warn("Two.js: Attempting to fit to parent, but no parent found.");const t=e.getBoundingClientRect(),i=this.width=t.width,n=this.height=t.height;this.renderer.setSize(i,n,this.ratio)}function Yi(e,t){this.width=e,this.height=t,this.trigger(S.Types.resize,e,t)}a(Ui,"nextFrameID",P.nextFrameID),a(Ui,"Types",P.Types),a(Ui,"Version",P.Version),a(Ui,"PublishDate",P.PublishDate),a(Ui,"Identifier",P.Identifier),a(Ui,"Resolution",P.Resolution),a(Ui,"AutoCalculateImportedMatrices",P.AutoCalculateImportedMatrices),a(Ui,"Instances",P.Instances),a(Ui,"uniqueId",P.uniqueId),a(Ui,"Anchor",C),a(Ui,"Collection",ie),a(Ui,"Events",S),a(Ui,"Group",ae),a(Ui,"Matrix",J),a(Ui,"Path",ht),a(Ui,"Registry",Ce),a(Ui,"Shape",Z),a(Ui,"Text",Vt),a(Ui,"Vector",T),a(Ui,"Gradient",Ie),a(Ui,"ImageSequence",si),a(Ui,"LinearGradient",ze),a(Ui,"RadialGradient",Xe),a(Ui,"Sprite",xt),a(Ui,"Stop",Fe),a(Ui,"Texture",Ze),a(Ui,"ArcSegment",di),a(Ui,"Circle",At),a(Ui,"Ellipse",Pt),a(Ui,"Line",jt),a(Ui,"Points",yi),a(Ui,"Polygon",wi),a(Ui,"Rectangle",yt),a(Ui,"RoundedRectangle",Ot),a(Ui,"Star",Ci),a(Ui,"CanvasRenderer",xe),a(Ui,"SVGRenderer",Mi),a(Ui,"WebGLRenderer",zi),a(Ui,"Commands",l),a(Ui,"Utils",qi);var Gi=ke.getRequestAnimationFrame();function Ki(){for(let e=0;e<Ui.Instances.length;e++){const t=Ui.Instances[e];t.playing&&t.update()}Ui.nextFrameID=Gi(Ki)}Gi.init=function(){Ki(),Gi.init=function(){}};var Qi,Ji=i(842),Zi=i.n(Ji),en=i(502),tn=i.n(en);e=i.hmd(e),Qi=function(e){var t=function(t,i){this.settings=i,this.checkSettings(),this.imgAnalyzerTimeout=null,this.entries=null,this.buildingRow={entriesBuff:[],width:0,height:0,aspectRatio:0},this.lastFetchedEntry=null,this.lastAnalyzedIndex=-1,this.yield={every:2,flushed:0},this.border=0<=i.border?i.border:i.margins,this.maxRowHeight=this.retrieveMaxRowHeight(),this.suffixRanges=this.retrieveSuffixRanges(),this.offY=this.border,this.rows=0,this.spinner={phase:0,timeSlot:150,$el:e('<div class="jg-spinner"><span></span><span></span><span></span></div>'),intervalId:null},this.scrollBarOn=!1,this.checkWidthIntervalId=null,this.galleryWidth=t.width(),this.$gallery=t};t.prototype.getSuffix=function(e,t){var i,n;for(i=t<e?e:t,n=0;n<this.suffixRanges.length;n++)if(i<=this.suffixRanges[n])return this.settings.sizeRangeSuffixes[this.suffixRanges[n]];return this.settings.sizeRangeSuffixes[this.suffixRanges[n-1]]},t.prototype.removeSuffix=function(e,t){return e.substring(0,e.length-t.length)},t.prototype.endsWith=function(e,t){return-1!==e.indexOf(t,e.length-t.length)},t.prototype.getUsedSuffix=function(e){for(var t in this.settings.sizeRangeSuffixes)if(this.settings.sizeRangeSuffixes.hasOwnProperty(t)){if(0===this.settings.sizeRangeSuffixes[t].length)continue;if(this.endsWith(e,this.settings.sizeRangeSuffixes[t]))return this.settings.sizeRangeSuffixes[t]}return""},t.prototype.newSrc=function(e,t,i,n){var r;if(this.settings.thumbnailPath)r=this.settings.thumbnailPath(e,t,i,n);else{var s=e.match(this.settings.extension),o=null!==s?s[0]:"";r=e.replace(this.settings.extension,""),r=this.removeSuffix(r,this.getUsedSuffix(r)),r+=this.getSuffix(t,i)+o}return r},t.prototype.showImg=function(e,t){this.settings.cssAnimation?(e.addClass("jg-entry-visible"),t&&t()):(e.stop().fadeTo(this.settings.imagesAnimationDuration,1,t),e.find(this.settings.imgSelector).stop().fadeTo(this.settings.imagesAnimationDuration,1,t))},t.prototype.extractImgSrcFromImage=function(e){var t=e.data("safe-src"),i="data-safe-src";return void 0===t&&(t=e.attr("src"),i="src"),e.data("jg.originalSrc",t),e.data("jg.src",t),e.data("jg.originalSrcLoc",i),t},t.prototype.imgFromEntry=function(e){var t=e.find(this.settings.imgSelector);return 0===t.length?null:t},t.prototype.captionFromEntry=function(e){var t=e.find("> .jg-caption");return 0===t.length?null:t},t.prototype.displayEntry=function(e,t,i,n,r,s){e.width(n),e.height(s),e.css("top",i),e.css("left",t);var o=this.imgFromEntry(e);if(null!==o){o.css("width",n),o.css("height",r),o.css("margin-left",-n/2),o.css("margin-top",-r/2);var a=o.data("jg.src");if(a){a=this.newSrc(a,n,r,o[0]),o.one("error",(function(){this.resetImgSrc(o)}));var l=function(){o.attr("src",a)};"skipped"===e.data("jg.loaded")&&a?this.onImageEvent(a,function(){this.showImg(e,l),e.data("jg.loaded",!0)}.bind(this)):this.showImg(e,l)}}else this.showImg(e);this.displayEntryCaption(e)},t.prototype.displayEntryCaption=function(t){var i=this.imgFromEntry(t);if(null!==i&&this.settings.captions){var n=this.captionFromEntry(t);if(null===n){var r=i.attr("alt");this.isValidCaption(r)||(r=t.attr("title")),this.isValidCaption(r)&&(n=e('<div class="jg-caption">'+r+"</div>"),t.append(n),t.data("jg.createdCaption",!0))}null!==n&&(this.settings.cssAnimation||n.stop().fadeTo(0,this.settings.captionSettings.nonVisibleOpacity),this.addCaptionEventsHandlers(t))}else this.removeCaptionEventsHandlers(t)},t.prototype.isValidCaption=function(e){return void 0!==e&&0<e.length},t.prototype.onEntryMouseEnterForCaption=function(t){var i=this.captionFromEntry(e(t.currentTarget));this.settings.cssAnimation?i.addClass("jg-caption-visible").removeClass("jg-caption-hidden"):i.stop().fadeTo(this.settings.captionSettings.animationDuration,this.settings.captionSettings.visibleOpacity)},t.prototype.onEntryMouseLeaveForCaption=function(t){var i=this.captionFromEntry(e(t.currentTarget));this.settings.cssAnimation?i.removeClass("jg-caption-visible").removeClass("jg-caption-hidden"):i.stop().fadeTo(this.settings.captionSettings.animationDuration,this.settings.captionSettings.nonVisibleOpacity)},t.prototype.addCaptionEventsHandlers=function(t){var i=t.data("jg.captionMouseEvents");void 0===i&&(i={mouseenter:e.proxy(this.onEntryMouseEnterForCaption,this),mouseleave:e.proxy(this.onEntryMouseLeaveForCaption,this)},t.on("mouseenter",void 0,void 0,i.mouseenter),t.on("mouseleave",void 0,void 0,i.mouseleave),t.data("jg.captionMouseEvents",i))},t.prototype.removeCaptionEventsHandlers=function(e){var t=e.data("jg.captionMouseEvents");void 0!==t&&(e.off("mouseenter",void 0,t.mouseenter),e.off("mouseleave",void 0,t.mouseleave),e.removeData("jg.captionMouseEvents"))},t.prototype.clearBuildingRow=function(){this.buildingRow.entriesBuff=[],this.buildingRow.aspectRatio=0,this.buildingRow.width=0},t.prototype.prepareBuildingRow=function(e,t){var i,n,r,s,o,a=!0,l=0,h=this.galleryWidth-2*this.border-(this.buildingRow.entriesBuff.length-1)*this.settings.margins,c=h/this.buildingRow.aspectRatio,u=this.settings.rowHeight,d=this.buildingRow.width/h>this.settings.justifyThreshold;if(t||e&&"hide"===this.settings.lastRow&&!d){for(i=0;i<this.buildingRow.entriesBuff.length;i++)n=this.buildingRow.entriesBuff[i],this.settings.cssAnimation?n.removeClass("jg-entry-visible"):(n.stop().fadeTo(0,.1),n.find("> img, > a > img").fadeTo(0,0));return-1}for(e&&!d&&"justify"!==this.settings.lastRow&&"hide"!==this.settings.lastRow&&(a=!1,0<this.rows&&(a=(u=(this.offY-this.border-this.settings.margins*this.rows)/this.rows)*this.buildingRow.aspectRatio/h>this.settings.justifyThreshold)),i=0;i<this.buildingRow.entriesBuff.length;i++)r=(n=this.buildingRow.entriesBuff[i]).data("jg.width")/n.data("jg.height"),o=a?(s=i===this.buildingRow.entriesBuff.length-1?h:c*r,c):(s=u*r,u),h-=Math.round(s),n.data("jg.jwidth",Math.round(s)),n.data("jg.jheight",Math.ceil(o)),(0===i||o<l)&&(l=o);return this.buildingRow.height=l,a},t.prototype.flushRow=function(e,t){var i,n,r,s=this.settings,o=this.border;if(n=this.prepareBuildingRow(e,t),t||e&&"hide"===s.lastRow&&-1===n)this.clearBuildingRow();else{if(this.maxRowHeight&&this.maxRowHeight<this.buildingRow.height&&(this.buildingRow.height=this.maxRowHeight),e&&("center"===s.lastRow||"right"===s.lastRow)){var a=this.galleryWidth-2*this.border-(this.buildingRow.entriesBuff.length-1)*s.margins;for(r=0;r<this.buildingRow.entriesBuff.length;r++)a-=(i=this.buildingRow.entriesBuff[r]).data("jg.jwidth");"center"===s.lastRow?o+=Math.round(a/2):"right"===s.lastRow&&(o+=a)}var l=this.buildingRow.entriesBuff.length-1;for(r=0;r<=l;r++)i=this.buildingRow.entriesBuff[this.settings.rtl?l-r:r],this.displayEntry(i,o,this.offY,i.data("jg.jwidth"),i.data("jg.jheight"),this.buildingRow.height),o+=i.data("jg.jwidth")+s.margins;this.galleryHeightToSet=this.offY+this.buildingRow.height+this.border,this.setGalleryTempHeight(this.galleryHeightToSet+this.getSpinnerHeight()),(!e||this.buildingRow.height<=s.rowHeight&&n)&&(this.offY+=this.buildingRow.height+s.margins,this.rows+=1,this.clearBuildingRow(),this.settings.triggerEvent.call(this,"jg.rowflush"))}};var i=0;t.prototype.rememberGalleryHeight=function(){i=this.$gallery.height(),this.$gallery.height(i)},t.prototype.setGalleryTempHeight=function(e){i=Math.max(e,i),this.$gallery.height(i)},t.prototype.setGalleryFinalHeight=function(e){i=e,this.$gallery.height(e)},t.prototype.checkWidth=function(){this.checkWidthIntervalId=setInterval(e.proxy((function(){if(this.$gallery.is(":visible")){var e=parseFloat(this.$gallery.width());Math.abs(e-this.galleryWidth)>this.settings.refreshSensitivity&&(this.galleryWidth=e,this.rewind(),this.rememberGalleryHeight(),this.startImgAnalyzer(!0))}}),this),this.settings.refreshTime)},t.prototype.isSpinnerActive=function(){return null!==this.spinner.intervalId},t.prototype.getSpinnerHeight=function(){return this.spinner.$el.innerHeight()},t.prototype.stopLoadingSpinnerAnimation=function(){clearInterval(this.spinner.intervalId),this.spinner.intervalId=null,this.setGalleryTempHeight(this.$gallery.height()-this.getSpinnerHeight()),this.spinner.$el.detach()},t.prototype.startLoadingSpinnerAnimation=function(){var e=this.spinner,t=e.$el.find("span");clearInterval(e.intervalId),this.$gallery.append(e.$el),this.setGalleryTempHeight(this.offY+this.buildingRow.height+this.getSpinnerHeight()),e.intervalId=setInterval((function(){e.phase<t.length?t.eq(e.phase).fadeTo(e.timeSlot,1):t.eq(e.phase-t.length).fadeTo(e.timeSlot,0),e.phase=(e.phase+1)%(2*t.length)}),e.timeSlot)},t.prototype.rewind=function(){this.lastFetchedEntry=null,this.lastAnalyzedIndex=-1,this.offY=this.border,this.rows=0,this.clearBuildingRow()},t.prototype.getSelectorWithoutSpinner=function(){return this.settings.selector+", div:not(.jg-spinner)"},t.prototype.getAllEntries=function(){var e=this.getSelectorWithoutSpinner();return this.$gallery.children(e).toArray()},t.prototype.updateEntries=function(t){var i;if(t&&null!=this.lastFetchedEntry){var n=this.getSelectorWithoutSpinner();i=e(this.lastFetchedEntry).nextAll(n).toArray()}else this.entries=[],i=this.getAllEntries();return 0<i.length&&(e.isFunction(this.settings.sort)?i=this.sortArray(i):this.settings.randomize&&(i=this.shuffleArray(i)),this.lastFetchedEntry=i[i.length-1],this.settings.filter?i=this.filterArray(i):this.resetFilters(i)),this.entries=this.entries.concat(i),!0},t.prototype.insertToGallery=function(t){var i=this;e.each(t,(function(){e(this).appendTo(i.$gallery)}))},t.prototype.shuffleArray=function(e){var t,i,n;for(t=e.length-1;0<t;t--)i=Math.floor(Math.random()*(t+1)),n=e[t],e[t]=e[i],e[i]=n;return this.insertToGallery(e),e},t.prototype.sortArray=function(e){return e.sort(this.settings.sort),this.insertToGallery(e),e},t.prototype.resetFilters=function(t){for(var i=0;i<t.length;i++)e(t[i]).removeClass("jg-filtered")},t.prototype.filterArray=function(t){var i=this.settings;if("string"===e.type(i.filter))return t.filter((function(t){var n=e(t);return n.is(i.filter)?(n.removeClass("jg-filtered"),!0):(n.addClass("jg-filtered").removeClass("jg-visible"),!1)}));if(e.isFunction(i.filter)){for(var n=t.filter(i.filter),r=0;r<t.length;r++)-1===n.indexOf(t[r])?e(t[r]).addClass("jg-filtered").removeClass("jg-visible"):e(t[r]).removeClass("jg-filtered");return n}},t.prototype.resetImgSrc=function(e){"src"===e.data("jg.originalSrcLoc")?e.attr("src",e.data("jg.originalSrc")):e.attr("src","")},t.prototype.destroy=function(){clearInterval(this.checkWidthIntervalId),this.stopImgAnalyzerStarter(),e.each(this.getAllEntries(),e.proxy((function(t,i){var n=e(i);n.css("width",""),n.css("height",""),n.css("top",""),n.css("left",""),n.data("jg.loaded",void 0),n.removeClass("jg-entry jg-filtered jg-entry-visible");var r=this.imgFromEntry(n);r&&(r.css("width",""),r.css("height",""),r.css("margin-left",""),r.css("margin-top",""),this.resetImgSrc(r),r.data("jg.originalSrc",void 0),r.data("jg.originalSrcLoc",void 0),r.data("jg.src",void 0)),this.removeCaptionEventsHandlers(n);var s=this.captionFromEntry(n);n.data("jg.createdCaption")?(n.data("jg.createdCaption",void 0),null!==s&&s.remove()):null!==s&&s.fadeTo(0,1)}),this)),this.$gallery.css("height",""),this.$gallery.removeClass("justified-gallery"),this.$gallery.data("jg.controller",void 0),this.settings.triggerEvent.call(this,"jg.destroy")},t.prototype.analyzeImages=function(t){for(var i=this.lastAnalyzedIndex+1;i<this.entries.length;i++){var n=e(this.entries[i]);if(!0===n.data("jg.loaded")||"skipped"===n.data("jg.loaded")){var r=this.galleryWidth-2*this.border-(this.buildingRow.entriesBuff.length-1)*this.settings.margins,s=n.data("jg.width")/n.data("jg.height");if(this.buildingRow.entriesBuff.push(n),this.buildingRow.aspectRatio+=s,this.buildingRow.width+=s*this.settings.rowHeight,this.lastAnalyzedIndex=i,r/(this.buildingRow.aspectRatio+s)<this.settings.rowHeight&&(this.flushRow(!1,0<this.settings.maxRowsCount&&this.rows===this.settings.maxRowsCount),++this.yield.flushed>=this.yield.every))return void this.startImgAnalyzer(t)}else if("error"!==n.data("jg.loaded"))return}0<this.buildingRow.entriesBuff.length&&this.flushRow(!0,0<this.settings.maxRowsCount&&this.rows===this.settings.maxRowsCount),this.isSpinnerActive()&&this.stopLoadingSpinnerAnimation(),this.stopImgAnalyzerStarter(),this.setGalleryFinalHeight(this.galleryHeightToSet),this.settings.triggerEvent.call(this,t?"jg.resize":"jg.complete")},t.prototype.stopImgAnalyzerStarter=function(){this.yield.flushed=0,null!==this.imgAnalyzerTimeout&&(clearTimeout(this.imgAnalyzerTimeout),this.imgAnalyzerTimeout=null)},t.prototype.startImgAnalyzer=function(e){var t=this;this.stopImgAnalyzerStarter(),this.imgAnalyzerTimeout=setTimeout((function(){t.analyzeImages(e)}),.001)},t.prototype.onImageEvent=function(t,i,n){if(i||n){var r=new Image,s=e(r);i&&s.one("load",(function(){s.off("load error"),i(r)})),n&&s.one("error",(function(){s.off("load error"),n(r)})),r.src=t}},t.prototype.init=function(){var t=!1,i=!1,n=this;e.each(this.entries,(function(r,s){var o=e(s),a=n.imgFromEntry(o);if(o.addClass("jg-entry"),!0!==o.data("jg.loaded")&&"skipped"!==o.data("jg.loaded"))if(null!==n.settings.rel&&o.attr("rel",n.settings.rel),null!==n.settings.target&&o.attr("target",n.settings.target),null!==a){var l=n.extractImgSrcFromImage(a);if(!1===n.settings.waitThumbnailsLoad||!l){var h=parseFloat(a.attr("width")),c=parseFloat(a.attr("height"));if("svg"===a.prop("tagName")&&(h=parseFloat(a[0].getBBox().width),c=parseFloat(a[0].getBBox().height)),!isNaN(h)&&!isNaN(c))return o.data("jg.width",h),o.data("jg.height",c),o.data("jg.loaded","skipped"),i=!0,n.startImgAnalyzer(!1),!0}o.data("jg.loaded",!1),t=!0,n.isSpinnerActive()||n.startLoadingSpinnerAnimation(),n.onImageEvent(l,(function(e){o.data("jg.width",e.width),o.data("jg.height",e.height),o.data("jg.loaded",!0),n.startImgAnalyzer(!1)}),(function(){o.data("jg.loaded","error"),n.startImgAnalyzer(!1)}))}else o.data("jg.loaded",!0),o.data("jg.width",o.width()|parseFloat(o.css("width"))|1),o.data("jg.height",o.height()|parseFloat(o.css("height"))|1)})),t||i||this.startImgAnalyzer(!1),this.checkWidth()},t.prototype.checkOrConvertNumber=function(t,i){if("string"===e.type(t[i])&&(t[i]=parseFloat(t[i])),"number"!==e.type(t[i]))throw i+" must be a number";if(isNaN(t[i]))throw"invalid number for "+i},t.prototype.checkSizeRangesSuffixes=function(){if("object"!==e.type(this.settings.sizeRangeSuffixes))throw"sizeRangeSuffixes must be defined and must be an object";var t=[];for(var i in this.settings.sizeRangeSuffixes)this.settings.sizeRangeSuffixes.hasOwnProperty(i)&&t.push(i);for(var n={0:""},r=0;r<t.length;r++)if("string"===e.type(t[r]))try{n[parseInt(t[r].replace(/^[a-z]+/,""),10)]=this.settings.sizeRangeSuffixes[t[r]]}catch(t){throw"sizeRangeSuffixes keys must contains correct numbers ("+t+")"}else n[t[r]]=this.settings.sizeRangeSuffixes[t[r]];this.settings.sizeRangeSuffixes=n},t.prototype.retrieveMaxRowHeight=function(){var t=null,i=this.settings.rowHeight;if("string"===e.type(this.settings.maxRowHeight))t=this.settings.maxRowHeight.match(/^[0-9]+%$/)?i*parseFloat(this.settings.maxRowHeight.match(/^([0-9]+)%$/)[1])/100:parseFloat(this.settings.maxRowHeight);else{if("number"!==e.type(this.settings.maxRowHeight)){if(!1===this.settings.maxRowHeight||null==this.settings.maxRowHeight)return null;throw"maxRowHeight must be a number or a percentage"}t=this.settings.maxRowHeight}if(isNaN(t))throw"invalid number for maxRowHeight";return t<i&&(t=i),t},t.prototype.checkSettings=function(){this.checkSizeRangesSuffixes(),this.checkOrConvertNumber(this.settings,"rowHeight"),this.checkOrConvertNumber(this.settings,"margins"),this.checkOrConvertNumber(this.settings,"border"),this.checkOrConvertNumber(this.settings,"maxRowsCount");var t=["justify","nojustify","left","center","right","hide"];if(-1===t.indexOf(this.settings.lastRow))throw"lastRow must be one of: "+t.join(", ");if(this.checkOrConvertNumber(this.settings,"justifyThreshold"),this.settings.justifyThreshold<0||1<this.settings.justifyThreshold)throw"justifyThreshold must be in the interval [0,1]";if("boolean"!==e.type(this.settings.cssAnimation))throw"cssAnimation must be a boolean";if("boolean"!==e.type(this.settings.captions))throw"captions must be a boolean";if(this.checkOrConvertNumber(this.settings.captionSettings,"animationDuration"),this.checkOrConvertNumber(this.settings.captionSettings,"visibleOpacity"),this.settings.captionSettings.visibleOpacity<0||1<this.settings.captionSettings.visibleOpacity)throw"captionSettings.visibleOpacity must be in the interval [0, 1]";if(this.checkOrConvertNumber(this.settings.captionSettings,"nonVisibleOpacity"),this.settings.captionSettings.nonVisibleOpacity<0||1<this.settings.captionSettings.nonVisibleOpacity)throw"captionSettings.nonVisibleOpacity must be in the interval [0, 1]";if(this.checkOrConvertNumber(this.settings,"imagesAnimationDuration"),this.checkOrConvertNumber(this.settings,"refreshTime"),this.checkOrConvertNumber(this.settings,"refreshSensitivity"),"boolean"!==e.type(this.settings.randomize))throw"randomize must be a boolean";if("string"!==e.type(this.settings.selector))throw"selector must be a string";if(!1!==this.settings.sort&&!e.isFunction(this.settings.sort))throw"sort must be false or a comparison function";if(!1!==this.settings.filter&&!e.isFunction(this.settings.filter)&&"string"!==e.type(this.settings.filter))throw"filter must be false, a string or a filter function"},t.prototype.retrieveSuffixRanges=function(){var e=[];for(var t in this.settings.sizeRangeSuffixes)this.settings.sizeRangeSuffixes.hasOwnProperty(t)&&e.push(parseInt(t,10));return e.sort((function(e,t){return t<e?1:e<t?-1:0})),e},t.prototype.updateSettings=function(t){this.settings=e.extend({},this.settings,t),this.checkSettings(),this.border=0<=this.settings.border?this.settings.border:this.settings.margins,this.maxRowHeight=this.retrieveMaxRowHeight(),this.suffixRanges=this.retrieveSuffixRanges()},t.prototype.defaults={sizeRangeSuffixes:{},thumbnailPath:void 0,rowHeight:120,maxRowHeight:!1,maxRowsCount:0,margins:1,border:-1,lastRow:"nojustify",justifyThreshold:.9,waitThumbnailsLoad:!0,captions:!0,cssAnimation:!0,imagesAnimationDuration:500,captionSettings:{animationDuration:500,visibleOpacity:.7,nonVisibleOpacity:0},rel:null,target:null,extension:/\.[^.\\/]+$/,refreshTime:200,refreshSensitivity:0,randomize:!1,rtl:!1,sort:!1,filter:!1,selector:"a",imgSelector:"> img, > a > img, > svg, > a > svg",triggerEvent:function(e){this.$gallery.trigger(e)}},e.fn.justifiedGallery=function(i){return this.each((function(n,r){var s=e(r);s.addClass("justified-gallery");var o=s.data("jg.controller");if(void 0===o){if(null!=i&&"object"!==e.type(i)){if("destroy"===i)return;throw"The argument must be an object"}o=new t(s,e.extend({},t.prototype.defaults,i)),s.data("jg.controller",o)}else if("norewind"===i);else{if("destroy"===i)return void o.destroy();o.updateSettings(i),o.rewind()}o.updateEntries("norewind"===i)&&o.init()}))}},"function"==typeof define&&i.amdO?define(["jquery"],Qi):e.exports?e.exports=function(e,t){return void 0===t&&(t="undefined"!=typeof window?i(755):i(755)(e)),Qi(t),t}:Qi(jQuery);const nn=[],rn=document.getElementById("title"),sn=new Ui({type:Ui.Types.canvas,fitted:!0,autostart:!0}).appendTo(rn),on=Zi().Engine.create();on.gravity.y=0;const an={length:0,thickness:0,properties:{isStatic:!0}};an.top=pn(an.length,an.thickness),an.left=pn(an.thickness,an.length),an.right=pn(an.thickness,an.length),an.bottom=pn(an.length,an.thickness),Zi().World.add(on.world,[an.top.entity,an.left.entity,an.right.entity,an.bottom.entity]),Zi().use(tn());const ln=Zi().Bodies.circle(rn.clientWidth/2,rn.clientHeight/2,100,{isStatic:!0,plugin:{attractors:[function(e,t){return{x:1e-6*(e.position.x-t.position.x),y:1e-6*(e.position.y-t.position.y)}}]}});Zi().World.add(on.world,ln);const hn=100,cn=0,un=0,dn=0;!function(){let e=0,t=0;for(let i=0;i<60;i++){const i=new Ui.Group,n={width:0,height:0};let r=e+n.width,s=t+n.height;e+n.width>=sn.width&&(e=cn,t+=hn+dn,r=e+n.width/2,s=t+n.height/2);const o=new Ui.RoundedRectangle(0,0,100,100,8);o.fill="rgb(251,249,244)",o.noStroke();const a=Zi().Bodies.rectangle(r,s,1,1);Zi().Body.scale(a,100,100),a.scale=new Ui.Vector(100,100),a.object=i,nn.push(a),e+=100+cn+un,i.rectangle=o,i.entity=a,i.add(o),sn.add(i)}Zi().World.add(on.world,nn)}(),window.addEventListener("resize",(()=>{sn.width=rn.clientWidth,sn.height=rn.clientHeight}));const fn=function(){const e=Zi().Mouse.create(rn),t=Zi().MouseConstraint.create(on,{mouse:e,constraint:{stiffness:.2}});return Zi().World.add(on.world,t),Zi().Events.on(on,"afterUpdate",(function(){e.position.x&&Zi().Body.translate(ln,{x:e.position.x-ln.position.x,y:e.position.y-ln.position.y})})),t}();function pn(e,t){const i=sn.makeRectangle(0,0,e,t);return i.visible=!1,i.entity=Zi().Bodies.rectangle(0,0,e,t,an.properties),i.entity.position=i.position,i}sn.bind("update",(function(){const e=Zi().Composite.allBodies(on.world);Zi().MouseConstraint.update(fn,e),Zi().MouseConstraint._triggerEvents(fn),Zi().Engine.update(on);for(let e=0;e<nn.length;e++){const t=nn[e];t.object.position.copy(t.position),t.object.rotation=t.angle}})),fn.mouse.element.removeEventListener("mousewheel",fn.mouse.mousewheel),fn.mouse.element.removeEventListener("DOMMouseScroll",fn.mouse.mousewheel),fn.mouse.element.removeEventListener("touchmove",fn.mouse.mousemove),fn.mouse.element.removeEventListener("touchstart",fn.mouse.mousedown),fn.mouse.element.removeEventListener("touchend",fn.mouse.mouseup)},755:function(e,t){var i;!function(t,i){"use strict";"object"==typeof e.exports?e.exports=t.document?i(t,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return i(e)}:i(t)}("undefined"!=typeof window?window:this,(function(n,r){"use strict";var s=[],o=Object.getPrototypeOf,a=s.slice,l=s.flat?function(e){return s.flat.call(e)}:function(e){return s.concat.apply([],e)},h=s.push,c=s.indexOf,u={},d=u.toString,f=u.hasOwnProperty,p=f.toString,g=p.call(Object),m={},y=function(e){return"function"==typeof e&&"number"!=typeof e.nodeType&&"function"!=typeof e.item},_=function(e){return null!=e&&e===e.window},v=n.document,x={type:!0,src:!0,nonce:!0,noModule:!0};function b(e,t,i){var n,r,s=(i=i||v).createElement("script");if(s.text=e,t)for(n in x)(r=t[n]||t.getAttribute&&t.getAttribute(n))&&s.setAttribute(n,r);i.head.appendChild(s).parentNode.removeChild(s)}function w(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?u[d.call(e)]||"object":typeof e}var S="3.7.0",k=/HTML$/i,A=function(e,t){return new A.fn.init(e,t)};function T(e){var t=!!e&&"length"in e&&e.length,i=w(e);return!y(e)&&!_(e)&&("array"===i||0===t||"number"==typeof t&&t>0&&t-1 in e)}function C(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()}A.fn=A.prototype={jquery:S,constructor:A,length:0,toArray:function(){return a.call(this)},get:function(e){return null==e?a.call(this):e<0?this[e+this.length]:this[e]},pushStack:function(e){var t=A.merge(this.constructor(),e);return t.prevObject=this,t},each:function(e){return A.each(this,e)},map:function(e){return this.pushStack(A.map(this,(function(t,i){return e.call(t,i,t)})))},slice:function(){return this.pushStack(a.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},even:function(){return this.pushStack(A.grep(this,(function(e,t){return(t+1)%2})))},odd:function(){return this.pushStack(A.grep(this,(function(e,t){return t%2})))},eq:function(e){var t=this.length,i=+e+(e<0?t:0);return this.pushStack(i>=0&&i<t?[this[i]]:[])},end:function(){return this.prevObject||this.constructor()},push:h,sort:s.sort,splice:s.splice},A.extend=A.fn.extend=function(){var e,t,i,n,r,s,o=arguments[0]||{},a=1,l=arguments.length,h=!1;for("boolean"==typeof o&&(h=o,o=arguments[a]||{},a++),"object"==typeof o||y(o)||(o={}),a===l&&(o=this,a--);a<l;a++)if(null!=(e=arguments[a]))for(t in e)n=e[t],"__proto__"!==t&&o!==n&&(h&&n&&(A.isPlainObject(n)||(r=Array.isArray(n)))?(i=o[t],s=r&&!Array.isArray(i)?[]:r||A.isPlainObject(i)?i:{},r=!1,o[t]=A.extend(h,s,n)):void 0!==n&&(o[t]=n));return o},A.extend({expando:"jQuery"+(S+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isPlainObject:function(e){var t,i;return!(!e||"[object Object]"!==d.call(e)||(t=o(e))&&("function"!=typeof(i=f.call(t,"constructor")&&t.constructor)||p.call(i)!==g))},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},globalEval:function(e,t,i){b(e,{nonce:t&&t.nonce},i)},each:function(e,t){var i,n=0;if(T(e))for(i=e.length;n<i&&!1!==t.call(e[n],n,e[n]);n++);else for(n in e)if(!1===t.call(e[n],n,e[n]))break;return e},text:function(e){var t,i="",n=0,r=e.nodeType;if(r){if(1===r||9===r||11===r)return e.textContent;if(3===r||4===r)return e.nodeValue}else for(;t=e[n++];)i+=A.text(t);return i},makeArray:function(e,t){var i=t||[];return null!=e&&(T(Object(e))?A.merge(i,"string"==typeof e?[e]:e):h.call(i,e)),i},inArray:function(e,t,i){return null==t?-1:c.call(t,e,i)},isXMLDoc:function(e){var t=e&&e.namespaceURI,i=e&&(e.ownerDocument||e).documentElement;return!k.test(t||i&&i.nodeName||"HTML")},merge:function(e,t){for(var i=+t.length,n=0,r=e.length;n<i;n++)e[r++]=t[n];return e.length=r,e},grep:function(e,t,i){for(var n=[],r=0,s=e.length,o=!i;r<s;r++)!t(e[r],r)!==o&&n.push(e[r]);return n},map:function(e,t,i){var n,r,s=0,o=[];if(T(e))for(n=e.length;s<n;s++)null!=(r=t(e[s],s,i))&&o.push(r);else for(s in e)null!=(r=t(e[s],s,i))&&o.push(r);return l(o)},guid:1,support:m}),"function"==typeof Symbol&&(A.fn[Symbol.iterator]=s[Symbol.iterator]),A.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),(function(e,t){u["[object "+t+"]"]=t.toLowerCase()}));var R=s.pop,E=s.sort,P=s.splice,M="[\\x20\\t\\r\\n\\f]",j=new RegExp("^"+M+"+|((?:^|[^\\\\])(?:\\\\.)*)"+M+"+$","g");A.contains=function(e,t){var i=t&&t.parentNode;return e===i||!(!i||1!==i.nodeType||!(e.contains?e.contains(i):e.compareDocumentPosition&&16&e.compareDocumentPosition(i)))};var F=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\x80-\uFFFF\w-]/g;function L(e,t){return t?"\0"===e?"":e.slice(0,-1)+"\\"+e.charCodeAt(e.length-1).toString(16)+" ":"\\"+e}A.escapeSelector=function(e){return(e+"").replace(F,L)};var O=v,I=h;!function(){var e,t,i,r,o,l,h,u,d,p,g=I,y=A.expando,_=0,v=0,x=ee(),b=ee(),w=ee(),S=ee(),k=function(e,t){return e===t&&(o=!0),0},T="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",F="(?:\\\\[\\da-fA-F]{1,6}"+M+"?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+",L="\\["+M+"*("+F+")(?:"+M+"*([*^$|!~]?=)"+M+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+F+"))|)"+M+"*\\]",B=":("+F+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+L+")*)|.*)\\)|)",N=new RegExp(M+"+","g"),D=new RegExp("^"+M+"*,"+M+"*"),H=new RegExp("^"+M+"*([>+~]|"+M+")"+M+"*"),V=new RegExp(M+"|>"),z=new RegExp(B),q=new RegExp("^"+F+"$"),W={ID:new RegExp("^#("+F+")"),CLASS:new RegExp("^\\.("+F+")"),TAG:new RegExp("^("+F+"|[*])"),ATTR:new RegExp("^"+L),PSEUDO:new RegExp("^"+B),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+M+"*(even|odd|(([+-]|)(\\d*)n|)"+M+"*(?:([+-]|)"+M+"*(\\d+)|))"+M+"*\\)|)","i"),bool:new RegExp("^(?:"+T+")$","i"),needsContext:new RegExp("^"+M+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+M+"*((?:-\\d)?\\d*)"+M+"*\\)|)(?=[^-]|$)","i")},U=/^(?:input|select|textarea|button)$/i,X=/^h\d$/i,$=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,Y=/[+~]/,G=new RegExp("\\\\[\\da-fA-F]{1,6}"+M+"?|\\\\([^\\r\\n\\f])","g"),K=function(e,t){var i="0x"+e.slice(1)-65536;return t||(i<0?String.fromCharCode(i+65536):String.fromCharCode(i>>10|55296,1023&i|56320))},Q=function(){le()},J=de((function(e){return!0===e.disabled&&C(e,"fieldset")}),{dir:"parentNode",next:"legend"});try{g.apply(s=a.call(O.childNodes),O.childNodes),s[O.childNodes.length].nodeType}catch(e){g={apply:function(e,t){I.apply(e,a.call(t))},call:function(e){I.apply(e,a.call(arguments,1))}}}function Z(e,t,i,n){var r,s,o,a,h,c,f,p=t&&t.ownerDocument,_=t?t.nodeType:9;if(i=i||[],"string"!=typeof e||!e||1!==_&&9!==_&&11!==_)return i;if(!n&&(le(t),t=t||l,u)){if(11!==_&&(h=$.exec(e)))if(r=h[1]){if(9===_){if(!(o=t.getElementById(r)))return i;if(o.id===r)return g.call(i,o),i}else if(p&&(o=p.getElementById(r))&&Z.contains(t,o)&&o.id===r)return g.call(i,o),i}else{if(h[2])return g.apply(i,t.getElementsByTagName(e)),i;if((r=h[3])&&t.getElementsByClassName)return g.apply(i,t.getElementsByClassName(r)),i}if(!(S[e+" "]||d&&d.test(e))){if(f=e,p=t,1===_&&(V.test(e)||H.test(e))){for((p=Y.test(e)&&ae(t.parentNode)||t)==t&&m.scope||((a=t.getAttribute("id"))?a=A.escapeSelector(a):t.setAttribute("id",a=y)),s=(c=ce(e)).length;s--;)c[s]=(a?"#"+a:":scope")+" "+ue(c[s]);f=c.join(",")}try{return g.apply(i,p.querySelectorAll(f)),i}catch(t){S(e,!0)}finally{a===y&&t.removeAttribute("id")}}}return _e(e.replace(j,"$1"),t,i,n)}function ee(){var e=[];return function i(n,r){return e.push(n+" ")>t.cacheLength&&delete i[e.shift()],i[n+" "]=r}}function te(e){return e[y]=!0,e}function ie(e){var t=l.createElement("fieldset");try{return!!e(t)}catch(e){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function ne(e){return function(t){return C(t,"input")&&t.type===e}}function re(e){return function(t){return(C(t,"input")||C(t,"button"))&&t.type===e}}function se(e){return function(t){return"form"in t?t.parentNode&&!1===t.disabled?"label"in t?"label"in t.parentNode?t.parentNode.disabled===e:t.disabled===e:t.isDisabled===e||t.isDisabled!==!e&&J(t)===e:t.disabled===e:"label"in t&&t.disabled===e}}function oe(e){return te((function(t){return t=+t,te((function(i,n){for(var r,s=e([],i.length,t),o=s.length;o--;)i[r=s[o]]&&(i[r]=!(n[r]=i[r]))}))}))}function ae(e){return e&&void 0!==e.getElementsByTagName&&e}function le(e){var i,n=e?e.ownerDocument||e:O;return n!=l&&9===n.nodeType&&n.documentElement?(h=(l=n).documentElement,u=!A.isXMLDoc(l),p=h.matches||h.webkitMatchesSelector||h.msMatchesSelector,O!=l&&(i=l.defaultView)&&i.top!==i&&i.addEventListener("unload",Q),m.getById=ie((function(e){return h.appendChild(e).id=A.expando,!l.getElementsByName||!l.getElementsByName(A.expando).length})),m.disconnectedMatch=ie((function(e){return p.call(e,"*")})),m.scope=ie((function(){return l.querySelectorAll(":scope")})),m.cssHas=ie((function(){try{return l.querySelector(":has(*,:jqfake)"),!1}catch(e){return!0}})),m.getById?(t.filter.ID=function(e){var t=e.replace(G,K);return function(e){return e.getAttribute("id")===t}},t.find.ID=function(e,t){if(void 0!==t.getElementById&&u){var i=t.getElementById(e);return i?[i]:[]}}):(t.filter.ID=function(e){var t=e.replace(G,K);return function(e){var i=void 0!==e.getAttributeNode&&e.getAttributeNode("id");return i&&i.value===t}},t.find.ID=function(e,t){if(void 0!==t.getElementById&&u){var i,n,r,s=t.getElementById(e);if(s){if((i=s.getAttributeNode("id"))&&i.value===e)return[s];for(r=t.getElementsByName(e),n=0;s=r[n++];)if((i=s.getAttributeNode("id"))&&i.value===e)return[s]}return[]}}),t.find.TAG=function(e,t){return void 0!==t.getElementsByTagName?t.getElementsByTagName(e):t.querySelectorAll(e)},t.find.CLASS=function(e,t){if(void 0!==t.getElementsByClassName&&u)return t.getElementsByClassName(e)},d=[],ie((function(e){var t;h.appendChild(e).innerHTML="<a id='"+y+"' href='' disabled='disabled'></a><select id='"+y+"-\r\\' disabled='disabled'><option selected=''></option></select>",e.querySelectorAll("[selected]").length||d.push("\\["+M+"*(?:value|"+T+")"),e.querySelectorAll("[id~="+y+"-]").length||d.push("~="),e.querySelectorAll("a#"+y+"+*").length||d.push(".#.+[+~]"),e.querySelectorAll(":checked").length||d.push(":checked"),(t=l.createElement("input")).setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),h.appendChild(e).disabled=!0,2!==e.querySelectorAll(":disabled").length&&d.push(":enabled",":disabled"),(t=l.createElement("input")).setAttribute("name",""),e.appendChild(t),e.querySelectorAll("[name='']").length||d.push("\\["+M+"*name"+M+"*="+M+"*(?:''|\"\")")})),m.cssHas||d.push(":has"),d=d.length&&new RegExp(d.join("|")),k=function(e,t){if(e===t)return o=!0,0;var i=!e.compareDocumentPosition-!t.compareDocumentPosition;return i||(1&(i=(e.ownerDocument||e)==(t.ownerDocument||t)?e.compareDocumentPosition(t):1)||!m.sortDetached&&t.compareDocumentPosition(e)===i?e===l||e.ownerDocument==O&&Z.contains(O,e)?-1:t===l||t.ownerDocument==O&&Z.contains(O,t)?1:r?c.call(r,e)-c.call(r,t):0:4&i?-1:1)},l):l}for(e in Z.matches=function(e,t){return Z(e,null,null,t)},Z.matchesSelector=function(e,t){if(le(e),u&&!S[t+" "]&&(!d||!d.test(t)))try{var i=p.call(e,t);if(i||m.disconnectedMatch||e.document&&11!==e.document.nodeType)return i}catch(e){S(t,!0)}return Z(t,l,null,[e]).length>0},Z.contains=function(e,t){return(e.ownerDocument||e)!=l&&le(e),A.contains(e,t)},Z.attr=function(e,i){(e.ownerDocument||e)!=l&&le(e);var n=t.attrHandle[i.toLowerCase()],r=n&&f.call(t.attrHandle,i.toLowerCase())?n(e,i,!u):void 0;return void 0!==r?r:e.getAttribute(i)},Z.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},A.uniqueSort=function(e){var t,i=[],n=0,s=0;if(o=!m.sortStable,r=!m.sortStable&&a.call(e,0),E.call(e,k),o){for(;t=e[s++];)t===e[s]&&(n=i.push(s));for(;n--;)P.call(e,i[n],1)}return r=null,e},A.fn.uniqueSort=function(){return this.pushStack(A.uniqueSort(a.apply(this)))},t=A.expr={cacheLength:50,createPseudo:te,match:W,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(G,K),e[3]=(e[3]||e[4]||e[5]||"").replace(G,K),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||Z.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&Z.error(e[0]),e},PSEUDO:function(e){var t,i=!e[6]&&e[2];return W.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":i&&z.test(i)&&(t=ce(i,!0))&&(t=i.indexOf(")",i.length-t)-i.length)&&(e[0]=e[0].slice(0,t),e[2]=i.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(G,K).toLowerCase();return"*"===e?function(){return!0}:function(e){return C(e,t)}},CLASS:function(e){var t=x[e+" "];return t||(t=new RegExp("(^|"+M+")"+e+"("+M+"|$)"))&&x(e,(function(e){return t.test("string"==typeof e.className&&e.className||void 0!==e.getAttribute&&e.getAttribute("class")||"")}))},ATTR:function(e,t,i){return function(n){var r=Z.attr(n,e);return null==r?"!="===t:!t||(r+="","="===t?r===i:"!="===t?r!==i:"^="===t?i&&0===r.indexOf(i):"*="===t?i&&r.indexOf(i)>-1:"$="===t?i&&r.slice(-i.length)===i:"~="===t?(" "+r.replace(N," ")+" ").indexOf(i)>-1:"|="===t&&(r===i||r.slice(0,i.length+1)===i+"-"))}},CHILD:function(e,t,i,n,r){var s="nth"!==e.slice(0,3),o="last"!==e.slice(-4),a="of-type"===t;return 1===n&&0===r?function(e){return!!e.parentNode}:function(t,i,l){var h,c,u,d,f,p=s!==o?"nextSibling":"previousSibling",g=t.parentNode,m=a&&t.nodeName.toLowerCase(),v=!l&&!a,x=!1;if(g){if(s){for(;p;){for(u=t;u=u[p];)if(a?C(u,m):1===u.nodeType)return!1;f=p="only"===e&&!f&&"nextSibling"}return!0}if(f=[o?g.firstChild:g.lastChild],o&&v){for(x=(d=(h=(c=g[y]||(g[y]={}))[e]||[])[0]===_&&h[1])&&h[2],u=d&&g.childNodes[d];u=++d&&u&&u[p]||(x=d=0)||f.pop();)if(1===u.nodeType&&++x&&u===t){c[e]=[_,d,x];break}}else if(v&&(x=d=(h=(c=t[y]||(t[y]={}))[e]||[])[0]===_&&h[1]),!1===x)for(;(u=++d&&u&&u[p]||(x=d=0)||f.pop())&&(!(a?C(u,m):1===u.nodeType)||!++x||(v&&((c=u[y]||(u[y]={}))[e]=[_,x]),u!==t)););return(x-=r)===n||x%n==0&&x/n>=0}}},PSEUDO:function(e,i){var n,r=t.pseudos[e]||t.setFilters[e.toLowerCase()]||Z.error("unsupported pseudo: "+e);return r[y]?r(i):r.length>1?(n=[e,e,"",i],t.setFilters.hasOwnProperty(e.toLowerCase())?te((function(e,t){for(var n,s=r(e,i),o=s.length;o--;)e[n=c.call(e,s[o])]=!(t[n]=s[o])})):function(e){return r(e,0,n)}):r}},pseudos:{not:te((function(e){var t=[],i=[],n=ye(e.replace(j,"$1"));return n[y]?te((function(e,t,i,r){for(var s,o=n(e,null,r,[]),a=e.length;a--;)(s=o[a])&&(e[a]=!(t[a]=s))})):function(e,r,s){return t[0]=e,n(t,null,s,i),t[0]=null,!i.pop()}})),has:te((function(e){return function(t){return Z(e,t).length>0}})),contains:te((function(e){return e=e.replace(G,K),function(t){return(t.textContent||A.text(t)).indexOf(e)>-1}})),lang:te((function(e){return q.test(e||"")||Z.error("unsupported lang: "+e),e=e.replace(G,K).toLowerCase(),function(t){var i;do{if(i=u?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return(i=i.toLowerCase())===e||0===i.indexOf(e+"-")}while((t=t.parentNode)&&1===t.nodeType);return!1}})),target:function(e){var t=n.location&&n.location.hash;return t&&t.slice(1)===e.id},root:function(e){return e===h},focus:function(e){return e===function(){try{return l.activeElement}catch(e){}}()&&l.hasFocus()&&!!(e.type||e.href||~e.tabIndex)},enabled:se(!1),disabled:se(!0),checked:function(e){return C(e,"input")&&!!e.checked||C(e,"option")&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,!0===e.selected},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!t.pseudos.empty(e)},header:function(e){return X.test(e.nodeName)},input:function(e){return U.test(e.nodeName)},button:function(e){return C(e,"input")&&"button"===e.type||C(e,"button")},text:function(e){var t;return C(e,"input")&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:oe((function(){return[0]})),last:oe((function(e,t){return[t-1]})),eq:oe((function(e,t,i){return[i<0?i+t:i]})),even:oe((function(e,t){for(var i=0;i<t;i+=2)e.push(i);return e})),odd:oe((function(e,t){for(var i=1;i<t;i+=2)e.push(i);return e})),lt:oe((function(e,t,i){var n;for(n=i<0?i+t:i>t?t:i;--n>=0;)e.push(n);return e})),gt:oe((function(e,t,i){for(var n=i<0?i+t:i;++n<t;)e.push(n);return e}))}},t.pseudos.nth=t.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})t.pseudos[e]=ne(e);for(e in{submit:!0,reset:!0})t.pseudos[e]=re(e);function he(){}function ce(e,i){var n,r,s,o,a,l,h,c=b[e+" "];if(c)return i?0:c.slice(0);for(a=e,l=[],h=t.preFilter;a;){for(o in n&&!(r=D.exec(a))||(r&&(a=a.slice(r[0].length)||a),l.push(s=[])),n=!1,(r=H.exec(a))&&(n=r.shift(),s.push({value:n,type:r[0].replace(j," ")}),a=a.slice(n.length)),t.filter)!(r=W[o].exec(a))||h[o]&&!(r=h[o](r))||(n=r.shift(),s.push({value:n,type:o,matches:r}),a=a.slice(n.length));if(!n)break}return i?a.length:a?Z.error(e):b(e,l).slice(0)}function ue(e){for(var t=0,i=e.length,n="";t<i;t++)n+=e[t].value;return n}function de(e,t,i){var n=t.dir,r=t.next,s=r||n,o=i&&"parentNode"===s,a=v++;return t.first?function(t,i,r){for(;t=t[n];)if(1===t.nodeType||o)return e(t,i,r);return!1}:function(t,i,l){var h,c,u=[_,a];if(l){for(;t=t[n];)if((1===t.nodeType||o)&&e(t,i,l))return!0}else for(;t=t[n];)if(1===t.nodeType||o)if(c=t[y]||(t[y]={}),r&&C(t,r))t=t[n]||t;else{if((h=c[s])&&h[0]===_&&h[1]===a)return u[2]=h[2];if(c[s]=u,u[2]=e(t,i,l))return!0}return!1}}function fe(e){return e.length>1?function(t,i,n){for(var r=e.length;r--;)if(!e[r](t,i,n))return!1;return!0}:e[0]}function pe(e,t,i,n,r){for(var s,o=[],a=0,l=e.length,h=null!=t;a<l;a++)(s=e[a])&&(i&&!i(s,n,r)||(o.push(s),h&&t.push(a)));return o}function ge(e,t,i,n,r,s){return n&&!n[y]&&(n=ge(n)),r&&!r[y]&&(r=ge(r,s)),te((function(s,o,a,l){var h,u,d,f,p=[],m=[],y=o.length,_=s||function(e,t,i){for(var n=0,r=t.length;n<r;n++)Z(e,t[n],i);return i}(t||"*",a.nodeType?[a]:a,[]),v=!e||!s&&t?_:pe(_,p,e,a,l);if(i?i(v,f=r||(s?e:y||n)?[]:o,a,l):f=v,n)for(h=pe(f,m),n(h,[],a,l),u=h.length;u--;)(d=h[u])&&(f[m[u]]=!(v[m[u]]=d));if(s){if(r||e){if(r){for(h=[],u=f.length;u--;)(d=f[u])&&h.push(v[u]=d);r(null,f=[],h,l)}for(u=f.length;u--;)(d=f[u])&&(h=r?c.call(s,d):p[u])>-1&&(s[h]=!(o[h]=d))}}else f=pe(f===o?f.splice(y,f.length):f),r?r(null,o,f,l):g.apply(o,f)}))}function me(e){for(var n,r,s,o=e.length,a=t.relative[e[0].type],l=a||t.relative[" "],h=a?1:0,u=de((function(e){return e===n}),l,!0),d=de((function(e){return c.call(n,e)>-1}),l,!0),f=[function(e,t,r){var s=!a&&(r||t!=i)||((n=t).nodeType?u(e,t,r):d(e,t,r));return n=null,s}];h<o;h++)if(r=t.relative[e[h].type])f=[de(fe(f),r)];else{if((r=t.filter[e[h].type].apply(null,e[h].matches))[y]){for(s=++h;s<o&&!t.relative[e[s].type];s++);return ge(h>1&&fe(f),h>1&&ue(e.slice(0,h-1).concat({value:" "===e[h-2].type?"*":""})).replace(j,"$1"),r,h<s&&me(e.slice(h,s)),s<o&&me(e=e.slice(s)),s<o&&ue(e))}f.push(r)}return fe(f)}function ye(e,n){var r,s=[],o=[],a=w[e+" "];if(!a){for(n||(n=ce(e)),r=n.length;r--;)(a=me(n[r]))[y]?s.push(a):o.push(a);a=w(e,function(e,n){var r=n.length>0,s=e.length>0,o=function(o,a,h,c,d){var f,p,m,y=0,v="0",x=o&&[],b=[],w=i,S=o||s&&t.find.TAG("*",d),k=_+=null==w?1:Math.random()||.1,T=S.length;for(d&&(i=a==l||a||d);v!==T&&null!=(f=S[v]);v++){if(s&&f){for(p=0,a||f.ownerDocument==l||(le(f),h=!u);m=e[p++];)if(m(f,a||l,h)){g.call(c,f);break}d&&(_=k)}r&&((f=!m&&f)&&y--,o&&x.push(f))}if(y+=v,r&&v!==y){for(p=0;m=n[p++];)m(x,b,a,h);if(o){if(y>0)for(;v--;)x[v]||b[v]||(b[v]=R.call(c));b=pe(b)}g.apply(c,b),d&&!o&&b.length>0&&y+n.length>1&&A.uniqueSort(c)}return d&&(_=k,i=w),x};return r?te(o):o}(o,s)),a.selector=e}return a}function _e(e,i,n,r){var s,o,a,l,h,c="function"==typeof e&&e,d=!r&&ce(e=c.selector||e);if(n=n||[],1===d.length){if((o=d[0]=d[0].slice(0)).length>2&&"ID"===(a=o[0]).type&&9===i.nodeType&&u&&t.relative[o[1].type]){if(!(i=(t.find.ID(a.matches[0].replace(G,K),i)||[])[0]))return n;c&&(i=i.parentNode),e=e.slice(o.shift().value.length)}for(s=W.needsContext.test(e)?0:o.length;s--&&(a=o[s],!t.relative[l=a.type]);)if((h=t.find[l])&&(r=h(a.matches[0].replace(G,K),Y.test(o[0].type)&&ae(i.parentNode)||i))){if(o.splice(s,1),!(e=r.length&&ue(o)))return g.apply(n,r),n;break}}return(c||ye(e,d))(r,i,!u,n,!i||Y.test(e)&&ae(i.parentNode)||i),n}he.prototype=t.filters=t.pseudos,t.setFilters=new he,m.sortStable=y.split("").sort(k).join("")===y,le(),m.sortDetached=ie((function(e){return 1&e.compareDocumentPosition(l.createElement("fieldset"))})),A.find=Z,A.expr[":"]=A.expr.pseudos,A.unique=A.uniqueSort,Z.compile=ye,Z.select=_e,Z.setDocument=le,Z.escape=A.escapeSelector,Z.getText=A.text,Z.isXML=A.isXMLDoc,Z.selectors=A.expr,Z.support=A.support,Z.uniqueSort=A.uniqueSort}();var B=function(e,t,i){for(var n=[],r=void 0!==i;(e=e[t])&&9!==e.nodeType;)if(1===e.nodeType){if(r&&A(e).is(i))break;n.push(e)}return n},N=function(e,t){for(var i=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&i.push(e);return i},D=A.expr.match.needsContext,H=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function V(e,t,i){return y(t)?A.grep(e,(function(e,n){return!!t.call(e,n,e)!==i})):t.nodeType?A.grep(e,(function(e){return e===t!==i})):"string"!=typeof t?A.grep(e,(function(e){return c.call(t,e)>-1!==i})):A.filter(t,e,i)}A.filter=function(e,t,i){var n=t[0];return i&&(e=":not("+e+")"),1===t.length&&1===n.nodeType?A.find.matchesSelector(n,e)?[n]:[]:A.find.matches(e,A.grep(t,(function(e){return 1===e.nodeType})))},A.fn.extend({find:function(e){var t,i,n=this.length,r=this;if("string"!=typeof e)return this.pushStack(A(e).filter((function(){for(t=0;t<n;t++)if(A.contains(r[t],this))return!0})));for(i=this.pushStack([]),t=0;t<n;t++)A.find(e,r[t],i);return n>1?A.uniqueSort(i):i},filter:function(e){return this.pushStack(V(this,e||[],!1))},not:function(e){return this.pushStack(V(this,e||[],!0))},is:function(e){return!!V(this,"string"==typeof e&&D.test(e)?A(e):e||[],!1).length}});var z,q=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;(A.fn.init=function(e,t,i){var n,r;if(!e)return this;if(i=i||z,"string"==typeof e){if(!(n="<"===e[0]&&">"===e[e.length-1]&&e.length>=3?[null,e,null]:q.exec(e))||!n[1]&&t)return!t||t.jquery?(t||i).find(e):this.constructor(t).find(e);if(n[1]){if(t=t instanceof A?t[0]:t,A.merge(this,A.parseHTML(n[1],t&&t.nodeType?t.ownerDocument||t:v,!0)),H.test(n[1])&&A.isPlainObject(t))for(n in t)y(this[n])?this[n](t[n]):this.attr(n,t[n]);return this}return(r=v.getElementById(n[2]))&&(this[0]=r,this.length=1),this}return e.nodeType?(this[0]=e,this.length=1,this):y(e)?void 0!==i.ready?i.ready(e):e(A):A.makeArray(e,this)}).prototype=A.fn,z=A(v);var W=/^(?:parents|prev(?:Until|All))/,U={children:!0,contents:!0,next:!0,prev:!0};function X(e,t){for(;(e=e[t])&&1!==e.nodeType;);return e}A.fn.extend({has:function(e){var t=A(e,this),i=t.length;return this.filter((function(){for(var e=0;e<i;e++)if(A.contains(this,t[e]))return!0}))},closest:function(e,t){var i,n=0,r=this.length,s=[],o="string"!=typeof e&&A(e);if(!D.test(e))for(;n<r;n++)for(i=this[n];i&&i!==t;i=i.parentNode)if(i.nodeType<11&&(o?o.index(i)>-1:1===i.nodeType&&A.find.matchesSelector(i,e))){s.push(i);break}return this.pushStack(s.length>1?A.uniqueSort(s):s)},index:function(e){return e?"string"==typeof e?c.call(A(e),this[0]):c.call(this,e.jquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(A.uniqueSort(A.merge(this.get(),A(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),A.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return B(e,"parentNode")},parentsUntil:function(e,t,i){return B(e,"parentNode",i)},next:function(e){return X(e,"nextSibling")},prev:function(e){return X(e,"previousSibling")},nextAll:function(e){return B(e,"nextSibling")},prevAll:function(e){return B(e,"previousSibling")},nextUntil:function(e,t,i){return B(e,"nextSibling",i)},prevUntil:function(e,t,i){return B(e,"previousSibling",i)},siblings:function(e){return N((e.parentNode||{}).firstChild,e)},children:function(e){return N(e.firstChild)},contents:function(e){return null!=e.contentDocument&&o(e.contentDocument)?e.contentDocument:(C(e,"template")&&(e=e.content||e),A.merge([],e.childNodes))}},(function(e,t){A.fn[e]=function(i,n){var r=A.map(this,t,i);return"Until"!==e.slice(-5)&&(n=i),n&&"string"==typeof n&&(r=A.filter(n,r)),this.length>1&&(U[e]||A.uniqueSort(r),W.test(e)&&r.reverse()),this.pushStack(r)}}));var $=/[^\x20\t\r\n\f]+/g;function Y(e){return e}function G(e){throw e}function K(e,t,i,n){var r;try{e&&y(r=e.promise)?r.call(e).done(t).fail(i):e&&y(r=e.then)?r.call(e,t,i):t.apply(void 0,[e].slice(n))}catch(e){i.apply(void 0,[e])}}A.Callbacks=function(e){e="string"==typeof e?function(e){var t={};return A.each(e.match($)||[],(function(e,i){t[i]=!0})),t}(e):A.extend({},e);var t,i,n,r,s=[],o=[],a=-1,l=function(){for(r=r||e.once,n=t=!0;o.length;a=-1)for(i=o.shift();++a<s.length;)!1===s[a].apply(i[0],i[1])&&e.stopOnFalse&&(a=s.length,i=!1);e.memory||(i=!1),t=!1,r&&(s=i?[]:"")},h={add:function(){return s&&(i&&!t&&(a=s.length-1,o.push(i)),function t(i){A.each(i,(function(i,n){y(n)?e.unique&&h.has(n)||s.push(n):n&&n.length&&"string"!==w(n)&&t(n)}))}(arguments),i&&!t&&l()),this},remove:function(){return A.each(arguments,(function(e,t){for(var i;(i=A.inArray(t,s,i))>-1;)s.splice(i,1),i<=a&&a--})),this},has:function(e){return e?A.inArray(e,s)>-1:s.length>0},empty:function(){return s&&(s=[]),this},disable:function(){return r=o=[],s=i="",this},disabled:function(){return!s},lock:function(){return r=o=[],i||t||(s=i=""),this},locked:function(){return!!r},fireWith:function(e,i){return r||(i=[e,(i=i||[]).slice?i.slice():i],o.push(i),t||l()),this},fire:function(){return h.fireWith(this,arguments),this},fired:function(){return!!n}};return h},A.extend({Deferred:function(e){var t=[["notify","progress",A.Callbacks("memory"),A.Callbacks("memory"),2],["resolve","done",A.Callbacks("once memory"),A.Callbacks("once memory"),0,"resolved"],["reject","fail",A.Callbacks("once memory"),A.Callbacks("once memory"),1,"rejected"]],i="pending",r={state:function(){return i},always:function(){return s.done(arguments).fail(arguments),this},catch:function(e){return r.then(null,e)},pipe:function(){var e=arguments;return A.Deferred((function(i){A.each(t,(function(t,n){var r=y(e[n[4]])&&e[n[4]];s[n[1]]((function(){var e=r&&r.apply(this,arguments);e&&y(e.promise)?e.promise().progress(i.notify).done(i.resolve).fail(i.reject):i[n[0]+"With"](this,r?[e]:arguments)}))})),e=null})).promise()},then:function(e,i,r){var s=0;function o(e,t,i,r){return function(){var a=this,l=arguments,h=function(){var n,h;if(!(e<s)){if((n=i.apply(a,l))===t.promise())throw new TypeError("Thenable self-resolution");h=n&&("object"==typeof n||"function"==typeof n)&&n.then,y(h)?r?h.call(n,o(s,t,Y,r),o(s,t,G,r)):(s++,h.call(n,o(s,t,Y,r),o(s,t,G,r),o(s,t,Y,t.notifyWith))):(i!==Y&&(a=void 0,l=[n]),(r||t.resolveWith)(a,l))}},c=r?h:function(){try{h()}catch(n){A.Deferred.exceptionHook&&A.Deferred.exceptionHook(n,c.error),e+1>=s&&(i!==G&&(a=void 0,l=[n]),t.rejectWith(a,l))}};e?c():(A.Deferred.getErrorHook?c.error=A.Deferred.getErrorHook():A.Deferred.getStackHook&&(c.error=A.Deferred.getStackHook()),n.setTimeout(c))}}return A.Deferred((function(n){t[0][3].add(o(0,n,y(r)?r:Y,n.notifyWith)),t[1][3].add(o(0,n,y(e)?e:Y)),t[2][3].add(o(0,n,y(i)?i:G))})).promise()},promise:function(e){return null!=e?A.extend(e,r):r}},s={};return A.each(t,(function(e,n){var o=n[2],a=n[5];r[n[1]]=o.add,a&&o.add((function(){i=a}),t[3-e][2].disable,t[3-e][3].disable,t[0][2].lock,t[0][3].lock),o.add(n[3].fire),s[n[0]]=function(){return s[n[0]+"With"](this===s?void 0:this,arguments),this},s[n[0]+"With"]=o.fireWith})),r.promise(s),e&&e.call(s,s),s},when:function(e){var t=arguments.length,i=t,n=Array(i),r=a.call(arguments),s=A.Deferred(),o=function(e){return function(i){n[e]=this,r[e]=arguments.length>1?a.call(arguments):i,--t||s.resolveWith(n,r)}};if(t<=1&&(K(e,s.done(o(i)).resolve,s.reject,!t),"pending"===s.state()||y(r[i]&&r[i].then)))return s.then();for(;i--;)K(r[i],o(i),s.reject);return s.promise()}});var Q=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;A.Deferred.exceptionHook=function(e,t){n.console&&n.console.warn&&e&&Q.test(e.name)&&n.console.warn("jQuery.Deferred exception: "+e.message,e.stack,t)},A.readyException=function(e){n.setTimeout((function(){throw e}))};var J=A.Deferred();function Z(){v.removeEventListener("DOMContentLoaded",Z),n.removeEventListener("load",Z),A.ready()}A.fn.ready=function(e){return J.then(e).catch((function(e){A.readyException(e)})),this},A.extend({isReady:!1,readyWait:1,ready:function(e){(!0===e?--A.readyWait:A.isReady)||(A.isReady=!0,!0!==e&&--A.readyWait>0||J.resolveWith(v,[A]))}}),A.ready.then=J.then,"complete"===v.readyState||"loading"!==v.readyState&&!v.documentElement.doScroll?n.setTimeout(A.ready):(v.addEventListener("DOMContentLoaded",Z),n.addEventListener("load",Z));var ee=function(e,t,i,n,r,s,o){var a=0,l=e.length,h=null==i;if("object"===w(i))for(a in r=!0,i)ee(e,t,a,i[a],!0,s,o);else if(void 0!==n&&(r=!0,y(n)||(o=!0),h&&(o?(t.call(e,n),t=null):(h=t,t=function(e,t,i){return h.call(A(e),i)})),t))for(;a<l;a++)t(e[a],i,o?n:n.call(e[a],a,t(e[a],i)));return r?e:h?t.call(e):l?t(e[0],i):s},te=/^-ms-/,ie=/-([a-z])/g;function ne(e,t){return t.toUpperCase()}function re(e){return e.replace(te,"ms-").replace(ie,ne)}var se=function(e){return 1===e.nodeType||9===e.nodeType||!+e.nodeType};function oe(){this.expando=A.expando+oe.uid++}oe.uid=1,oe.prototype={cache:function(e){var t=e[this.expando];return t||(t={},se(e)&&(e.nodeType?e[this.expando]=t:Object.defineProperty(e,this.expando,{value:t,configurable:!0}))),t},set:function(e,t,i){var n,r=this.cache(e);if("string"==typeof t)r[re(t)]=i;else for(n in t)r[re(n)]=t[n];return r},get:function(e,t){return void 0===t?this.cache(e):e[this.expando]&&e[this.expando][re(t)]},access:function(e,t,i){return void 0===t||t&&"string"==typeof t&&void 0===i?this.get(e,t):(this.set(e,t,i),void 0!==i?i:t)},remove:function(e,t){var i,n=e[this.expando];if(void 0!==n){if(void 0!==t){i=(t=Array.isArray(t)?t.map(re):(t=re(t))in n?[t]:t.match($)||[]).length;for(;i--;)delete n[t[i]]}(void 0===t||A.isEmptyObject(n))&&(e.nodeType?e[this.expando]=void 0:delete e[this.expando])}},hasData:function(e){var t=e[this.expando];return void 0!==t&&!A.isEmptyObject(t)}};var ae=new oe,le=new oe,he=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,ce=/[A-Z]/g;function ue(e,t,i){var n;if(void 0===i&&1===e.nodeType)if(n="data-"+t.replace(ce,"-$&").toLowerCase(),"string"==typeof(i=e.getAttribute(n))){try{i=function(e){return"true"===e||"false"!==e&&("null"===e?null:e===+e+""?+e:he.test(e)?JSON.parse(e):e)}(i)}catch(e){}le.set(e,t,i)}else i=void 0;return i}A.extend({hasData:function(e){return le.hasData(e)||ae.hasData(e)},data:function(e,t,i){return le.access(e,t,i)},removeData:function(e,t){le.remove(e,t)},_data:function(e,t,i){return ae.access(e,t,i)},_removeData:function(e,t){ae.remove(e,t)}}),A.fn.extend({data:function(e,t){var i,n,r,s=this[0],o=s&&s.attributes;if(void 0===e){if(this.length&&(r=le.get(s),1===s.nodeType&&!ae.get(s,"hasDataAttrs"))){for(i=o.length;i--;)o[i]&&0===(n=o[i].name).indexOf("data-")&&(n=re(n.slice(5)),ue(s,n,r[n]));ae.set(s,"hasDataAttrs",!0)}return r}return"object"==typeof e?this.each((function(){le.set(this,e)})):ee(this,(function(t){var i;if(s&&void 0===t)return void 0!==(i=le.get(s,e))||void 0!==(i=ue(s,e))?i:void 0;this.each((function(){le.set(this,e,t)}))}),null,t,arguments.length>1,null,!0)},removeData:function(e){return this.each((function(){le.remove(this,e)}))}}),A.extend({queue:function(e,t,i){var n;if(e)return t=(t||"fx")+"queue",n=ae.get(e,t),i&&(!n||Array.isArray(i)?n=ae.access(e,t,A.makeArray(i)):n.push(i)),n||[]},dequeue:function(e,t){t=t||"fx";var i=A.queue(e,t),n=i.length,r=i.shift(),s=A._queueHooks(e,t);"inprogress"===r&&(r=i.shift(),n--),r&&("fx"===t&&i.unshift("inprogress"),delete s.stop,r.call(e,(function(){A.dequeue(e,t)}),s)),!n&&s&&s.empty.fire()},_queueHooks:function(e,t){var i=t+"queueHooks";return ae.get(e,i)||ae.access(e,i,{empty:A.Callbacks("once memory").add((function(){ae.remove(e,[t+"queue",i])}))})}}),A.fn.extend({queue:function(e,t){var i=2;return"string"!=typeof e&&(t=e,e="fx",i--),arguments.length<i?A.queue(this[0],e):void 0===t?this:this.each((function(){var i=A.queue(this,e,t);A._queueHooks(this,e),"fx"===e&&"inprogress"!==i[0]&&A.dequeue(this,e)}))},dequeue:function(e){return this.each((function(){A.dequeue(this,e)}))},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var i,n=1,r=A.Deferred(),s=this,o=this.length,a=function(){--n||r.resolveWith(s,[s])};for("string"!=typeof e&&(t=e,e=void 0),e=e||"fx";o--;)(i=ae.get(s[o],e+"queueHooks"))&&i.empty&&(n++,i.empty.add(a));return a(),r.promise(t)}});var de=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,fe=new RegExp("^(?:([+-])=|)("+de+")([a-z%]*)$","i"),pe=["Top","Right","Bottom","Left"],ge=v.documentElement,me=function(e){return A.contains(e.ownerDocument,e)},ye={composed:!0};ge.getRootNode&&(me=function(e){return A.contains(e.ownerDocument,e)||e.getRootNode(ye)===e.ownerDocument});var _e=function(e,t){return"none"===(e=t||e).style.display||""===e.style.display&&me(e)&&"none"===A.css(e,"display")};function ve(e,t,i,n){var r,s,o=20,a=n?function(){return n.cur()}:function(){return A.css(e,t,"")},l=a(),h=i&&i[3]||(A.cssNumber[t]?"":"px"),c=e.nodeType&&(A.cssNumber[t]||"px"!==h&&+l)&&fe.exec(A.css(e,t));if(c&&c[3]!==h){for(l/=2,h=h||c[3],c=+l||1;o--;)A.style(e,t,c+h),(1-s)*(1-(s=a()/l||.5))<=0&&(o=0),c/=s;c*=2,A.style(e,t,c+h),i=i||[]}return i&&(c=+c||+l||0,r=i[1]?c+(i[1]+1)*i[2]:+i[2],n&&(n.unit=h,n.start=c,n.end=r)),r}var xe={};function be(e){var t,i=e.ownerDocument,n=e.nodeName,r=xe[n];return r||(t=i.body.appendChild(i.createElement(n)),r=A.css(t,"display"),t.parentNode.removeChild(t),"none"===r&&(r="block"),xe[n]=r,r)}function we(e,t){for(var i,n,r=[],s=0,o=e.length;s<o;s++)(n=e[s]).style&&(i=n.style.display,t?("none"===i&&(r[s]=ae.get(n,"display")||null,r[s]||(n.style.display="")),""===n.style.display&&_e(n)&&(r[s]=be(n))):"none"!==i&&(r[s]="none",ae.set(n,"display",i)));for(s=0;s<o;s++)null!=r[s]&&(e[s].style.display=r[s]);return e}A.fn.extend({show:function(){return we(this,!0)},hide:function(){return we(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each((function(){_e(this)?A(this).show():A(this).hide()}))}});var Se,ke,Ae=/^(?:checkbox|radio)$/i,Te=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,Ce=/^$|^module$|\/(?:java|ecma)script/i;Se=v.createDocumentFragment().appendChild(v.createElement("div")),(ke=v.createElement("input")).setAttribute("type","radio"),ke.setAttribute("checked","checked"),ke.setAttribute("name","t"),Se.appendChild(ke),m.checkClone=Se.cloneNode(!0).cloneNode(!0).lastChild.checked,Se.innerHTML="<textarea>x</textarea>",m.noCloneChecked=!!Se.cloneNode(!0).lastChild.defaultValue,Se.innerHTML="<option></option>",m.option=!!Se.lastChild;var Re={thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};function Ee(e,t){var i;return i=void 0!==e.getElementsByTagName?e.getElementsByTagName(t||"*"):void 0!==e.querySelectorAll?e.querySelectorAll(t||"*"):[],void 0===t||t&&C(e,t)?A.merge([e],i):i}function Pe(e,t){for(var i=0,n=e.length;i<n;i++)ae.set(e[i],"globalEval",!t||ae.get(t[i],"globalEval"))}Re.tbody=Re.tfoot=Re.colgroup=Re.caption=Re.thead,Re.th=Re.td,m.option||(Re.optgroup=Re.option=[1,"<select multiple='multiple'>","</select>"]);var Me=/<|&#?\w+;/;function je(e,t,i,n,r){for(var s,o,a,l,h,c,u=t.createDocumentFragment(),d=[],f=0,p=e.length;f<p;f++)if((s=e[f])||0===s)if("object"===w(s))A.merge(d,s.nodeType?[s]:s);else if(Me.test(s)){for(o=o||u.appendChild(t.createElement("div")),a=(Te.exec(s)||["",""])[1].toLowerCase(),l=Re[a]||Re._default,o.innerHTML=l[1]+A.htmlPrefilter(s)+l[2],c=l[0];c--;)o=o.lastChild;A.merge(d,o.childNodes),(o=u.firstChild).textContent=""}else d.push(t.createTextNode(s));for(u.textContent="",f=0;s=d[f++];)if(n&&A.inArray(s,n)>-1)r&&r.push(s);else if(h=me(s),o=Ee(u.appendChild(s),"script"),h&&Pe(o),i)for(c=0;s=o[c++];)Ce.test(s.type||"")&&i.push(s);return u}var Fe=/^([^.]*)(?:\.(.+)|)/;function Le(){return!0}function Oe(){return!1}function Ie(e,t,i,n,r,s){var o,a;if("object"==typeof t){for(a in"string"!=typeof i&&(n=n||i,i=void 0),t)Ie(e,a,i,n,t[a],s);return e}if(null==n&&null==r?(r=i,n=i=void 0):null==r&&("string"==typeof i?(r=n,n=void 0):(r=n,n=i,i=void 0)),!1===r)r=Oe;else if(!r)return e;return 1===s&&(o=r,r=function(e){return A().off(e),o.apply(this,arguments)},r.guid=o.guid||(o.guid=A.guid++)),e.each((function(){A.event.add(this,t,r,n,i)}))}function Be(e,t,i){i?(ae.set(e,t,!1),A.event.add(e,t,{namespace:!1,handler:function(e){var i,n=ae.get(this,t);if(1&e.isTrigger&&this[t]){if(n)(A.event.special[t]||{}).delegateType&&e.stopPropagation();else if(n=a.call(arguments),ae.set(this,t,n),this[t](),i=ae.get(this,t),ae.set(this,t,!1),n!==i)return e.stopImmediatePropagation(),e.preventDefault(),i}else n&&(ae.set(this,t,A.event.trigger(n[0],n.slice(1),this)),e.stopPropagation(),e.isImmediatePropagationStopped=Le)}})):void 0===ae.get(e,t)&&A.event.add(e,t,Le)}A.event={global:{},add:function(e,t,i,n,r){var s,o,a,l,h,c,u,d,f,p,g,m=ae.get(e);if(se(e))for(i.handler&&(i=(s=i).handler,r=s.selector),r&&A.find.matchesSelector(ge,r),i.guid||(i.guid=A.guid++),(l=m.events)||(l=m.events=Object.create(null)),(o=m.handle)||(o=m.handle=function(t){return void 0!==A&&A.event.triggered!==t.type?A.event.dispatch.apply(e,arguments):void 0}),h=(t=(t||"").match($)||[""]).length;h--;)f=g=(a=Fe.exec(t[h])||[])[1],p=(a[2]||"").split(".").sort(),f&&(u=A.event.special[f]||{},f=(r?u.delegateType:u.bindType)||f,u=A.event.special[f]||{},c=A.extend({type:f,origType:g,data:n,handler:i,guid:i.guid,selector:r,needsContext:r&&A.expr.match.needsContext.test(r),namespace:p.join(".")},s),(d=l[f])||((d=l[f]=[]).delegateCount=0,u.setup&&!1!==u.setup.call(e,n,p,o)||e.addEventListener&&e.addEventListener(f,o)),u.add&&(u.add.call(e,c),c.handler.guid||(c.handler.guid=i.guid)),r?d.splice(d.delegateCount++,0,c):d.push(c),A.event.global[f]=!0)},remove:function(e,t,i,n,r){var s,o,a,l,h,c,u,d,f,p,g,m=ae.hasData(e)&&ae.get(e);if(m&&(l=m.events)){for(h=(t=(t||"").match($)||[""]).length;h--;)if(f=g=(a=Fe.exec(t[h])||[])[1],p=(a[2]||"").split(".").sort(),f){for(u=A.event.special[f]||{},d=l[f=(n?u.delegateType:u.bindType)||f]||[],a=a[2]&&new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"),o=s=d.length;s--;)c=d[s],!r&&g!==c.origType||i&&i.guid!==c.guid||a&&!a.test(c.namespace)||n&&n!==c.selector&&("**"!==n||!c.selector)||(d.splice(s,1),c.selector&&d.delegateCount--,u.remove&&u.remove.call(e,c));o&&!d.length&&(u.teardown&&!1!==u.teardown.call(e,p,m.handle)||A.removeEvent(e,f,m.handle),delete l[f])}else for(f in l)A.event.remove(e,f+t[h],i,n,!0);A.isEmptyObject(l)&&ae.remove(e,"handle events")}},dispatch:function(e){var t,i,n,r,s,o,a=new Array(arguments.length),l=A.event.fix(e),h=(ae.get(this,"events")||Object.create(null))[l.type]||[],c=A.event.special[l.type]||{};for(a[0]=l,t=1;t<arguments.length;t++)a[t]=arguments[t];if(l.delegateTarget=this,!c.preDispatch||!1!==c.preDispatch.call(this,l)){for(o=A.event.handlers.call(this,l,h),t=0;(r=o[t++])&&!l.isPropagationStopped();)for(l.currentTarget=r.elem,i=0;(s=r.handlers[i++])&&!l.isImmediatePropagationStopped();)l.rnamespace&&!1!==s.namespace&&!l.rnamespace.test(s.namespace)||(l.handleObj=s,l.data=s.data,void 0!==(n=((A.event.special[s.origType]||{}).handle||s.handler).apply(r.elem,a))&&!1===(l.result=n)&&(l.preventDefault(),l.stopPropagation()));return c.postDispatch&&c.postDispatch.call(this,l),l.result}},handlers:function(e,t){var i,n,r,s,o,a=[],l=t.delegateCount,h=e.target;if(l&&h.nodeType&&!("click"===e.type&&e.button>=1))for(;h!==this;h=h.parentNode||this)if(1===h.nodeType&&("click"!==e.type||!0!==h.disabled)){for(s=[],o={},i=0;i<l;i++)void 0===o[r=(n=t[i]).selector+" "]&&(o[r]=n.needsContext?A(r,this).index(h)>-1:A.find(r,this,null,[h]).length),o[r]&&s.push(n);s.length&&a.push({elem:h,handlers:s})}return h=this,l<t.length&&a.push({elem:h,handlers:t.slice(l)}),a},addProp:function(e,t){Object.defineProperty(A.Event.prototype,e,{enumerable:!0,configurable:!0,get:y(t)?function(){if(this.originalEvent)return t(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[e]},set:function(t){Object.defineProperty(this,e,{enumerable:!0,configurable:!0,writable:!0,value:t})}})},fix:function(e){return e[A.expando]?e:new A.Event(e)},special:{load:{noBubble:!0},click:{setup:function(e){var t=this||e;return Ae.test(t.type)&&t.click&&C(t,"input")&&Be(t,"click",!0),!1},trigger:function(e){var t=this||e;return Ae.test(t.type)&&t.click&&C(t,"input")&&Be(t,"click"),!0},_default:function(e){var t=e.target;return Ae.test(t.type)&&t.click&&C(t,"input")&&ae.get(t,"click")||C(t,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}}},A.removeEvent=function(e,t,i){e.removeEventListener&&e.removeEventListener(t,i)},A.Event=function(e,t){if(!(this instanceof A.Event))return new A.Event(e,t);e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&!1===e.returnValue?Le:Oe,this.target=e.target&&3===e.target.nodeType?e.target.parentNode:e.target,this.currentTarget=e.currentTarget,this.relatedTarget=e.relatedTarget):this.type=e,t&&A.extend(this,t),this.timeStamp=e&&e.timeStamp||Date.now(),this[A.expando]=!0},A.Event.prototype={constructor:A.Event,isDefaultPrevented:Oe,isPropagationStopped:Oe,isImmediatePropagationStopped:Oe,isSimulated:!1,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=Le,e&&!this.isSimulated&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=Le,e&&!this.isSimulated&&e.stopPropagation()},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=Le,e&&!this.isSimulated&&e.stopImmediatePropagation(),this.stopPropagation()}},A.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:!0},A.event.addProp),A.each({focus:"focusin",blur:"focusout"},(function(e,t){function i(e){if(v.documentMode){var i=ae.get(this,"handle"),n=A.event.fix(e);n.type="focusin"===e.type?"focus":"blur",n.isSimulated=!0,i(e),n.target===n.currentTarget&&i(n)}else A.event.simulate(t,e.target,A.event.fix(e))}A.event.special[e]={setup:function(){var n;if(Be(this,e,!0),!v.documentMode)return!1;(n=ae.get(this,t))||this.addEventListener(t,i),ae.set(this,t,(n||0)+1)},trigger:function(){return Be(this,e),!0},teardown:function(){var e;if(!v.documentMode)return!1;(e=ae.get(this,t)-1)?ae.set(this,t,e):(this.removeEventListener(t,i),ae.remove(this,t))},_default:function(t){return ae.get(t.target,e)},delegateType:t},A.event.special[t]={setup:function(){var n=this.ownerDocument||this.document||this,r=v.documentMode?this:n,s=ae.get(r,t);s||(v.documentMode?this.addEventListener(t,i):n.addEventListener(e,i,!0)),ae.set(r,t,(s||0)+1)},teardown:function(){var n=this.ownerDocument||this.document||this,r=v.documentMode?this:n,s=ae.get(r,t)-1;s?ae.set(r,t,s):(v.documentMode?this.removeEventListener(t,i):n.removeEventListener(e,i,!0),ae.remove(r,t))}}})),A.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},(function(e,t){A.event.special[e]={delegateType:t,bindType:t,handle:function(e){var i,n=e.relatedTarget,r=e.handleObj;return n&&(n===this||A.contains(this,n))||(e.type=r.origType,i=r.handler.apply(this,arguments),e.type=t),i}}})),A.fn.extend({on:function(e,t,i,n){return Ie(this,e,t,i,n)},one:function(e,t,i,n){return Ie(this,e,t,i,n,1)},off:function(e,t,i){var n,r;if(e&&e.preventDefault&&e.handleObj)return n=e.handleObj,A(e.delegateTarget).off(n.namespace?n.origType+"."+n.namespace:n.origType,n.selector,n.handler),this;if("object"==typeof e){for(r in e)this.off(r,t,e[r]);return this}return!1!==t&&"function"!=typeof t||(i=t,t=void 0),!1===i&&(i=Oe),this.each((function(){A.event.remove(this,e,i,t)}))}});var Ne=/<script|<style|<link/i,De=/checked\s*(?:[^=]|=\s*.checked.)/i,He=/^\s*<!\[CDATA\[|\]\]>\s*$/g;function Ve(e,t){return C(e,"table")&&C(11!==t.nodeType?t:t.firstChild,"tr")&&A(e).children("tbody")[0]||e}function ze(e){return e.type=(null!==e.getAttribute("type"))+"/"+e.type,e}function qe(e){return"true/"===(e.type||"").slice(0,5)?e.type=e.type.slice(5):e.removeAttribute("type"),e}function We(e,t){var i,n,r,s,o,a;if(1===t.nodeType){if(ae.hasData(e)&&(a=ae.get(e).events))for(r in ae.remove(t,"handle events"),a)for(i=0,n=a[r].length;i<n;i++)A.event.add(t,r,a[r][i]);le.hasData(e)&&(s=le.access(e),o=A.extend({},s),le.set(t,o))}}function Ue(e,t){var i=t.nodeName.toLowerCase();"input"===i&&Ae.test(e.type)?t.checked=e.checked:"input"!==i&&"textarea"!==i||(t.defaultValue=e.defaultValue)}function Xe(e,t,i,n){t=l(t);var r,s,o,a,h,c,u=0,d=e.length,f=d-1,p=t[0],g=y(p);if(g||d>1&&"string"==typeof p&&!m.checkClone&&De.test(p))return e.each((function(r){var s=e.eq(r);g&&(t[0]=p.call(this,r,s.html())),Xe(s,t,i,n)}));if(d&&(s=(r=je(t,e[0].ownerDocument,!1,e,n)).firstChild,1===r.childNodes.length&&(r=s),s||n)){for(a=(o=A.map(Ee(r,"script"),ze)).length;u<d;u++)h=r,u!==f&&(h=A.clone(h,!0,!0),a&&A.merge(o,Ee(h,"script"))),i.call(e[u],h,u);if(a)for(c=o[o.length-1].ownerDocument,A.map(o,qe),u=0;u<a;u++)h=o[u],Ce.test(h.type||"")&&!ae.access(h,"globalEval")&&A.contains(c,h)&&(h.src&&"module"!==(h.type||"").toLowerCase()?A._evalUrl&&!h.noModule&&A._evalUrl(h.src,{nonce:h.nonce||h.getAttribute("nonce")},c):b(h.textContent.replace(He,""),h,c))}return e}function $e(e,t,i){for(var n,r=t?A.filter(t,e):e,s=0;null!=(n=r[s]);s++)i||1!==n.nodeType||A.cleanData(Ee(n)),n.parentNode&&(i&&me(n)&&Pe(Ee(n,"script")),n.parentNode.removeChild(n));return e}A.extend({htmlPrefilter:function(e){return e},clone:function(e,t,i){var n,r,s,o,a=e.cloneNode(!0),l=me(e);if(!(m.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||A.isXMLDoc(e)))for(o=Ee(a),n=0,r=(s=Ee(e)).length;n<r;n++)Ue(s[n],o[n]);if(t)if(i)for(s=s||Ee(e),o=o||Ee(a),n=0,r=s.length;n<r;n++)We(s[n],o[n]);else We(e,a);return(o=Ee(a,"script")).length>0&&Pe(o,!l&&Ee(e,"script")),a},cleanData:function(e){for(var t,i,n,r=A.event.special,s=0;void 0!==(i=e[s]);s++)if(se(i)){if(t=i[ae.expando]){if(t.events)for(n in t.events)r[n]?A.event.remove(i,n):A.removeEvent(i,n,t.handle);i[ae.expando]=void 0}i[le.expando]&&(i[le.expando]=void 0)}}}),A.fn.extend({detach:function(e){return $e(this,e,!0)},remove:function(e){return $e(this,e)},text:function(e){return ee(this,(function(e){return void 0===e?A.text(this):this.empty().each((function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=e)}))}),null,e,arguments.length)},append:function(){return Xe(this,arguments,(function(e){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||Ve(this,e).appendChild(e)}))},prepend:function(){return Xe(this,arguments,(function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=Ve(this,e);t.insertBefore(e,t.firstChild)}}))},before:function(){return Xe(this,arguments,(function(e){this.parentNode&&this.parentNode.insertBefore(e,this)}))},after:function(){return Xe(this,arguments,(function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)}))},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)1===e.nodeType&&(A.cleanData(Ee(e,!1)),e.textContent="");return this},clone:function(e,t){return e=null!=e&&e,t=null==t?e:t,this.map((function(){return A.clone(this,e,t)}))},html:function(e){return ee(this,(function(e){var t=this[0]||{},i=0,n=this.length;if(void 0===e&&1===t.nodeType)return t.innerHTML;if("string"==typeof e&&!Ne.test(e)&&!Re[(Te.exec(e)||["",""])[1].toLowerCase()]){e=A.htmlPrefilter(e);try{for(;i<n;i++)1===(t=this[i]||{}).nodeType&&(A.cleanData(Ee(t,!1)),t.innerHTML=e);t=0}catch(e){}}t&&this.empty().append(e)}),null,e,arguments.length)},replaceWith:function(){var e=[];return Xe(this,arguments,(function(t){var i=this.parentNode;A.inArray(this,e)<0&&(A.cleanData(Ee(this)),i&&i.replaceChild(t,this))}),e)}}),A.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},(function(e,t){A.fn[e]=function(e){for(var i,n=[],r=A(e),s=r.length-1,o=0;o<=s;o++)i=o===s?this:this.clone(!0),A(r[o])[t](i),h.apply(n,i.get());return this.pushStack(n)}}));var Ye=new RegExp("^("+de+")(?!px)[a-z%]+$","i"),Ge=/^--/,Ke=function(e){var t=e.ownerDocument.defaultView;return t&&t.opener||(t=n),t.getComputedStyle(e)},Qe=function(e,t,i){var n,r,s={};for(r in t)s[r]=e.style[r],e.style[r]=t[r];for(r in n=i.call(e),t)e.style[r]=s[r];return n},Je=new RegExp(pe.join("|"),"i");function Ze(e,t,i){var n,r,s,o,a=Ge.test(t),l=e.style;return(i=i||Ke(e))&&(o=i.getPropertyValue(t)||i[t],a&&o&&(o=o.replace(j,"$1")||void 0),""!==o||me(e)||(o=A.style(e,t)),!m.pixelBoxStyles()&&Ye.test(o)&&Je.test(t)&&(n=l.width,r=l.minWidth,s=l.maxWidth,l.minWidth=l.maxWidth=l.width=o,o=i.width,l.width=n,l.minWidth=r,l.maxWidth=s)),void 0!==o?o+"":o}function et(e,t){return{get:function(){if(!e())return(this.get=t).apply(this,arguments);delete this.get}}}!function(){function e(){if(c){h.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",c.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",ge.appendChild(h).appendChild(c);var e=n.getComputedStyle(c);i="1%"!==e.top,l=12===t(e.marginLeft),c.style.right="60%",o=36===t(e.right),r=36===t(e.width),c.style.position="absolute",s=12===t(c.offsetWidth/3),ge.removeChild(h),c=null}}function t(e){return Math.round(parseFloat(e))}var i,r,s,o,a,l,h=v.createElement("div"),c=v.createElement("div");c.style&&(c.style.backgroundClip="content-box",c.cloneNode(!0).style.backgroundClip="",m.clearCloneStyle="content-box"===c.style.backgroundClip,A.extend(m,{boxSizingReliable:function(){return e(),r},pixelBoxStyles:function(){return e(),o},pixelPosition:function(){return e(),i},reliableMarginLeft:function(){return e(),l},scrollboxSize:function(){return e(),s},reliableTrDimensions:function(){var e,t,i,r;return null==a&&(e=v.createElement("table"),t=v.createElement("tr"),i=v.createElement("div"),e.style.cssText="position:absolute;left:-11111px;border-collapse:separate",t.style.cssText="border:1px solid",t.style.height="1px",i.style.height="9px",i.style.display="block",ge.appendChild(e).appendChild(t).appendChild(i),r=n.getComputedStyle(t),a=parseInt(r.height,10)+parseInt(r.borderTopWidth,10)+parseInt(r.borderBottomWidth,10)===t.offsetHeight,ge.removeChild(e)),a}}))}();var tt=["Webkit","Moz","ms"],it=v.createElement("div").style,nt={};function rt(e){return A.cssProps[e]||nt[e]||(e in it?e:nt[e]=function(e){for(var t=e[0].toUpperCase()+e.slice(1),i=tt.length;i--;)if((e=tt[i]+t)in it)return e}(e)||e)}var st=/^(none|table(?!-c[ea]).+)/,ot={position:"absolute",visibility:"hidden",display:"block"},at={letterSpacing:"0",fontWeight:"400"};function lt(e,t,i){var n=fe.exec(t);return n?Math.max(0,n[2]-(i||0))+(n[3]||"px"):t}function ht(e,t,i,n,r,s){var o="width"===t?1:0,a=0,l=0,h=0;if(i===(n?"border":"content"))return 0;for(;o<4;o+=2)"margin"===i&&(h+=A.css(e,i+pe[o],!0,r)),n?("content"===i&&(l-=A.css(e,"padding"+pe[o],!0,r)),"margin"!==i&&(l-=A.css(e,"border"+pe[o]+"Width",!0,r))):(l+=A.css(e,"padding"+pe[o],!0,r),"padding"!==i?l+=A.css(e,"border"+pe[o]+"Width",!0,r):a+=A.css(e,"border"+pe[o]+"Width",!0,r));return!n&&s>=0&&(l+=Math.max(0,Math.ceil(e["offset"+t[0].toUpperCase()+t.slice(1)]-s-l-a-.5))||0),l+h}function ct(e,t,i){var n=Ke(e),r=(!m.boxSizingReliable()||i)&&"border-box"===A.css(e,"boxSizing",!1,n),s=r,o=Ze(e,t,n),a="offset"+t[0].toUpperCase()+t.slice(1);if(Ye.test(o)){if(!i)return o;o="auto"}return(!m.boxSizingReliable()&&r||!m.reliableTrDimensions()&&C(e,"tr")||"auto"===o||!parseFloat(o)&&"inline"===A.css(e,"display",!1,n))&&e.getClientRects().length&&(r="border-box"===A.css(e,"boxSizing",!1,n),(s=a in e)&&(o=e[a])),(o=parseFloat(o)||0)+ht(e,t,i||(r?"border":"content"),s,n,o)+"px"}function ut(e,t,i,n,r){return new ut.prototype.init(e,t,i,n,r)}A.extend({cssHooks:{opacity:{get:function(e,t){if(t){var i=Ze(e,"opacity");return""===i?"1":i}}}},cssNumber:{animationIterationCount:!0,aspectRatio:!0,borderImageSlice:!0,columnCount:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,scale:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeMiterlimit:!0,strokeOpacity:!0},cssProps:{},style:function(e,t,i,n){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var r,s,o,a=re(t),l=Ge.test(t),h=e.style;if(l||(t=rt(a)),o=A.cssHooks[t]||A.cssHooks[a],void 0===i)return o&&"get"in o&&void 0!==(r=o.get(e,!1,n))?r:h[t];"string"==(s=typeof i)&&(r=fe.exec(i))&&r[1]&&(i=ve(e,t,r),s="number"),null!=i&&i==i&&("number"!==s||l||(i+=r&&r[3]||(A.cssNumber[a]?"":"px")),m.clearCloneStyle||""!==i||0!==t.indexOf("background")||(h[t]="inherit"),o&&"set"in o&&void 0===(i=o.set(e,i,n))||(l?h.setProperty(t,i):h[t]=i))}},css:function(e,t,i,n){var r,s,o,a=re(t);return Ge.test(t)||(t=rt(a)),(o=A.cssHooks[t]||A.cssHooks[a])&&"get"in o&&(r=o.get(e,!0,i)),void 0===r&&(r=Ze(e,t,n)),"normal"===r&&t in at&&(r=at[t]),""===i||i?(s=parseFloat(r),!0===i||isFinite(s)?s||0:r):r}}),A.each(["height","width"],(function(e,t){A.cssHooks[t]={get:function(e,i,n){if(i)return!st.test(A.css(e,"display"))||e.getClientRects().length&&e.getBoundingClientRect().width?ct(e,t,n):Qe(e,ot,(function(){return ct(e,t,n)}))},set:function(e,i,n){var r,s=Ke(e),o=!m.scrollboxSize()&&"absolute"===s.position,a=(o||n)&&"border-box"===A.css(e,"boxSizing",!1,s),l=n?ht(e,t,n,a,s):0;return a&&o&&(l-=Math.ceil(e["offset"+t[0].toUpperCase()+t.slice(1)]-parseFloat(s[t])-ht(e,t,"border",!1,s)-.5)),l&&(r=fe.exec(i))&&"px"!==(r[3]||"px")&&(e.style[t]=i,i=A.css(e,t)),lt(0,i,l)}}})),A.cssHooks.marginLeft=et(m.reliableMarginLeft,(function(e,t){if(t)return(parseFloat(Ze(e,"marginLeft"))||e.getBoundingClientRect().left-Qe(e,{marginLeft:0},(function(){return e.getBoundingClientRect().left})))+"px"})),A.each({margin:"",padding:"",border:"Width"},(function(e,t){A.cssHooks[e+t]={expand:function(i){for(var n=0,r={},s="string"==typeof i?i.split(" "):[i];n<4;n++)r[e+pe[n]+t]=s[n]||s[n-2]||s[0];return r}},"margin"!==e&&(A.cssHooks[e+t].set=lt)})),A.fn.extend({css:function(e,t){return ee(this,(function(e,t,i){var n,r,s={},o=0;if(Array.isArray(t)){for(n=Ke(e),r=t.length;o<r;o++)s[t[o]]=A.css(e,t[o],!1,n);return s}return void 0!==i?A.style(e,t,i):A.css(e,t)}),e,t,arguments.length>1)}}),A.Tween=ut,ut.prototype={constructor:ut,init:function(e,t,i,n,r,s){this.elem=e,this.prop=i,this.easing=r||A.easing._default,this.options=t,this.start=this.now=this.cur(),this.end=n,this.unit=s||(A.cssNumber[i]?"":"px")},cur:function(){var e=ut.propHooks[this.prop];return e&&e.get?e.get(this):ut.propHooks._default.get(this)},run:function(e){var t,i=ut.propHooks[this.prop];return this.options.duration?this.pos=t=A.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),i&&i.set?i.set(this):ut.propHooks._default.set(this),this}},ut.prototype.init.prototype=ut.prototype,ut.propHooks={_default:{get:function(e){var t;return 1!==e.elem.nodeType||null!=e.elem[e.prop]&&null==e.elem.style[e.prop]?e.elem[e.prop]:(t=A.css(e.elem,e.prop,""))&&"auto"!==t?t:0},set:function(e){A.fx.step[e.prop]?A.fx.step[e.prop](e):1!==e.elem.nodeType||!A.cssHooks[e.prop]&&null==e.elem.style[rt(e.prop)]?e.elem[e.prop]=e.now:A.style(e.elem,e.prop,e.now+e.unit)}}},ut.propHooks.scrollTop=ut.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},A.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2},_default:"swing"},A.fx=ut.prototype.init,A.fx.step={};var dt,ft,pt=/^(?:toggle|show|hide)$/,gt=/queueHooks$/;function mt(){ft&&(!1===v.hidden&&n.requestAnimationFrame?n.requestAnimationFrame(mt):n.setTimeout(mt,A.fx.interval),A.fx.tick())}function yt(){return n.setTimeout((function(){dt=void 0})),dt=Date.now()}function _t(e,t){var i,n=0,r={height:e};for(t=t?1:0;n<4;n+=2-t)r["margin"+(i=pe[n])]=r["padding"+i]=e;return t&&(r.opacity=r.width=e),r}function vt(e,t,i){for(var n,r=(xt.tweeners[t]||[]).concat(xt.tweeners["*"]),s=0,o=r.length;s<o;s++)if(n=r[s].call(i,t,e))return n}function xt(e,t,i){var n,r,s=0,o=xt.prefilters.length,a=A.Deferred().always((function(){delete l.elem})),l=function(){if(r)return!1;for(var t=dt||yt(),i=Math.max(0,h.startTime+h.duration-t),n=1-(i/h.duration||0),s=0,o=h.tweens.length;s<o;s++)h.tweens[s].run(n);return a.notifyWith(e,[h,n,i]),n<1&&o?i:(o||a.notifyWith(e,[h,1,0]),a.resolveWith(e,[h]),!1)},h=a.promise({elem:e,props:A.extend({},t),opts:A.extend(!0,{specialEasing:{},easing:A.easing._default},i),originalProperties:t,originalOptions:i,startTime:dt||yt(),duration:i.duration,tweens:[],createTween:function(t,i){var n=A.Tween(e,h.opts,t,i,h.opts.specialEasing[t]||h.opts.easing);return h.tweens.push(n),n},stop:function(t){var i=0,n=t?h.tweens.length:0;if(r)return this;for(r=!0;i<n;i++)h.tweens[i].run(1);return t?(a.notifyWith(e,[h,1,0]),a.resolveWith(e,[h,t])):a.rejectWith(e,[h,t]),this}}),c=h.props;for(function(e,t){var i,n,r,s,o;for(i in e)if(r=t[n=re(i)],s=e[i],Array.isArray(s)&&(r=s[1],s=e[i]=s[0]),i!==n&&(e[n]=s,delete e[i]),(o=A.cssHooks[n])&&"expand"in o)for(i in s=o.expand(s),delete e[n],s)i in e||(e[i]=s[i],t[i]=r);else t[n]=r}(c,h.opts.specialEasing);s<o;s++)if(n=xt.prefilters[s].call(h,e,c,h.opts))return y(n.stop)&&(A._queueHooks(h.elem,h.opts.queue).stop=n.stop.bind(n)),n;return A.map(c,vt,h),y(h.opts.start)&&h.opts.start.call(e,h),h.progress(h.opts.progress).done(h.opts.done,h.opts.complete).fail(h.opts.fail).always(h.opts.always),A.fx.timer(A.extend(l,{elem:e,anim:h,queue:h.opts.queue})),h}A.Animation=A.extend(xt,{tweeners:{"*":[function(e,t){var i=this.createTween(e,t);return ve(i.elem,e,fe.exec(t),i),i}]},tweener:function(e,t){y(e)?(t=e,e=["*"]):e=e.match($);for(var i,n=0,r=e.length;n<r;n++)i=e[n],xt.tweeners[i]=xt.tweeners[i]||[],xt.tweeners[i].unshift(t)},prefilters:[function(e,t,i){var n,r,s,o,a,l,h,c,u="width"in t||"height"in t,d=this,f={},p=e.style,g=e.nodeType&&_e(e),m=ae.get(e,"fxshow");for(n in i.queue||(null==(o=A._queueHooks(e,"fx")).unqueued&&(o.unqueued=0,a=o.empty.fire,o.empty.fire=function(){o.unqueued||a()}),o.unqueued++,d.always((function(){d.always((function(){o.unqueued--,A.queue(e,"fx").length||o.empty.fire()}))}))),t)if(r=t[n],pt.test(r)){if(delete t[n],s=s||"toggle"===r,r===(g?"hide":"show")){if("show"!==r||!m||void 0===m[n])continue;g=!0}f[n]=m&&m[n]||A.style(e,n)}if((l=!A.isEmptyObject(t))||!A.isEmptyObject(f))for(n in u&&1===e.nodeType&&(i.overflow=[p.overflow,p.overflowX,p.overflowY],null==(h=m&&m.display)&&(h=ae.get(e,"display")),"none"===(c=A.css(e,"display"))&&(h?c=h:(we([e],!0),h=e.style.display||h,c=A.css(e,"display"),we([e]))),("inline"===c||"inline-block"===c&&null!=h)&&"none"===A.css(e,"float")&&(l||(d.done((function(){p.display=h})),null==h&&(c=p.display,h="none"===c?"":c)),p.display="inline-block")),i.overflow&&(p.overflow="hidden",d.always((function(){p.overflow=i.overflow[0],p.overflowX=i.overflow[1],p.overflowY=i.overflow[2]}))),l=!1,f)l||(m?"hidden"in m&&(g=m.hidden):m=ae.access(e,"fxshow",{display:h}),s&&(m.hidden=!g),g&&we([e],!0),d.done((function(){for(n in g||we([e]),ae.remove(e,"fxshow"),f)A.style(e,n,f[n])}))),l=vt(g?m[n]:0,n,d),n in m||(m[n]=l.start,g&&(l.end=l.start,l.start=0))}],prefilter:function(e,t){t?xt.prefilters.unshift(e):xt.prefilters.push(e)}}),A.speed=function(e,t,i){var n=e&&"object"==typeof e?A.extend({},e):{complete:i||!i&&t||y(e)&&e,duration:e,easing:i&&t||t&&!y(t)&&t};return A.fx.off?n.duration=0:"number"!=typeof n.duration&&(n.duration in A.fx.speeds?n.duration=A.fx.speeds[n.duration]:n.duration=A.fx.speeds._default),null!=n.queue&&!0!==n.queue||(n.queue="fx"),n.old=n.complete,n.complete=function(){y(n.old)&&n.old.call(this),n.queue&&A.dequeue(this,n.queue)},n},A.fn.extend({fadeTo:function(e,t,i,n){return this.filter(_e).css("opacity",0).show().end().animate({opacity:t},e,i,n)},animate:function(e,t,i,n){var r=A.isEmptyObject(e),s=A.speed(t,i,n),o=function(){var t=xt(this,A.extend({},e),s);(r||ae.get(this,"finish"))&&t.stop(!0)};return o.finish=o,r||!1===s.queue?this.each(o):this.queue(s.queue,o)},stop:function(e,t,i){var n=function(e){var t=e.stop;delete e.stop,t(i)};return"string"!=typeof e&&(i=t,t=e,e=void 0),t&&this.queue(e||"fx",[]),this.each((function(){var t=!0,r=null!=e&&e+"queueHooks",s=A.timers,o=ae.get(this);if(r)o[r]&&o[r].stop&&n(o[r]);else for(r in o)o[r]&&o[r].stop&&gt.test(r)&&n(o[r]);for(r=s.length;r--;)s[r].elem!==this||null!=e&&s[r].queue!==e||(s[r].anim.stop(i),t=!1,s.splice(r,1));!t&&i||A.dequeue(this,e)}))},finish:function(e){return!1!==e&&(e=e||"fx"),this.each((function(){var t,i=ae.get(this),n=i[e+"queue"],r=i[e+"queueHooks"],s=A.timers,o=n?n.length:0;for(i.finish=!0,A.queue(this,e,[]),r&&r.stop&&r.stop.call(this,!0),t=s.length;t--;)s[t].elem===this&&s[t].queue===e&&(s[t].anim.stop(!0),s.splice(t,1));for(t=0;t<o;t++)n[t]&&n[t].finish&&n[t].finish.call(this);delete i.finish}))}}),A.each(["toggle","show","hide"],(function(e,t){var i=A.fn[t];A.fn[t]=function(e,n,r){return null==e||"boolean"==typeof e?i.apply(this,arguments):this.animate(_t(t,!0),e,n,r)}})),A.each({slideDown:_t("show"),slideUp:_t("hide"),slideToggle:_t("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},(function(e,t){A.fn[e]=function(e,i,n){return this.animate(t,e,i,n)}})),A.timers=[],A.fx.tick=function(){var e,t=0,i=A.timers;for(dt=Date.now();t<i.length;t++)(e=i[t])()||i[t]!==e||i.splice(t--,1);i.length||A.fx.stop(),dt=void 0},A.fx.timer=function(e){A.timers.push(e),A.fx.start()},A.fx.interval=13,A.fx.start=function(){ft||(ft=!0,mt())},A.fx.stop=function(){ft=null},A.fx.speeds={slow:600,fast:200,_default:400},A.fn.delay=function(e,t){return e=A.fx&&A.fx.speeds[e]||e,t=t||"fx",this.queue(t,(function(t,i){var r=n.setTimeout(t,e);i.stop=function(){n.clearTimeout(r)}}))},function(){var e=v.createElement("input"),t=v.createElement("select").appendChild(v.createElement("option"));e.type="checkbox",m.checkOn=""!==e.value,m.optSelected=t.selected,(e=v.createElement("input")).value="t",e.type="radio",m.radioValue="t"===e.value}();var bt,wt=A.expr.attrHandle;A.fn.extend({attr:function(e,t){return ee(this,A.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each((function(){A.removeAttr(this,e)}))}}),A.extend({attr:function(e,t,i){var n,r,s=e.nodeType;if(3!==s&&8!==s&&2!==s)return void 0===e.getAttribute?A.prop(e,t,i):(1===s&&A.isXMLDoc(e)||(r=A.attrHooks[t.toLowerCase()]||(A.expr.match.bool.test(t)?bt:void 0)),void 0!==i?null===i?void A.removeAttr(e,t):r&&"set"in r&&void 0!==(n=r.set(e,i,t))?n:(e.setAttribute(t,i+""),i):r&&"get"in r&&null!==(n=r.get(e,t))?n:null==(n=A.find.attr(e,t))?void 0:n)},attrHooks:{type:{set:function(e,t){if(!m.radioValue&&"radio"===t&&C(e,"input")){var i=e.value;return e.setAttribute("type",t),i&&(e.value=i),t}}}},removeAttr:function(e,t){var i,n=0,r=t&&t.match($);if(r&&1===e.nodeType)for(;i=r[n++];)e.removeAttribute(i)}}),bt={set:function(e,t,i){return!1===t?A.removeAttr(e,i):e.setAttribute(i,i),i}},A.each(A.expr.match.bool.source.match(/\w+/g),(function(e,t){var i=wt[t]||A.find.attr;wt[t]=function(e,t,n){var r,s,o=t.toLowerCase();return n||(s=wt[o],wt[o]=r,r=null!=i(e,t,n)?o:null,wt[o]=s),r}}));var St=/^(?:input|select|textarea|button)$/i,kt=/^(?:a|area)$/i;function At(e){return(e.match($)||[]).join(" ")}function Tt(e){return e.getAttribute&&e.getAttribute("class")||""}function Ct(e){return Array.isArray(e)?e:"string"==typeof e&&e.match($)||[]}A.fn.extend({prop:function(e,t){return ee(this,A.prop,e,t,arguments.length>1)},removeProp:function(e){return this.each((function(){delete this[A.propFix[e]||e]}))}}),A.extend({prop:function(e,t,i){var n,r,s=e.nodeType;if(3!==s&&8!==s&&2!==s)return 1===s&&A.isXMLDoc(e)||(t=A.propFix[t]||t,r=A.propHooks[t]),void 0!==i?r&&"set"in r&&void 0!==(n=r.set(e,i,t))?n:e[t]=i:r&&"get"in r&&null!==(n=r.get(e,t))?n:e[t]},propHooks:{tabIndex:{get:function(e){var t=A.find.attr(e,"tabindex");return t?parseInt(t,10):St.test(e.nodeName)||kt.test(e.nodeName)&&e.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),m.optSelected||(A.propHooks.selected={get:function(e){var t=e.parentNode;return t&&t.parentNode&&t.parentNode.selectedIndex,null},set:function(e){var t=e.parentNode;t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex)}}),A.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],(function(){A.propFix[this.toLowerCase()]=this})),A.fn.extend({addClass:function(e){var t,i,n,r,s,o;return y(e)?this.each((function(t){A(this).addClass(e.call(this,t,Tt(this)))})):(t=Ct(e)).length?this.each((function(){if(n=Tt(this),i=1===this.nodeType&&" "+At(n)+" "){for(s=0;s<t.length;s++)r=t[s],i.indexOf(" "+r+" ")<0&&(i+=r+" ");o=At(i),n!==o&&this.setAttribute("class",o)}})):this},removeClass:function(e){var t,i,n,r,s,o;return y(e)?this.each((function(t){A(this).removeClass(e.call(this,t,Tt(this)))})):arguments.length?(t=Ct(e)).length?this.each((function(){if(n=Tt(this),i=1===this.nodeType&&" "+At(n)+" "){for(s=0;s<t.length;s++)for(r=t[s];i.indexOf(" "+r+" ")>-1;)i=i.replace(" "+r+" "," ");o=At(i),n!==o&&this.setAttribute("class",o)}})):this:this.attr("class","")},toggleClass:function(e,t){var i,n,r,s,o=typeof e,a="string"===o||Array.isArray(e);return y(e)?this.each((function(i){A(this).toggleClass(e.call(this,i,Tt(this),t),t)})):"boolean"==typeof t&&a?t?this.addClass(e):this.removeClass(e):(i=Ct(e),this.each((function(){if(a)for(s=A(this),r=0;r<i.length;r++)n=i[r],s.hasClass(n)?s.removeClass(n):s.addClass(n);else void 0!==e&&"boolean"!==o||((n=Tt(this))&&ae.set(this,"__className__",n),this.setAttribute&&this.setAttribute("class",n||!1===e?"":ae.get(this,"__className__")||""))})))},hasClass:function(e){var t,i,n=0;for(t=" "+e+" ";i=this[n++];)if(1===i.nodeType&&(" "+At(Tt(i))+" ").indexOf(t)>-1)return!0;return!1}});var Rt=/\r/g;A.fn.extend({val:function(e){var t,i,n,r=this[0];return arguments.length?(n=y(e),this.each((function(i){var r;1===this.nodeType&&(null==(r=n?e.call(this,i,A(this).val()):e)?r="":"number"==typeof r?r+="":Array.isArray(r)&&(r=A.map(r,(function(e){return null==e?"":e+""}))),(t=A.valHooks[this.type]||A.valHooks[this.nodeName.toLowerCase()])&&"set"in t&&void 0!==t.set(this,r,"value")||(this.value=r))}))):r?(t=A.valHooks[r.type]||A.valHooks[r.nodeName.toLowerCase()])&&"get"in t&&void 0!==(i=t.get(r,"value"))?i:"string"==typeof(i=r.value)?i.replace(Rt,""):null==i?"":i:void 0}}),A.extend({valHooks:{option:{get:function(e){var t=A.find.attr(e,"value");return null!=t?t:At(A.text(e))}},select:{get:function(e){var t,i,n,r=e.options,s=e.selectedIndex,o="select-one"===e.type,a=o?null:[],l=o?s+1:r.length;for(n=s<0?l:o?s:0;n<l;n++)if(((i=r[n]).selected||n===s)&&!i.disabled&&(!i.parentNode.disabled||!C(i.parentNode,"optgroup"))){if(t=A(i).val(),o)return t;a.push(t)}return a},set:function(e,t){for(var i,n,r=e.options,s=A.makeArray(t),o=r.length;o--;)((n=r[o]).selected=A.inArray(A.valHooks.option.get(n),s)>-1)&&(i=!0);return i||(e.selectedIndex=-1),s}}}}),A.each(["radio","checkbox"],(function(){A.valHooks[this]={set:function(e,t){if(Array.isArray(t))return e.checked=A.inArray(A(e).val(),t)>-1}},m.checkOn||(A.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})}));var Et=n.location,Pt={guid:Date.now()},Mt=/\?/;A.parseXML=function(e){var t,i;if(!e||"string"!=typeof e)return null;try{t=(new n.DOMParser).parseFromString(e,"text/xml")}catch(e){}return i=t&&t.getElementsByTagName("parsererror")[0],t&&!i||A.error("Invalid XML: "+(i?A.map(i.childNodes,(function(e){return e.textContent})).join("\n"):e)),t};var jt=/^(?:focusinfocus|focusoutblur)$/,Ft=function(e){e.stopPropagation()};A.extend(A.event,{trigger:function(e,t,i,r){var s,o,a,l,h,c,u,d,p=[i||v],g=f.call(e,"type")?e.type:e,m=f.call(e,"namespace")?e.namespace.split("."):[];if(o=d=a=i=i||v,3!==i.nodeType&&8!==i.nodeType&&!jt.test(g+A.event.triggered)&&(g.indexOf(".")>-1&&(m=g.split("."),g=m.shift(),m.sort()),h=g.indexOf(":")<0&&"on"+g,(e=e[A.expando]?e:new A.Event(g,"object"==typeof e&&e)).isTrigger=r?2:3,e.namespace=m.join("."),e.rnamespace=e.namespace?new RegExp("(^|\\.)"+m.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,e.result=void 0,e.target||(e.target=i),t=null==t?[e]:A.makeArray(t,[e]),u=A.event.special[g]||{},r||!u.trigger||!1!==u.trigger.apply(i,t))){if(!r&&!u.noBubble&&!_(i)){for(l=u.delegateType||g,jt.test(l+g)||(o=o.parentNode);o;o=o.parentNode)p.push(o),a=o;a===(i.ownerDocument||v)&&p.push(a.defaultView||a.parentWindow||n)}for(s=0;(o=p[s++])&&!e.isPropagationStopped();)d=o,e.type=s>1?l:u.bindType||g,(c=(ae.get(o,"events")||Object.create(null))[e.type]&&ae.get(o,"handle"))&&c.apply(o,t),(c=h&&o[h])&&c.apply&&se(o)&&(e.result=c.apply(o,t),!1===e.result&&e.preventDefault());return e.type=g,r||e.isDefaultPrevented()||u._default&&!1!==u._default.apply(p.pop(),t)||!se(i)||h&&y(i[g])&&!_(i)&&((a=i[h])&&(i[h]=null),A.event.triggered=g,e.isPropagationStopped()&&d.addEventListener(g,Ft),i[g](),e.isPropagationStopped()&&d.removeEventListener(g,Ft),A.event.triggered=void 0,a&&(i[h]=a)),e.result}},simulate:function(e,t,i){var n=A.extend(new A.Event,i,{type:e,isSimulated:!0});A.event.trigger(n,null,t)}}),A.fn.extend({trigger:function(e,t){return this.each((function(){A.event.trigger(e,t,this)}))},triggerHandler:function(e,t){var i=this[0];if(i)return A.event.trigger(e,t,i,!0)}});var Lt=/\[\]$/,Ot=/\r?\n/g,It=/^(?:submit|button|image|reset|file)$/i,Bt=/^(?:input|select|textarea|keygen)/i;function Nt(e,t,i,n){var r;if(Array.isArray(t))A.each(t,(function(t,r){i||Lt.test(e)?n(e,r):Nt(e+"["+("object"==typeof r&&null!=r?t:"")+"]",r,i,n)}));else if(i||"object"!==w(t))n(e,t);else for(r in t)Nt(e+"["+r+"]",t[r],i,n)}A.param=function(e,t){var i,n=[],r=function(e,t){var i=y(t)?t():t;n[n.length]=encodeURIComponent(e)+"="+encodeURIComponent(null==i?"":i)};if(null==e)return"";if(Array.isArray(e)||e.jquery&&!A.isPlainObject(e))A.each(e,(function(){r(this.name,this.value)}));else for(i in e)Nt(i,e[i],t,r);return n.join("&")},A.fn.extend({serialize:function(){return A.param(this.serializeArray())},serializeArray:function(){return this.map((function(){var e=A.prop(this,"elements");return e?A.makeArray(e):this})).filter((function(){var e=this.type;return this.name&&!A(this).is(":disabled")&&Bt.test(this.nodeName)&&!It.test(e)&&(this.checked||!Ae.test(e))})).map((function(e,t){var i=A(this).val();return null==i?null:Array.isArray(i)?A.map(i,(function(e){return{name:t.name,value:e.replace(Ot,"\r\n")}})):{name:t.name,value:i.replace(Ot,"\r\n")}})).get()}});var Dt=/%20/g,Ht=/#.*$/,Vt=/([?&])_=[^&]*/,zt=/^(.*?):[ \t]*([^\r\n]*)$/gm,qt=/^(?:GET|HEAD)$/,Wt=/^\/\//,Ut={},Xt={},$t="*/".concat("*"),Yt=v.createElement("a");function Gt(e){return function(t,i){"string"!=typeof t&&(i=t,t="*");var n,r=0,s=t.toLowerCase().match($)||[];if(y(i))for(;n=s[r++];)"+"===n[0]?(n=n.slice(1)||"*",(e[n]=e[n]||[]).unshift(i)):(e[n]=e[n]||[]).push(i)}}function Kt(e,t,i,n){var r={},s=e===Xt;function o(a){var l;return r[a]=!0,A.each(e[a]||[],(function(e,a){var h=a(t,i,n);return"string"!=typeof h||s||r[h]?s?!(l=h):void 0:(t.dataTypes.unshift(h),o(h),!1)})),l}return o(t.dataTypes[0])||!r["*"]&&o("*")}function Qt(e,t){var i,n,r=A.ajaxSettings.flatOptions||{};for(i in t)void 0!==t[i]&&((r[i]?e:n||(n={}))[i]=t[i]);return n&&A.extend(!0,e,n),e}Yt.href=Et.href,A.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Et.href,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(Et.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":$t,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":A.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?Qt(Qt(e,A.ajaxSettings),t):Qt(A.ajaxSettings,e)},ajaxPrefilter:Gt(Ut),ajaxTransport:Gt(Xt),ajax:function(e,t){"object"==typeof e&&(t=e,e=void 0),t=t||{};var i,r,s,o,a,l,h,c,u,d,f=A.ajaxSetup({},t),p=f.context||f,g=f.context&&(p.nodeType||p.jquery)?A(p):A.event,m=A.Deferred(),y=A.Callbacks("once memory"),_=f.statusCode||{},x={},b={},w="canceled",S={readyState:0,getResponseHeader:function(e){var t;if(h){if(!o)for(o={};t=zt.exec(s);)o[t[1].toLowerCase()+" "]=(o[t[1].toLowerCase()+" "]||[]).concat(t[2]);t=o[e.toLowerCase()+" "]}return null==t?null:t.join(", ")},getAllResponseHeaders:function(){return h?s:null},setRequestHeader:function(e,t){return null==h&&(e=b[e.toLowerCase()]=b[e.toLowerCase()]||e,x[e]=t),this},overrideMimeType:function(e){return null==h&&(f.mimeType=e),this},statusCode:function(e){var t;if(e)if(h)S.always(e[S.status]);else for(t in e)_[t]=[_[t],e[t]];return this},abort:function(e){var t=e||w;return i&&i.abort(t),k(0,t),this}};if(m.promise(S),f.url=((e||f.url||Et.href)+"").replace(Wt,Et.protocol+"//"),f.type=t.method||t.type||f.method||f.type,f.dataTypes=(f.dataType||"*").toLowerCase().match($)||[""],null==f.crossDomain){l=v.createElement("a");try{l.href=f.url,l.href=l.href,f.crossDomain=Yt.protocol+"//"+Yt.host!=l.protocol+"//"+l.host}catch(e){f.crossDomain=!0}}if(f.data&&f.processData&&"string"!=typeof f.data&&(f.data=A.param(f.data,f.traditional)),Kt(Ut,f,t,S),h)return S;for(u in(c=A.event&&f.global)&&0==A.active++&&A.event.trigger("ajaxStart"),f.type=f.type.toUpperCase(),f.hasContent=!qt.test(f.type),r=f.url.replace(Ht,""),f.hasContent?f.data&&f.processData&&0===(f.contentType||"").indexOf("application/x-www-form-urlencoded")&&(f.data=f.data.replace(Dt,"+")):(d=f.url.slice(r.length),f.data&&(f.processData||"string"==typeof f.data)&&(r+=(Mt.test(r)?"&":"?")+f.data,delete f.data),!1===f.cache&&(r=r.replace(Vt,"$1"),d=(Mt.test(r)?"&":"?")+"_="+Pt.guid+++d),f.url=r+d),f.ifModified&&(A.lastModified[r]&&S.setRequestHeader("If-Modified-Since",A.lastModified[r]),A.etag[r]&&S.setRequestHeader("If-None-Match",A.etag[r])),(f.data&&f.hasContent&&!1!==f.contentType||t.contentType)&&S.setRequestHeader("Content-Type",f.contentType),S.setRequestHeader("Accept",f.dataTypes[0]&&f.accepts[f.dataTypes[0]]?f.accepts[f.dataTypes[0]]+("*"!==f.dataTypes[0]?", "+$t+"; q=0.01":""):f.accepts["*"]),f.headers)S.setRequestHeader(u,f.headers[u]);if(f.beforeSend&&(!1===f.beforeSend.call(p,S,f)||h))return S.abort();if(w="abort",y.add(f.complete),S.done(f.success),S.fail(f.error),i=Kt(Xt,f,t,S)){if(S.readyState=1,c&&g.trigger("ajaxSend",[S,f]),h)return S;f.async&&f.timeout>0&&(a=n.setTimeout((function(){S.abort("timeout")}),f.timeout));try{h=!1,i.send(x,k)}catch(e){if(h)throw e;k(-1,e)}}else k(-1,"No Transport");function k(e,t,o,l){var u,d,v,x,b,w=t;h||(h=!0,a&&n.clearTimeout(a),i=void 0,s=l||"",S.readyState=e>0?4:0,u=e>=200&&e<300||304===e,o&&(x=function(e,t,i){for(var n,r,s,o,a=e.contents,l=e.dataTypes;"*"===l[0];)l.shift(),void 0===n&&(n=e.mimeType||t.getResponseHeader("Content-Type"));if(n)for(r in a)if(a[r]&&a[r].test(n)){l.unshift(r);break}if(l[0]in i)s=l[0];else{for(r in i){if(!l[0]||e.converters[r+" "+l[0]]){s=r;break}o||(o=r)}s=s||o}if(s)return s!==l[0]&&l.unshift(s),i[s]}(f,S,o)),!u&&A.inArray("script",f.dataTypes)>-1&&A.inArray("json",f.dataTypes)<0&&(f.converters["text script"]=function(){}),x=function(e,t,i,n){var r,s,o,a,l,h={},c=e.dataTypes.slice();if(c[1])for(o in e.converters)h[o.toLowerCase()]=e.converters[o];for(s=c.shift();s;)if(e.responseFields[s]&&(i[e.responseFields[s]]=t),!l&&n&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),l=s,s=c.shift())if("*"===s)s=l;else if("*"!==l&&l!==s){if(!(o=h[l+" "+s]||h["* "+s]))for(r in h)if((a=r.split(" "))[1]===s&&(o=h[l+" "+a[0]]||h["* "+a[0]])){!0===o?o=h[r]:!0!==h[r]&&(s=a[0],c.unshift(a[1]));break}if(!0!==o)if(o&&e.throws)t=o(t);else try{t=o(t)}catch(e){return{state:"parsererror",error:o?e:"No conversion from "+l+" to "+s}}}return{state:"success",data:t}}(f,x,S,u),u?(f.ifModified&&((b=S.getResponseHeader("Last-Modified"))&&(A.lastModified[r]=b),(b=S.getResponseHeader("etag"))&&(A.etag[r]=b)),204===e||"HEAD"===f.type?w="nocontent":304===e?w="notmodified":(w=x.state,d=x.data,u=!(v=x.error))):(v=w,!e&&w||(w="error",e<0&&(e=0))),S.status=e,S.statusText=(t||w)+"",u?m.resolveWith(p,[d,w,S]):m.rejectWith(p,[S,w,v]),S.statusCode(_),_=void 0,c&&g.trigger(u?"ajaxSuccess":"ajaxError",[S,f,u?d:v]),y.fireWith(p,[S,w]),c&&(g.trigger("ajaxComplete",[S,f]),--A.active||A.event.trigger("ajaxStop")))}return S},getJSON:function(e,t,i){return A.get(e,t,i,"json")},getScript:function(e,t){return A.get(e,void 0,t,"script")}}),A.each(["get","post"],(function(e,t){A[t]=function(e,i,n,r){return y(i)&&(r=r||n,n=i,i=void 0),A.ajax(A.extend({url:e,type:t,dataType:r,data:i,success:n},A.isPlainObject(e)&&e))}})),A.ajaxPrefilter((function(e){var t;for(t in e.headers)"content-type"===t.toLowerCase()&&(e.contentType=e.headers[t]||"")})),A._evalUrl=function(e,t,i){return A.ajax({url:e,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(e){A.globalEval(e,t,i)}})},A.fn.extend({wrapAll:function(e){var t;return this[0]&&(y(e)&&(e=e.call(this[0])),t=A(e,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&t.insertBefore(this[0]),t.map((function(){for(var e=this;e.firstElementChild;)e=e.firstElementChild;return e})).append(this)),this},wrapInner:function(e){return y(e)?this.each((function(t){A(this).wrapInner(e.call(this,t))})):this.each((function(){var t=A(this),i=t.contents();i.length?i.wrapAll(e):t.append(e)}))},wrap:function(e){var t=y(e);return this.each((function(i){A(this).wrapAll(t?e.call(this,i):e)}))},unwrap:function(e){return this.parent(e).not("body").each((function(){A(this).replaceWith(this.childNodes)})),this}}),A.expr.pseudos.hidden=function(e){return!A.expr.pseudos.visible(e)},A.expr.pseudos.visible=function(e){return!!(e.offsetWidth||e.offsetHeight||e.getClientRects().length)},A.ajaxSettings.xhr=function(){try{return new n.XMLHttpRequest}catch(e){}};var Jt={0:200,1223:204},Zt=A.ajaxSettings.xhr();m.cors=!!Zt&&"withCredentials"in Zt,m.ajax=Zt=!!Zt,A.ajaxTransport((function(e){var t,i;if(m.cors||Zt&&!e.crossDomain)return{send:function(r,s){var o,a=e.xhr();if(a.open(e.type,e.url,e.async,e.username,e.password),e.xhrFields)for(o in e.xhrFields)a[o]=e.xhrFields[o];for(o in e.mimeType&&a.overrideMimeType&&a.overrideMimeType(e.mimeType),e.crossDomain||r["X-Requested-With"]||(r["X-Requested-With"]="XMLHttpRequest"),r)a.setRequestHeader(o,r[o]);t=function(e){return function(){t&&(t=i=a.onload=a.onerror=a.onabort=a.ontimeout=a.onreadystatechange=null,"abort"===e?a.abort():"error"===e?"number"!=typeof a.status?s(0,"error"):s(a.status,a.statusText):s(Jt[a.status]||a.status,a.statusText,"text"!==(a.responseType||"text")||"string"!=typeof a.responseText?{binary:a.response}:{text:a.responseText},a.getAllResponseHeaders()))}},a.onload=t(),i=a.onerror=a.ontimeout=t("error"),void 0!==a.onabort?a.onabort=i:a.onreadystatechange=function(){4===a.readyState&&n.setTimeout((function(){t&&i()}))},t=t("abort");try{a.send(e.hasContent&&e.data||null)}catch(e){if(t)throw e}},abort:function(){t&&t()}}})),A.ajaxPrefilter((function(e){e.crossDomain&&(e.contents.script=!1)})),A.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(e){return A.globalEval(e),e}}}),A.ajaxPrefilter("script",(function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET")})),A.ajaxTransport("script",(function(e){var t,i;if(e.crossDomain||e.scriptAttrs)return{send:function(n,r){t=A("<script>").attr(e.scriptAttrs||{}).prop({charset:e.scriptCharset,src:e.url}).on("load error",i=function(e){t.remove(),i=null,e&&r("error"===e.type?404:200,e.type)}),v.head.appendChild(t[0])},abort:function(){i&&i()}}}));var ei,ti=[],ii=/(=)\?(?=&|$)|\?\?/;A.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=ti.pop()||A.expando+"_"+Pt.guid++;return this[e]=!0,e}}),A.ajaxPrefilter("json jsonp",(function(e,t,i){var r,s,o,a=!1!==e.jsonp&&(ii.test(e.url)?"url":"string"==typeof e.data&&0===(e.contentType||"").indexOf("application/x-www-form-urlencoded")&&ii.test(e.data)&&"data");if(a||"jsonp"===e.dataTypes[0])return r=e.jsonpCallback=y(e.jsonpCallback)?e.jsonpCallback():e.jsonpCallback,a?e[a]=e[a].replace(ii,"$1"+r):!1!==e.jsonp&&(e.url+=(Mt.test(e.url)?"&":"?")+e.jsonp+"="+r),e.converters["script json"]=function(){return o||A.error(r+" was not called"),o[0]},e.dataTypes[0]="json",s=n[r],n[r]=function(){o=arguments},i.always((function(){void 0===s?A(n).removeProp(r):n[r]=s,e[r]&&(e.jsonpCallback=t.jsonpCallback,ti.push(r)),o&&y(s)&&s(o[0]),o=s=void 0})),"script"})),m.createHTMLDocument=((ei=v.implementation.createHTMLDocument("").body).innerHTML="<form></form><form></form>",2===ei.childNodes.length),A.parseHTML=function(e,t,i){return"string"!=typeof e?[]:("boolean"==typeof t&&(i=t,t=!1),t||(m.createHTMLDocument?((n=(t=v.implementation.createHTMLDocument("")).createElement("base")).href=v.location.href,t.head.appendChild(n)):t=v),s=!i&&[],(r=H.exec(e))?[t.createElement(r[1])]:(r=je([e],t,s),s&&s.length&&A(s).remove(),A.merge([],r.childNodes)));var n,r,s},A.fn.load=function(e,t,i){var n,r,s,o=this,a=e.indexOf(" ");return a>-1&&(n=At(e.slice(a)),e=e.slice(0,a)),y(t)?(i=t,t=void 0):t&&"object"==typeof t&&(r="POST"),o.length>0&&A.ajax({url:e,type:r||"GET",dataType:"html",data:t}).done((function(e){s=arguments,o.html(n?A("<div>").append(A.parseHTML(e)).find(n):e)})).always(i&&function(e,t){o.each((function(){i.apply(this,s||[e.responseText,t,e])}))}),this},A.expr.pseudos.animated=function(e){return A.grep(A.timers,(function(t){return e===t.elem})).length},A.offset={setOffset:function(e,t,i){var n,r,s,o,a,l,h=A.css(e,"position"),c=A(e),u={};"static"===h&&(e.style.position="relative"),a=c.offset(),s=A.css(e,"top"),l=A.css(e,"left"),("absolute"===h||"fixed"===h)&&(s+l).indexOf("auto")>-1?(o=(n=c.position()).top,r=n.left):(o=parseFloat(s)||0,r=parseFloat(l)||0),y(t)&&(t=t.call(e,i,A.extend({},a))),null!=t.top&&(u.top=t.top-a.top+o),null!=t.left&&(u.left=t.left-a.left+r),"using"in t?t.using.call(e,u):c.css(u)}},A.fn.extend({offset:function(e){if(arguments.length)return void 0===e?this:this.each((function(t){A.offset.setOffset(this,e,t)}));var t,i,n=this[0];return n?n.getClientRects().length?(t=n.getBoundingClientRect(),i=n.ownerDocument.defaultView,{top:t.top+i.pageYOffset,left:t.left+i.pageXOffset}):{top:0,left:0}:void 0},position:function(){if(this[0]){var e,t,i,n=this[0],r={top:0,left:0};if("fixed"===A.css(n,"position"))t=n.getBoundingClientRect();else{for(t=this.offset(),i=n.ownerDocument,e=n.offsetParent||i.documentElement;e&&(e===i.body||e===i.documentElement)&&"static"===A.css(e,"position");)e=e.parentNode;e&&e!==n&&1===e.nodeType&&((r=A(e).offset()).top+=A.css(e,"borderTopWidth",!0),r.left+=A.css(e,"borderLeftWidth",!0))}return{top:t.top-r.top-A.css(n,"marginTop",!0),left:t.left-r.left-A.css(n,"marginLeft",!0)}}},offsetParent:function(){return this.map((function(){for(var e=this.offsetParent;e&&"static"===A.css(e,"position");)e=e.offsetParent;return e||ge}))}}),A.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},(function(e,t){var i="pageYOffset"===t;A.fn[e]=function(n){return ee(this,(function(e,n,r){var s;if(_(e)?s=e:9===e.nodeType&&(s=e.defaultView),void 0===r)return s?s[t]:e[n];s?s.scrollTo(i?s.pageXOffset:r,i?r:s.pageYOffset):e[n]=r}),e,n,arguments.length)}})),A.each(["top","left"],(function(e,t){A.cssHooks[t]=et(m.pixelPosition,(function(e,i){if(i)return i=Ze(e,t),Ye.test(i)?A(e).position()[t]+"px":i}))})),A.each({Height:"height",Width:"width"},(function(e,t){A.each({padding:"inner"+e,content:t,"":"outer"+e},(function(i,n){A.fn[n]=function(r,s){var o=arguments.length&&(i||"boolean"!=typeof r),a=i||(!0===r||!0===s?"margin":"border");return ee(this,(function(t,i,r){var s;return _(t)?0===n.indexOf("outer")?t["inner"+e]:t.document.documentElement["client"+e]:9===t.nodeType?(s=t.documentElement,Math.max(t.body["scroll"+e],s["scroll"+e],t.body["offset"+e],s["offset"+e],s["client"+e])):void 0===r?A.css(t,i,a):A.style(t,i,r,a)}),t,o?r:void 0,o)}}))})),A.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],(function(e,t){A.fn[t]=function(e){return this.on(t,e)}})),A.fn.extend({bind:function(e,t,i){return this.on(e,null,t,i)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,i,n){return this.on(t,e,i,n)},undelegate:function(e,t,i){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",i)},hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)}}),A.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),(function(e,t){A.fn[t]=function(e,i){return arguments.length>0?this.on(t,null,e,i):this.trigger(t)}}));var ni=/^[\s\uFEFF\xA0]+|([^\s\uFEFF\xA0])[\s\uFEFF\xA0]+$/g;A.proxy=function(e,t){var i,n,r;if("string"==typeof t&&(i=e[t],t=e,e=i),y(e))return n=a.call(arguments,2),r=function(){return e.apply(t||this,n.concat(a.call(arguments)))},r.guid=e.guid=e.guid||A.guid++,r},A.holdReady=function(e){e?A.readyWait++:A.ready(!0)},A.isArray=Array.isArray,A.parseJSON=JSON.parse,A.nodeName=C,A.isFunction=y,A.isWindow=_,A.camelCase=re,A.type=w,A.now=Date.now,A.isNumeric=function(e){var t=A.type(e);return("number"===t||"string"===t)&&!isNaN(e-parseFloat(e))},A.trim=function(e){return null==e?"":(e+"").replace(ni,"$1")},void 0===(i=function(){return A}.apply(t,[]))||(e.exports=i);var ri=n.jQuery,si=n.$;return A.noConflict=function(e){return n.$===A&&(n.$=si),e&&n.jQuery===A&&(n.jQuery=ri),A},void 0===r&&(n.jQuery=n.$=A),A}))},502:function(e,t,i){var n;n=function(e){return function(e){var t={};function i(n){if(t[n])return t[n].exports;var r=t[n]={i:n,l:!1,exports:{}};return e[n].call(r.exports,r,r.exports,i),r.l=!0,r.exports}return i.m=e,i.c=t,i.i=function(e){return e},i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:n})},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/libs",i(i.s=1)}([function(t,i){t.exports=e},function(e,t,i){"use strict";var n=i(0),r={name:"matter-attractors",version:"0.1.4",for:"matter-js@^0.12.0",install:function(e){e.after("Body.create",(function(){r.Body.init(this)})),e.before("Engine.update",(function(e){r.Engine.update(e)}))},Body:{init:function(e){e.plugin.attractors=e.plugin.attractors||[]}},Engine:{update:function(e){for(var t=e.world,i=n.Composite.allBodies(t),r=0;r<i.length;r+=1){var s=i[r],o=s.plugin.attractors;if(o&&o.length>0)for(var a=r+1;a<i.length;a+=1)for(var l=i[a],h=0;h<o.length;h+=1){var c=o[h],u=c;n.Common.isFunction(c)&&(u=c(s,l)),u&&n.Body.applyForce(l,l.position,u)}}}},Attractors:{gravityConstant:.001,gravity:function(e,t){var i=n.Vector.sub(t.position,e.position),s=n.Vector.magnitudeSquared(i)||1e-4,o=n.Vector.normalise(i),a=-r.Attractors.gravityConstant*(e.mass*t.mass/s),l=n.Vector.mult(o,a);n.Body.applyForce(e,e.position,n.Vector.neg(l)),n.Body.applyForce(t,t.position,l)}}};n.Plugin.register(r),e.exports=r}])},e.exports=n(i(842))},842:function(e,t,i){var n;n=function(){return function(e){var t={};function i(n){if(t[n])return t[n].exports;var r=t[n]={i:n,l:!1,exports:{}};return e[n].call(r.exports,r,r.exports,i),r.l=!0,r.exports}return i.m=e,i.c=t,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)i.d(n,r,function(t){return e[t]}.bind(null,r));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="",i(i.s=20)}([function(e,t){var n={};e.exports=n,function(){n._baseDelta=1e3/60,n._nextId=0,n._seed=0,n._nowStartTime=+new Date,n._warnedOnce={},n._decomp=null,n.extend=function(e,t){var i,r;"boolean"==typeof t?(i=2,r=t):(i=1,r=!0);for(var s=i;s<arguments.length;s++){var o=arguments[s];if(o)for(var a in o)r&&o[a]&&o[a].constructor===Object?e[a]&&e[a].constructor!==Object?e[a]=o[a]:(e[a]=e[a]||{},n.extend(e[a],r,o[a])):e[a]=o[a]}return e},n.clone=function(e,t){return n.extend({},t,e)},n.keys=function(e){if(Object.keys)return Object.keys(e);var t=[];for(var i in e)t.push(i);return t},n.values=function(e){var t=[];if(Object.keys){for(var i=Object.keys(e),n=0;n<i.length;n++)t.push(e[i[n]]);return t}for(var r in e)t.push(e[r]);return t},n.get=function(e,t,i,n){t=t.split(".").slice(i,n);for(var r=0;r<t.length;r+=1)e=e[t[r]];return e},n.set=function(e,t,i,r,s){var o=t.split(".").slice(r,s);return n.get(e,t,0,-1)[o[o.length-1]]=i,i},n.shuffle=function(e){for(var t=e.length-1;t>0;t--){var i=Math.floor(n.random()*(t+1)),r=e[t];e[t]=e[i],e[i]=r}return e},n.choose=function(e){return e[Math.floor(n.random()*e.length)]},n.isElement=function(e){return"undefined"!=typeof HTMLElement?e instanceof HTMLElement:!!(e&&e.nodeType&&e.nodeName)},n.isArray=function(e){return"[object Array]"===Object.prototype.toString.call(e)},n.isFunction=function(e){return"function"==typeof e},n.isPlainObject=function(e){return"object"==typeof e&&e.constructor===Object},n.isString=function(e){return"[object String]"===toString.call(e)},n.clamp=function(e,t,i){return e<t?t:e>i?i:e},n.sign=function(e){return e<0?-1:1},n.now=function(){if("undefined"!=typeof window&&window.performance){if(window.performance.now)return window.performance.now();if(window.performance.webkitNow)return window.performance.webkitNow()}return Date.now?Date.now():new Date-n._nowStartTime},n.random=function(t,i){return i=void 0!==i?i:1,(t=void 0!==t?t:0)+e()*(i-t)};var e=function(){return n._seed=(9301*n._seed+49297)%233280,n._seed/233280};n.colorToNumber=function(e){return 3==(e=e.replace("#","")).length&&(e=e.charAt(0)+e.charAt(0)+e.charAt(1)+e.charAt(1)+e.charAt(2)+e.charAt(2)),parseInt(e,16)},n.logLevel=1,n.log=function(){console&&n.logLevel>0&&n.logLevel<=3&&console.log.apply(console,["matter-js:"].concat(Array.prototype.slice.call(arguments)))},n.info=function(){console&&n.logLevel>0&&n.logLevel<=2&&console.info.apply(console,["matter-js:"].concat(Array.prototype.slice.call(arguments)))},n.warn=function(){console&&n.logLevel>0&&n.logLevel<=3&&console.warn.apply(console,["matter-js:"].concat(Array.prototype.slice.call(arguments)))},n.warnOnce=function(){var e=Array.prototype.slice.call(arguments).join(" ");n._warnedOnce[e]||(n.warn(e),n._warnedOnce[e]=!0)},n.deprecated=function(e,t,i){e[t]=n.chain((function(){n.warnOnce(" deprecated ",i)}),e[t])},n.nextId=function(){return n._nextId++},n.indexOf=function(e,t){if(e.indexOf)return e.indexOf(t);for(var i=0;i<e.length;i++)if(e[i]===t)return i;return-1},n.map=function(e,t){if(e.map)return e.map(t);for(var i=[],n=0;n<e.length;n+=1)i.push(t(e[n]));return i},n.topologicalSort=function(e){var t=[],i=[],r=[];for(var s in e)i[s]||r[s]||n._topologicalSort(s,i,r,e,t);return t},n._topologicalSort=function(e,t,i,r,s){var o=r[e]||[];i[e]=!0;for(var a=0;a<o.length;a+=1){var l=o[a];i[l]||t[l]||n._topologicalSort(l,t,i,r,s)}i[e]=!1,t[e]=!0,s.push(e)},n.chain=function(){for(var e=[],t=0;t<arguments.length;t+=1){var i=arguments[t];i._chained?e.push.apply(e,i._chained):e.push(i)}var n=function(){for(var t,i=new Array(arguments.length),n=0,r=arguments.length;n<r;n++)i[n]=arguments[n];for(n=0;n<e.length;n+=1){var s=e[n].apply(t,i);void 0!==s&&(t=s)}return t};return n._chained=e,n},n.chainPathBefore=function(e,t,i){return n.set(e,t,n.chain(i,n.get(e,t)))},n.chainPathAfter=function(e,t,i){return n.set(e,t,n.chain(n.get(e,t),i))},n.setDecomp=function(e){n._decomp=e},n.getDecomp=function(){var e=n._decomp;try{e||"undefined"==typeof window||(e=window.decomp),e||void 0===i.g||(e=i.g.decomp)}catch(t){e=null}return e}}()},function(e,t){var i={};e.exports=i,i.create=function(e){var t={min:{x:0,y:0},max:{x:0,y:0}};return e&&i.update(t,e),t},i.update=function(e,t,i){e.min.x=1/0,e.max.x=-1/0,e.min.y=1/0,e.max.y=-1/0;for(var n=0;n<t.length;n++){var r=t[n];r.x>e.max.x&&(e.max.x=r.x),r.x<e.min.x&&(e.min.x=r.x),r.y>e.max.y&&(e.max.y=r.y),r.y<e.min.y&&(e.min.y=r.y)}i&&(i.x>0?e.max.x+=i.x:e.min.x+=i.x,i.y>0?e.max.y+=i.y:e.min.y+=i.y)},i.contains=function(e,t){return t.x>=e.min.x&&t.x<=e.max.x&&t.y>=e.min.y&&t.y<=e.max.y},i.overlaps=function(e,t){return e.min.x<=t.max.x&&e.max.x>=t.min.x&&e.max.y>=t.min.y&&e.min.y<=t.max.y},i.translate=function(e,t){e.min.x+=t.x,e.max.x+=t.x,e.min.y+=t.y,e.max.y+=t.y},i.shift=function(e,t){var i=e.max.x-e.min.x,n=e.max.y-e.min.y;e.min.x=t.x,e.max.x=t.x+i,e.min.y=t.y,e.max.y=t.y+n}},function(e,t){var i={};e.exports=i,i.create=function(e,t){return{x:e||0,y:t||0}},i.clone=function(e){return{x:e.x,y:e.y}},i.magnitude=function(e){return Math.sqrt(e.x*e.x+e.y*e.y)},i.magnitudeSquared=function(e){return e.x*e.x+e.y*e.y},i.rotate=function(e,t,i){var n=Math.cos(t),r=Math.sin(t);i||(i={});var s=e.x*n-e.y*r;return i.y=e.x*r+e.y*n,i.x=s,i},i.rotateAbout=function(e,t,i,n){var r=Math.cos(t),s=Math.sin(t);n||(n={});var o=i.x+((e.x-i.x)*r-(e.y-i.y)*s);return n.y=i.y+((e.x-i.x)*s+(e.y-i.y)*r),n.x=o,n},i.normalise=function(e){var t=i.magnitude(e);return 0===t?{x:0,y:0}:{x:e.x/t,y:e.y/t}},i.dot=function(e,t){return e.x*t.x+e.y*t.y},i.cross=function(e,t){return e.x*t.y-e.y*t.x},i.cross3=function(e,t,i){return(t.x-e.x)*(i.y-e.y)-(t.y-e.y)*(i.x-e.x)},i.add=function(e,t,i){return i||(i={}),i.x=e.x+t.x,i.y=e.y+t.y,i},i.sub=function(e,t,i){return i||(i={}),i.x=e.x-t.x,i.y=e.y-t.y,i},i.mult=function(e,t){return{x:e.x*t,y:e.y*t}},i.div=function(e,t){return{x:e.x/t,y:e.y/t}},i.perp=function(e,t){return{x:(t=!0===t?-1:1)*-e.y,y:t*e.x}},i.neg=function(e){return{x:-e.x,y:-e.y}},i.angle=function(e,t){return Math.atan2(t.y-e.y,t.x-e.x)},i._temp=[i.create(),i.create(),i.create(),i.create(),i.create(),i.create()]},function(e,t,i){var n={};e.exports=n;var r=i(2),s=i(0);n.create=function(e,t){for(var i=[],n=0;n<e.length;n++){var r=e[n],s={x:r.x,y:r.y,index:n,body:t,isInternal:!1};i.push(s)}return i},n.fromPath=function(e,t){var i=[];return e.replace(/L?\s*([-\d.e]+)[\s,]*([-\d.e]+)*/gi,(function(e,t,n){i.push({x:parseFloat(t),y:parseFloat(n)})})),n.create(i,t)},n.centre=function(e){for(var t,i,s,o=n.area(e,!0),a={x:0,y:0},l=0;l<e.length;l++)s=(l+1)%e.length,t=r.cross(e[l],e[s]),i=r.mult(r.add(e[l],e[s]),t),a=r.add(a,i);return r.div(a,6*o)},n.mean=function(e){for(var t={x:0,y:0},i=0;i<e.length;i++)t.x+=e[i].x,t.y+=e[i].y;return r.div(t,e.length)},n.area=function(e,t){for(var i=0,n=e.length-1,r=0;r<e.length;r++)i+=(e[n].x-e[r].x)*(e[n].y+e[r].y),n=r;return t?i/2:Math.abs(i)/2},n.inertia=function(e,t){for(var i,n,s=0,o=0,a=e,l=0;l<a.length;l++)n=(l+1)%a.length,s+=(i=Math.abs(r.cross(a[n],a[l])))*(r.dot(a[n],a[n])+r.dot(a[n],a[l])+r.dot(a[l],a[l])),o+=i;return t/6*(s/o)},n.translate=function(e,t,i){i=void 0!==i?i:1;var n,r=e.length,s=t.x*i,o=t.y*i;for(n=0;n<r;n++)e[n].x+=s,e[n].y+=o;return e},n.rotate=function(e,t,i){if(0!==t){var n,r,s,o,a=Math.cos(t),l=Math.sin(t),h=i.x,c=i.y,u=e.length;for(o=0;o<u;o++)r=(n=e[o]).x-h,s=n.y-c,n.x=h+(r*a-s*l),n.y=c+(r*l+s*a);return e}},n.contains=function(e,t){for(var i,n=t.x,r=t.y,s=e.length,o=e[s-1],a=0;a<s;a++){if(i=e[a],(n-o.x)*(i.y-o.y)+(r-o.y)*(o.x-i.x)>0)return!1;o=i}return!0},n.scale=function(e,t,i,s){if(1===t&&1===i)return e;var o,a;s=s||n.centre(e);for(var l=0;l<e.length;l++)o=e[l],a=r.sub(o,s),e[l].x=s.x+a.x*t,e[l].y=s.y+a.y*i;return e},n.chamfer=function(e,t,i,n,o){t="number"==typeof t?[t]:t||[8],i=void 0!==i?i:-1,n=n||2,o=o||14;for(var a=[],l=0;l<e.length;l++){var h=e[l-1>=0?l-1:e.length-1],c=e[l],u=e[(l+1)%e.length],d=t[l<t.length?l:t.length-1];if(0!==d){var f=r.normalise({x:c.y-h.y,y:h.x-c.x}),p=r.normalise({x:u.y-c.y,y:c.x-u.x}),g=Math.sqrt(2*Math.pow(d,2)),m=r.mult(s.clone(f),d),y=r.normalise(r.mult(r.add(f,p),.5)),_=r.sub(c,r.mult(y,g)),v=i;-1===i&&(v=1.75*Math.pow(d,.32)),(v=s.clamp(v,n,o))%2==1&&(v+=1);for(var x=Math.acos(r.dot(f,p))/v,b=0;b<v;b++)a.push(r.add(r.rotate(m,x*b),_))}else a.push(c)}return a},n.clockwiseSort=function(e){var t=n.mean(e);return e.sort((function(e,i){return r.angle(t,e)-r.angle(t,i)})),e},n.isConvex=function(e){var t,i,n,r,s=0,o=e.length;if(o<3)return null;for(t=0;t<o;t++)if(n=(t+2)%o,r=(e[i=(t+1)%o].x-e[t].x)*(e[n].y-e[i].y),(r-=(e[i].y-e[t].y)*(e[n].x-e[i].x))<0?s|=1:r>0&&(s|=2),3===s)return!1;return 0!==s||null},n.hull=function(e){var t,i,n=[],s=[];for((e=e.slice(0)).sort((function(e,t){var i=e.x-t.x;return 0!==i?i:e.y-t.y})),i=0;i<e.length;i+=1){for(t=e[i];s.length>=2&&r.cross3(s[s.length-2],s[s.length-1],t)<=0;)s.pop();s.push(t)}for(i=e.length-1;i>=0;i-=1){for(t=e[i];n.length>=2&&r.cross3(n[n.length-2],n[n.length-1],t)<=0;)n.pop();n.push(t)}return n.pop(),s.pop(),n.concat(s)}},function(e,t,i){var n={};e.exports=n;var r=i(3),s=i(2),o=i(7),a=i(0),l=i(1),h=i(11);!function(){n._timeCorrection=!0,n._inertiaScale=4,n._nextCollidingGroupId=1,n._nextNonCollidingGroupId=-1,n._nextCategory=1,n._baseDelta=1e3/60,n.create=function(t){var i={id:a.nextId(),type:"body",label:"Body",parts:[],plugin:{},angle:0,vertices:r.fromPath("L 0 0 L 40 0 L 40 40 L 0 40"),position:{x:0,y:0},force:{x:0,y:0},torque:0,positionImpulse:{x:0,y:0},constraintImpulse:{x:0,y:0,angle:0},totalContacts:0,speed:0,angularSpeed:0,velocity:{x:0,y:0},angularVelocity:0,isSensor:!1,isStatic:!1,isSleeping:!1,motion:0,sleepThreshold:60,density:.001,restitution:0,friction:.1,frictionStatic:.5,frictionAir:.01,collisionFilter:{category:1,mask:4294967295,group:0},slop:.05,timeScale:1,render:{visible:!0,opacity:1,strokeStyle:null,fillStyle:null,lineWidth:null,sprite:{xScale:1,yScale:1,xOffset:0,yOffset:0}},events:null,bounds:null,chamfer:null,circleRadius:0,positionPrev:null,anglePrev:0,parent:null,axes:null,area:0,mass:0,inertia:0,deltaTime:1e3/60,_original:null},n=a.extend(i,t);return e(n,t),n},n.nextGroup=function(e){return e?n._nextNonCollidingGroupId--:n._nextCollidingGroupId++},n.nextCategory=function(){return n._nextCategory=n._nextCategory<<1,n._nextCategory};var e=function(e,t){t=t||{},n.set(e,{bounds:e.bounds||l.create(e.vertices),positionPrev:e.positionPrev||s.clone(e.position),anglePrev:e.anglePrev||e.angle,vertices:e.vertices,parts:e.parts||[e],isStatic:e.isStatic,isSleeping:e.isSleeping,parent:e.parent||e}),r.rotate(e.vertices,e.angle,e.position),h.rotate(e.axes,e.angle),l.update(e.bounds,e.vertices,e.velocity),n.set(e,{axes:t.axes||e.axes,area:t.area||e.area,mass:t.mass||e.mass,inertia:t.inertia||e.inertia});var i=e.isStatic?"#14151f":a.choose(["#f19648","#f5d259","#f55a3c","#063e7b","#ececd1"]),o=e.isStatic?"#555":"#ccc",c=e.isStatic&&null===e.render.fillStyle?1:0;e.render.fillStyle=e.render.fillStyle||i,e.render.strokeStyle=e.render.strokeStyle||o,e.render.lineWidth=e.render.lineWidth||c,e.render.sprite.xOffset+=-(e.bounds.min.x-e.position.x)/(e.bounds.max.x-e.bounds.min.x),e.render.sprite.yOffset+=-(e.bounds.min.y-e.position.y)/(e.bounds.max.y-e.bounds.min.y)};n.set=function(e,t,i){var r;for(r in"string"==typeof t&&(r=t,(t={})[r]=i),t)if(Object.prototype.hasOwnProperty.call(t,r))switch(i=t[r],r){case"isStatic":n.setStatic(e,i);break;case"isSleeping":o.set(e,i);break;case"mass":n.setMass(e,i);break;case"density":n.setDensity(e,i);break;case"inertia":n.setInertia(e,i);break;case"vertices":n.setVertices(e,i);break;case"position":n.setPosition(e,i);break;case"angle":n.setAngle(e,i);break;case"velocity":n.setVelocity(e,i);break;case"angularVelocity":n.setAngularVelocity(e,i);break;case"speed":n.setSpeed(e,i);break;case"angularSpeed":n.setAngularSpeed(e,i);break;case"parts":n.setParts(e,i);break;case"centre":n.setCentre(e,i);break;default:e[r]=i}},n.setStatic=function(e,t){for(var i=0;i<e.parts.length;i++){var n=e.parts[i];n.isStatic=t,t?(n._original={restitution:n.restitution,friction:n.friction,mass:n.mass,inertia:n.inertia,density:n.density,inverseMass:n.inverseMass,inverseInertia:n.inverseInertia},n.restitution=0,n.friction=1,n.mass=n.inertia=n.density=1/0,n.inverseMass=n.inverseInertia=0,n.positionPrev.x=n.position.x,n.positionPrev.y=n.position.y,n.anglePrev=n.angle,n.angularVelocity=0,n.speed=0,n.angularSpeed=0,n.motion=0):n._original&&(n.restitution=n._original.restitution,n.friction=n._original.friction,n.mass=n._original.mass,n.inertia=n._original.inertia,n.density=n._original.density,n.inverseMass=n._original.inverseMass,n.inverseInertia=n._original.inverseInertia,n._original=null)}},n.setMass=function(e,t){var i=e.inertia/(e.mass/6);e.inertia=i*(t/6),e.inverseInertia=1/e.inertia,e.mass=t,e.inverseMass=1/e.mass,e.density=e.mass/e.area},n.setDensity=function(e,t){n.setMass(e,t*e.area),e.density=t},n.setInertia=function(e,t){e.inertia=t,e.inverseInertia=1/e.inertia},n.setVertices=function(e,t){t[0].body===e?e.vertices=t:e.vertices=r.create(t,e),e.axes=h.fromVertices(e.vertices),e.area=r.area(e.vertices),n.setMass(e,e.density*e.area);var i=r.centre(e.vertices);r.translate(e.vertices,i,-1),n.setInertia(e,n._inertiaScale*r.inertia(e.vertices,e.mass)),r.translate(e.vertices,e.position),l.update(e.bounds,e.vertices,e.velocity)},n.setParts=function(e,t,i){var s;for(t=t.slice(0),e.parts.length=0,e.parts.push(e),e.parent=e,s=0;s<t.length;s++){var o=t[s];o!==e&&(o.parent=e,e.parts.push(o))}if(1!==e.parts.length){if(i=void 0===i||i){var a=[];for(s=0;s<t.length;s++)a=a.concat(t[s].vertices);r.clockwiseSort(a);var l=r.hull(a),h=r.centre(l);n.setVertices(e,l),r.translate(e.vertices,h)}var c=n._totalProperties(e);e.area=c.area,e.parent=e,e.position.x=c.centre.x,e.position.y=c.centre.y,e.positionPrev.x=c.centre.x,e.positionPrev.y=c.centre.y,n.setMass(e,c.mass),n.setInertia(e,c.inertia),n.setPosition(e,c.centre)}},n.setCentre=function(e,t,i){i?(e.positionPrev.x+=t.x,e.positionPrev.y+=t.y,e.position.x+=t.x,e.position.y+=t.y):(e.positionPrev.x=t.x-(e.position.x-e.positionPrev.x),e.positionPrev.y=t.y-(e.position.y-e.positionPrev.y),e.position.x=t.x,e.position.y=t.y)},n.setPosition=function(e,t,i){var n=s.sub(t,e.position);i?(e.positionPrev.x=e.position.x,e.positionPrev.y=e.position.y,e.velocity.x=n.x,e.velocity.y=n.y,e.speed=s.magnitude(n)):(e.positionPrev.x+=n.x,e.positionPrev.y+=n.y);for(var o=0;o<e.parts.length;o++){var a=e.parts[o];a.position.x+=n.x,a.position.y+=n.y,r.translate(a.vertices,n),l.update(a.bounds,a.vertices,e.velocity)}},n.setAngle=function(e,t,i){var n=t-e.angle;i?(e.anglePrev=e.angle,e.angularVelocity=n,e.angularSpeed=Math.abs(n)):e.anglePrev+=n;for(var o=0;o<e.parts.length;o++){var a=e.parts[o];a.angle+=n,r.rotate(a.vertices,n,e.position),h.rotate(a.axes,n),l.update(a.bounds,a.vertices,e.velocity),o>0&&s.rotateAbout(a.position,n,e.position,a.position)}},n.setVelocity=function(e,t){var i=e.deltaTime/n._baseDelta;e.positionPrev.x=e.position.x-t.x*i,e.positionPrev.y=e.position.y-t.y*i,e.velocity.x=(e.position.x-e.positionPrev.x)/i,e.velocity.y=(e.position.y-e.positionPrev.y)/i,e.speed=s.magnitude(e.velocity)},n.getVelocity=function(e){var t=n._baseDelta/e.deltaTime;return{x:(e.position.x-e.positionPrev.x)*t,y:(e.position.y-e.positionPrev.y)*t}},n.getSpeed=function(e){return s.magnitude(n.getVelocity(e))},n.setSpeed=function(e,t){n.setVelocity(e,s.mult(s.normalise(n.getVelocity(e)),t))},n.setAngularVelocity=function(e,t){var i=e.deltaTime/n._baseDelta;e.anglePrev=e.angle-t*i,e.angularVelocity=(e.angle-e.anglePrev)/i,e.angularSpeed=Math.abs(e.angularVelocity)},n.getAngularVelocity=function(e){return(e.angle-e.anglePrev)*n._baseDelta/e.deltaTime},n.getAngularSpeed=function(e){return Math.abs(n.getAngularVelocity(e))},n.setAngularSpeed=function(e,t){n.setAngularVelocity(e,a.sign(n.getAngularVelocity(e))*t)},n.translate=function(e,t,i){n.setPosition(e,s.add(e.position,t),i)},n.rotate=function(e,t,i,r){if(i){var s=Math.cos(t),o=Math.sin(t),a=e.position.x-i.x,l=e.position.y-i.y;n.setPosition(e,{x:i.x+(a*s-l*o),y:i.y+(a*o+l*s)},r),n.setAngle(e,e.angle+t,r)}else n.setAngle(e,e.angle+t,r)},n.scale=function(e,t,i,s){var o=0,a=0;s=s||e.position;for(var c=0;c<e.parts.length;c++){var u=e.parts[c];r.scale(u.vertices,t,i,s),u.axes=h.fromVertices(u.vertices),u.area=r.area(u.vertices),n.setMass(u,e.density*u.area),r.translate(u.vertices,{x:-u.position.x,y:-u.position.y}),n.setInertia(u,n._inertiaScale*r.inertia(u.vertices,u.mass)),r.translate(u.vertices,{x:u.position.x,y:u.position.y}),c>0&&(o+=u.area,a+=u.inertia),u.position.x=s.x+(u.position.x-s.x)*t,u.position.y=s.y+(u.position.y-s.y)*i,l.update(u.bounds,u.vertices,e.velocity)}e.parts.length>1&&(e.area=o,e.isStatic||(n.setMass(e,e.density*o),n.setInertia(e,a))),e.circleRadius&&(t===i?e.circleRadius*=t:e.circleRadius=null)},n.update=function(e,t){var i=(t=(void 0!==t?t:1e3/60)*e.timeScale)*t,o=n._timeCorrection?t/(e.deltaTime||t):1,c=1-e.frictionAir*(t/a._baseDelta),u=(e.position.x-e.positionPrev.x)*o,d=(e.position.y-e.positionPrev.y)*o;e.velocity.x=u*c+e.force.x/e.mass*i,e.velocity.y=d*c+e.force.y/e.mass*i,e.positionPrev.x=e.position.x,e.positionPrev.y=e.position.y,e.position.x+=e.velocity.x,e.position.y+=e.velocity.y,e.deltaTime=t,e.angularVelocity=(e.angle-e.anglePrev)*c*o+e.torque/e.inertia*i,e.anglePrev=e.angle,e.angle+=e.angularVelocity;for(var f=0;f<e.parts.length;f++){var p=e.parts[f];r.translate(p.vertices,e.velocity),f>0&&(p.position.x+=e.velocity.x,p.position.y+=e.velocity.y),0!==e.angularVelocity&&(r.rotate(p.vertices,e.angularVelocity,e.position),h.rotate(p.axes,e.angularVelocity),f>0&&s.rotateAbout(p.position,e.angularVelocity,e.position,p.position)),l.update(p.bounds,p.vertices,e.velocity)}},n.updateVelocities=function(e){var t=n._baseDelta/e.deltaTime,i=e.velocity;i.x=(e.position.x-e.positionPrev.x)*t,i.y=(e.position.y-e.positionPrev.y)*t,e.speed=Math.sqrt(i.x*i.x+i.y*i.y),e.angularVelocity=(e.angle-e.anglePrev)*t,e.angularSpeed=Math.abs(e.angularVelocity)},n.applyForce=function(e,t,i){var n=t.x-e.position.x,r=t.y-e.position.y;e.force.x+=i.x,e.force.y+=i.y,e.torque+=n*i.y-r*i.x},n._totalProperties=function(e){for(var t={mass:0,area:0,inertia:0,centre:{x:0,y:0}},i=1===e.parts.length?0:1;i<e.parts.length;i++){var n=e.parts[i],r=n.mass!==1/0?n.mass:1;t.mass+=r,t.area+=n.area,t.inertia+=n.inertia,t.centre=s.add(t.centre,s.mult(n.position,r))}return t.centre=s.div(t.centre,t.mass),t}}()},function(e,t,i){var n={};e.exports=n;var r=i(0);n.on=function(e,t,i){for(var n,r=t.split(" "),s=0;s<r.length;s++)n=r[s],e.events=e.events||{},e.events[n]=e.events[n]||[],e.events[n].push(i);return i},n.off=function(e,t,i){if(t){"function"==typeof t&&(i=t,t=r.keys(e.events).join(" "));for(var n=t.split(" "),s=0;s<n.length;s++){var o=e.events[n[s]],a=[];if(i&&o)for(var l=0;l<o.length;l++)o[l]!==i&&a.push(o[l]);e.events[n[s]]=a}}else e.events={}},n.trigger=function(e,t,i){var n,s,o,a,l=e.events;if(l&&r.keys(l).length>0){i||(i={}),n=t.split(" ");for(var h=0;h<n.length;h++)if(o=l[s=n[h]]){(a=r.clone(i,!1)).name=s,a.source=e;for(var c=0;c<o.length;c++)o[c].apply(e,[a])}}}},function(e,t,i){var n={};e.exports=n;var r=i(5),s=i(0),o=i(1),a=i(4);n.create=function(e){return s.extend({id:s.nextId(),type:"composite",parent:null,isModified:!1,bodies:[],constraints:[],composites:[],label:"Composite",plugin:{},cache:{allBodies:null,allConstraints:null,allComposites:null}},e)},n.setModified=function(e,t,i,r){if(e.isModified=t,t&&e.cache&&(e.cache.allBodies=null,e.cache.allConstraints=null,e.cache.allComposites=null),i&&e.parent&&n.setModified(e.parent,t,i,r),r)for(var s=0;s<e.composites.length;s++){var o=e.composites[s];n.setModified(o,t,i,r)}},n.add=function(e,t){var i=[].concat(t);r.trigger(e,"beforeAdd",{object:t});for(var o=0;o<i.length;o++){var a=i[o];switch(a.type){case"body":if(a.parent!==a){s.warn("Composite.add: skipped adding a compound body part (you must add its parent instead)");break}n.addBody(e,a);break;case"constraint":n.addConstraint(e,a);break;case"composite":n.addComposite(e,a);break;case"mouseConstraint":n.addConstraint(e,a.constraint)}}return r.trigger(e,"afterAdd",{object:t}),e},n.remove=function(e,t,i){var s=[].concat(t);r.trigger(e,"beforeRemove",{object:t});for(var o=0;o<s.length;o++){var a=s[o];switch(a.type){case"body":n.removeBody(e,a,i);break;case"constraint":n.removeConstraint(e,a,i);break;case"composite":n.removeComposite(e,a,i);break;case"mouseConstraint":n.removeConstraint(e,a.constraint)}}return r.trigger(e,"afterRemove",{object:t}),e},n.addComposite=function(e,t){return e.composites.push(t),t.parent=e,n.setModified(e,!0,!0,!1),e},n.removeComposite=function(e,t,i){var r=s.indexOf(e.composites,t);if(-1!==r&&n.removeCompositeAt(e,r),i)for(var o=0;o<e.composites.length;o++)n.removeComposite(e.composites[o],t,!0);return e},n.removeCompositeAt=function(e,t){return e.composites.splice(t,1),n.setModified(e,!0,!0,!1),e},n.addBody=function(e,t){return e.bodies.push(t),n.setModified(e,!0,!0,!1),e},n.removeBody=function(e,t,i){var r=s.indexOf(e.bodies,t);if(-1!==r&&n.removeBodyAt(e,r),i)for(var o=0;o<e.composites.length;o++)n.removeBody(e.composites[o],t,!0);return e},n.removeBodyAt=function(e,t){return e.bodies.splice(t,1),n.setModified(e,!0,!0,!1),e},n.addConstraint=function(e,t){return e.constraints.push(t),n.setModified(e,!0,!0,!1),e},n.removeConstraint=function(e,t,i){var r=s.indexOf(e.constraints,t);if(-1!==r&&n.removeConstraintAt(e,r),i)for(var o=0;o<e.composites.length;o++)n.removeConstraint(e.composites[o],t,!0);return e},n.removeConstraintAt=function(e,t){return e.constraints.splice(t,1),n.setModified(e,!0,!0,!1),e},n.clear=function(e,t,i){if(i)for(var r=0;r<e.composites.length;r++)n.clear(e.composites[r],t,!0);return t?e.bodies=e.bodies.filter((function(e){return e.isStatic})):e.bodies.length=0,e.constraints.length=0,e.composites.length=0,n.setModified(e,!0,!0,!1),e},n.allBodies=function(e){if(e.cache&&e.cache.allBodies)return e.cache.allBodies;for(var t=[].concat(e.bodies),i=0;i<e.composites.length;i++)t=t.concat(n.allBodies(e.composites[i]));return e.cache&&(e.cache.allBodies=t),t},n.allConstraints=function(e){if(e.cache&&e.cache.allConstraints)return e.cache.allConstraints;for(var t=[].concat(e.constraints),i=0;i<e.composites.length;i++)t=t.concat(n.allConstraints(e.composites[i]));return e.cache&&(e.cache.allConstraints=t),t},n.allComposites=function(e){if(e.cache&&e.cache.allComposites)return e.cache.allComposites;for(var t=[].concat(e.composites),i=0;i<e.composites.length;i++)t=t.concat(n.allComposites(e.composites[i]));return e.cache&&(e.cache.allComposites=t),t},n.get=function(e,t,i){var r,s;switch(i){case"body":r=n.allBodies(e);break;case"constraint":r=n.allConstraints(e);break;case"composite":r=n.allComposites(e).concat(e)}return r?0===(s=r.filter((function(e){return e.id.toString()===t.toString()}))).length?null:s[0]:null},n.move=function(e,t,i){return n.remove(e,t),n.add(i,t),e},n.rebase=function(e){for(var t=n.allBodies(e).concat(n.allConstraints(e)).concat(n.allComposites(e)),i=0;i<t.length;i++)t[i].id=s.nextId();return e},n.translate=function(e,t,i){for(var r=i?n.allBodies(e):e.bodies,s=0;s<r.length;s++)a.translate(r[s],t);return e},n.rotate=function(e,t,i,r){for(var s=Math.cos(t),o=Math.sin(t),l=r?n.allBodies(e):e.bodies,h=0;h<l.length;h++){var c=l[h],u=c.position.x-i.x,d=c.position.y-i.y;a.setPosition(c,{x:i.x+(u*s-d*o),y:i.y+(u*o+d*s)}),a.rotate(c,t)}return e},n.scale=function(e,t,i,r,s){for(var o=s?n.allBodies(e):e.bodies,l=0;l<o.length;l++){var h=o[l],c=h.position.x-r.x,u=h.position.y-r.y;a.setPosition(h,{x:r.x+c*t,y:r.y+u*i}),a.scale(h,t,i)}return e},n.bounds=function(e){for(var t=n.allBodies(e),i=[],r=0;r<t.length;r+=1){var s=t[r];i.push(s.bounds.min,s.bounds.max)}return o.create(i)}},function(e,t,i){var n={};e.exports=n;var r=i(4),s=i(5),o=i(0);n._motionWakeThreshold=.18,n._motionSleepThreshold=.08,n._minBias=.9,n.update=function(e,t){for(var i=t/o._baseDelta,s=n._motionSleepThreshold,a=0;a<e.length;a++){var l=e[a],h=r.getSpeed(l),c=r.getAngularSpeed(l),u=h*h+c*c;if(0===l.force.x&&0===l.force.y){var d=Math.min(l.motion,u),f=Math.max(l.motion,u);l.motion=n._minBias*d+(1-n._minBias)*f,l.sleepThreshold>0&&l.motion<s?(l.sleepCounter+=1,l.sleepCounter>=l.sleepThreshold/i&&n.set(l,!0)):l.sleepCounter>0&&(l.sleepCounter-=1)}else n.set(l,!1)}},n.afterCollisions=function(e){for(var t=n._motionSleepThreshold,i=0;i<e.length;i++){var r=e[i];if(r.isActive){var s=r.collision,o=s.bodyA.parent,a=s.bodyB.parent;if(!(o.isSleeping&&a.isSleeping||o.isStatic||a.isStatic)&&(o.isSleeping||a.isSleeping)){var l=o.isSleeping&&!o.isStatic?o:a,h=l===o?a:o;!l.isStatic&&h.motion>t&&n.set(l,!1)}}}},n.set=function(e,t){var i=e.isSleeping;t?(e.isSleeping=!0,e.sleepCounter=e.sleepThreshold,e.positionImpulse.x=0,e.positionImpulse.y=0,e.positionPrev.x=e.position.x,e.positionPrev.y=e.position.y,e.anglePrev=e.angle,e.speed=0,e.angularSpeed=0,e.motion=0,i||s.trigger(e,"sleepStart")):(e.isSleeping=!1,e.sleepCounter=0,i&&s.trigger(e,"sleepEnd"))}},function(e,t,i){var n={};e.exports=n;var r,s,o,a=i(3),l=i(9);r=[],s={overlap:0,axis:null},o={overlap:0,axis:null},n.create=function(e,t){return{pair:null,collided:!1,bodyA:e,bodyB:t,parentA:e.parent,parentB:t.parent,depth:0,normal:{x:0,y:0},tangent:{x:0,y:0},penetration:{x:0,y:0},supports:[]}},n.collides=function(e,t,i){if(n._overlapAxes(s,e.vertices,t.vertices,e.axes),s.overlap<=0)return null;if(n._overlapAxes(o,t.vertices,e.vertices,t.axes),o.overlap<=0)return null;var r,h,c=i&&i.table[l.id(e,t)];c?r=c.collision:((r=n.create(e,t)).collided=!0,r.bodyA=e.id<t.id?e:t,r.bodyB=e.id<t.id?t:e,r.parentA=r.bodyA.parent,r.parentB=r.bodyB.parent),e=r.bodyA,t=r.bodyB,h=s.overlap<o.overlap?s:o;var u=r.normal,d=r.supports,f=h.axis,p=f.x,g=f.y;p*(t.position.x-e.position.x)+g*(t.position.y-e.position.y)<0?(u.x=p,u.y=g):(u.x=-p,u.y=-g),r.tangent.x=-u.y,r.tangent.y=u.x,r.depth=h.overlap,r.penetration.x=u.x*r.depth,r.penetration.y=u.y*r.depth;var m=n._findSupports(e,t,u,1),y=0;if(a.contains(e.vertices,m[0])&&(d[y++]=m[0]),a.contains(e.vertices,m[1])&&(d[y++]=m[1]),y<2){var _=n._findSupports(t,e,u,-1);a.contains(t.vertices,_[0])&&(d[y++]=_[0]),y<2&&a.contains(t.vertices,_[1])&&(d[y++]=_[1])}return 0===y&&(d[y++]=m[0]),d.length=y,r},n._overlapAxes=function(e,t,i,n){var r,s,o,a,l,h,c=t.length,u=i.length,d=t[0].x,f=t[0].y,p=i[0].x,g=i[0].y,m=n.length,y=Number.MAX_VALUE,_=0;for(l=0;l<m;l++){var v=n[l],x=v.x,b=v.y,w=d*x+f*b,S=p*x+g*b,k=w,A=S;for(h=1;h<c;h+=1)(a=t[h].x*x+t[h].y*b)>k?k=a:a<w&&(w=a);for(h=1;h<u;h+=1)(a=i[h].x*x+i[h].y*b)>A?A=a:a<S&&(S=a);if((r=(s=k-S)<(o=A-w)?s:o)<y&&(y=r,_=l,r<=0))break}e.axis=n[_],e.overlap=y},n._projectToAxis=function(e,t,i){for(var n=t[0].x*i.x+t[0].y*i.y,r=n,s=1;s<t.length;s+=1){var o=t[s].x*i.x+t[s].y*i.y;o>r?r=o:o<n&&(n=o)}e.min=n,e.max=r},n._findSupports=function(e,t,i,n){var s,o,a,l,h,c=t.vertices,u=c.length,d=e.position.x,f=e.position.y,p=i.x*n,g=i.y*n,m=Number.MAX_VALUE;for(h=0;h<u;h+=1)(l=p*(d-(o=c[h]).x)+g*(f-o.y))<m&&(m=l,s=o);return m=p*(d-(a=c[(u+s.index-1)%u]).x)+g*(f-a.y),p*(d-(o=c[(s.index+1)%u]).x)+g*(f-o.y)<m?(r[0]=s,r[1]=o,r):(r[0]=s,r[1]=a,r)}},function(e,t,i){var n={};e.exports=n;var r=i(16);n.create=function(e,t){var i=e.bodyA,r=e.bodyB,s={id:n.id(i,r),bodyA:i,bodyB:r,collision:e,contacts:[],activeContacts:[],separation:0,isActive:!0,confirmedActive:!0,isSensor:i.isSensor||r.isSensor,timeCreated:t,timeUpdated:t,inverseMass:0,friction:0,frictionStatic:0,restitution:0,slop:0};return n.update(s,e,t),s},n.update=function(e,t,i){var n=e.contacts,s=t.supports,o=e.activeContacts,a=t.parentA,l=t.parentB,h=a.vertices.length;e.isActive=!0,e.timeUpdated=i,e.collision=t,e.separation=t.depth,e.inverseMass=a.inverseMass+l.inverseMass,e.friction=a.friction<l.friction?a.friction:l.friction,e.frictionStatic=a.frictionStatic>l.frictionStatic?a.frictionStatic:l.frictionStatic,e.restitution=a.restitution>l.restitution?a.restitution:l.restitution,e.slop=a.slop>l.slop?a.slop:l.slop,t.pair=e,o.length=0;for(var c=0;c<s.length;c++){var u=s[c],d=u.body===a?u.index:h+u.index,f=n[d];f?o.push(f):o.push(n[d]=r.create(u))}},n.setActive=function(e,t,i){t?(e.isActive=!0,e.timeUpdated=i):(e.isActive=!1,e.activeContacts.length=0)},n.id=function(e,t){return e.id<t.id?"A"+e.id+"B"+t.id:"A"+t.id+"B"+e.id}},function(e,t,i){var n={};e.exports=n;var r=i(3),s=i(2),o=i(7),a=i(1),l=i(11),h=i(0);n._warming=.4,n._torqueDampen=1,n._minLength=1e-6,n.create=function(e){var t=e;t.bodyA&&!t.pointA&&(t.pointA={x:0,y:0}),t.bodyB&&!t.pointB&&(t.pointB={x:0,y:0});var i=t.bodyA?s.add(t.bodyA.position,t.pointA):t.pointA,n=t.bodyB?s.add(t.bodyB.position,t.pointB):t.pointB,r=s.magnitude(s.sub(i,n));t.length=void 0!==t.length?t.length:r,t.id=t.id||h.nextId(),t.label=t.label||"Constraint",t.type="constraint",t.stiffness=t.stiffness||(t.length>0?1:.7),t.damping=t.damping||0,t.angularStiffness=t.angularStiffness||0,t.angleA=t.bodyA?t.bodyA.angle:t.angleA,t.angleB=t.bodyB?t.bodyB.angle:t.angleB,t.plugin={};var o={visible:!0,lineWidth:2,strokeStyle:"#ffffff",type:"line",anchors:!0};return 0===t.length&&t.stiffness>.1?(o.type="pin",o.anchors=!1):t.stiffness<.9&&(o.type="spring"),t.render=h.extend(o,t.render),t},n.preSolveAll=function(e){for(var t=0;t<e.length;t+=1){var i=e[t],n=i.constraintImpulse;i.isStatic||0===n.x&&0===n.y&&0===n.angle||(i.position.x+=n.x,i.position.y+=n.y,i.angle+=n.angle)}},n.solveAll=function(e,t){for(var i=h.clamp(t/h._baseDelta,0,1),r=0;r<e.length;r+=1){var s=e[r],o=!s.bodyA||s.bodyA&&s.bodyA.isStatic,a=!s.bodyB||s.bodyB&&s.bodyB.isStatic;(o||a)&&n.solve(e[r],i)}for(r=0;r<e.length;r+=1)o=!(s=e[r]).bodyA||s.bodyA&&s.bodyA.isStatic,a=!s.bodyB||s.bodyB&&s.bodyB.isStatic,o||a||n.solve(e[r],i)},n.solve=function(e,t){var i=e.bodyA,r=e.bodyB,o=e.pointA,a=e.pointB;if(i||r){i&&!i.isStatic&&(s.rotate(o,i.angle-e.angleA,o),e.angleA=i.angle),r&&!r.isStatic&&(s.rotate(a,r.angle-e.angleB,a),e.angleB=r.angle);var l=o,h=a;if(i&&(l=s.add(i.position,o)),r&&(h=s.add(r.position,a)),l&&h){var c=s.sub(l,h),u=s.magnitude(c);u<n._minLength&&(u=n._minLength);var d,f,p,g,m,y=(u-e.length)/u,_=e.stiffness>=1||0===e.length?e.stiffness*t:e.stiffness*t*t,v=e.damping*t,x=s.mult(c,y*_),b=(i?i.inverseMass:0)+(r?r.inverseMass:0),w=b+((i?i.inverseInertia:0)+(r?r.inverseInertia:0));if(v>0){var S=s.create();p=s.div(c,u),m=s.sub(r&&s.sub(r.position,r.positionPrev)||S,i&&s.sub(i.position,i.positionPrev)||S),g=s.dot(p,m)}i&&!i.isStatic&&(f=i.inverseMass/b,i.constraintImpulse.x-=x.x*f,i.constraintImpulse.y-=x.y*f,i.position.x-=x.x*f,i.position.y-=x.y*f,v>0&&(i.positionPrev.x-=v*p.x*g*f,i.positionPrev.y-=v*p.y*g*f),d=s.cross(o,x)/w*n._torqueDampen*i.inverseInertia*(1-e.angularStiffness),i.constraintImpulse.angle-=d,i.angle-=d),r&&!r.isStatic&&(f=r.inverseMass/b,r.constraintImpulse.x+=x.x*f,r.constraintImpulse.y+=x.y*f,r.position.x+=x.x*f,r.position.y+=x.y*f,v>0&&(r.positionPrev.x+=v*p.x*g*f,r.positionPrev.y+=v*p.y*g*f),d=s.cross(a,x)/w*n._torqueDampen*r.inverseInertia*(1-e.angularStiffness),r.constraintImpulse.angle+=d,r.angle+=d)}}},n.postSolveAll=function(e){for(var t=0;t<e.length;t++){var i=e[t],h=i.constraintImpulse;if(!(i.isStatic||0===h.x&&0===h.y&&0===h.angle)){o.set(i,!1);for(var c=0;c<i.parts.length;c++){var u=i.parts[c];r.translate(u.vertices,h),c>0&&(u.position.x+=h.x,u.position.y+=h.y),0!==h.angle&&(r.rotate(u.vertices,h.angle,i.position),l.rotate(u.axes,h.angle),c>0&&s.rotateAbout(u.position,h.angle,i.position,u.position)),a.update(u.bounds,u.vertices,i.velocity)}h.angle*=n._warming,h.x*=n._warming,h.y*=n._warming}}},n.pointAWorld=function(e){return{x:(e.bodyA?e.bodyA.position.x:0)+(e.pointA?e.pointA.x:0),y:(e.bodyA?e.bodyA.position.y:0)+(e.pointA?e.pointA.y:0)}},n.pointBWorld=function(e){return{x:(e.bodyB?e.bodyB.position.x:0)+(e.pointB?e.pointB.x:0),y:(e.bodyB?e.bodyB.position.y:0)+(e.pointB?e.pointB.y:0)}}},function(e,t,i){var n={};e.exports=n;var r=i(2),s=i(0);n.fromVertices=function(e){for(var t={},i=0;i<e.length;i++){var n=(i+1)%e.length,o=r.normalise({x:e[n].y-e[i].y,y:e[i].x-e[n].x}),a=0===o.y?1/0:o.x/o.y;t[a=a.toFixed(3).toString()]=o}return s.values(t)},n.rotate=function(e,t){if(0!==t)for(var i=Math.cos(t),n=Math.sin(t),r=0;r<e.length;r++){var s,o=e[r];s=o.x*i-o.y*n,o.y=o.x*n+o.y*i,o.x=s}}},function(e,t,i){var n={};e.exports=n;var r=i(3),s=i(0),o=i(4),a=i(1),l=i(2);n.rectangle=function(e,t,i,n,a){a=a||{};var l={label:"Rectangle Body",position:{x:e,y:t},vertices:r.fromPath("L 0 0 L "+i+" 0 L "+i+" "+n+" L 0 "+n)};if(a.chamfer){var h=a.chamfer;l.vertices=r.chamfer(l.vertices,h.radius,h.quality,h.qualityMin,h.qualityMax),delete a.chamfer}return o.create(s.extend({},l,a))},n.trapezoid=function(e,t,i,n,a,l){l=l||{};var h,c=i*(a*=.5),u=c+(1-2*a)*i,d=u+c;h=a<.5?"L 0 0 L "+c+" "+-n+" L "+u+" "+-n+" L "+d+" 0":"L 0 0 L "+u+" "+-n+" L "+d+" 0";var f={label:"Trapezoid Body",position:{x:e,y:t},vertices:r.fromPath(h)};if(l.chamfer){var p=l.chamfer;f.vertices=r.chamfer(f.vertices,p.radius,p.quality,p.qualityMin,p.qualityMax),delete l.chamfer}return o.create(s.extend({},f,l))},n.circle=function(e,t,i,r,o){r=r||{};var a={label:"Circle Body",circleRadius:i};o=o||25;var l=Math.ceil(Math.max(10,Math.min(o,i)));return l%2==1&&(l+=1),n.polygon(e,t,l,i,s.extend({},a,r))},n.polygon=function(e,t,i,a,l){if(l=l||{},i<3)return n.circle(e,t,a,l);for(var h=2*Math.PI/i,c="",u=.5*h,d=0;d<i;d+=1){var f=u+d*h,p=Math.cos(f)*a,g=Math.sin(f)*a;c+="L "+p.toFixed(3)+" "+g.toFixed(3)+" "}var m={label:"Polygon Body",position:{x:e,y:t},vertices:r.fromPath(c)};if(l.chamfer){var y=l.chamfer;m.vertices=r.chamfer(m.vertices,y.radius,y.quality,y.qualityMin,y.qualityMax),delete l.chamfer}return o.create(s.extend({},m,l))},n.fromVertices=function(e,t,i,n,h,c,u,d){var f,p,g,m,y,_,v,x,b,w,S=s.getDecomp();for(f=Boolean(S&&S.quickDecomp),n=n||{},g=[],h=void 0!==h&&h,c=void 0!==c?c:.01,u=void 0!==u?u:10,d=void 0!==d?d:.01,s.isArray(i[0])||(i=[i]),b=0;b<i.length;b+=1)if(y=i[b],!(m=r.isConvex(y))&&!f&&s.warnOnce("Bodies.fromVertices: Install the 'poly-decomp' library and use Common.setDecomp or provide 'decomp' as a global to decompose concave vertices."),m||!f)y=m?r.clockwiseSort(y):r.hull(y),g.push({position:{x:e,y:t},vertices:y});else{var k=y.map((function(e){return[e.x,e.y]}));S.makeCCW(k),!1!==c&&S.removeCollinearPoints(k,c),!1!==d&&S.removeDuplicatePoints&&S.removeDuplicatePoints(k,d);var A=S.quickDecomp(k);for(_=0;_<A.length;_++){var T=A[_].map((function(e){return{x:e[0],y:e[1]}}));u>0&&r.area(T)<u||g.push({position:r.centre(T),vertices:T})}}for(_=0;_<g.length;_++)g[_]=o.create(s.extend(g[_],n));if(h)for(_=0;_<g.length;_++){var C=g[_];for(v=_+1;v<g.length;v++){var R=g[v];if(a.overlaps(C.bounds,R.bounds)){var E=C.vertices,P=R.vertices;for(x=0;x<C.vertices.length;x++)for(w=0;w<R.vertices.length;w++){var M=l.magnitudeSquared(l.sub(E[(x+1)%E.length],P[w])),j=l.magnitudeSquared(l.sub(E[x],P[(w+1)%P.length]));M<5&&j<5&&(E[x].isInternal=!0,P[w].isInternal=!0)}}}}return g.length>1?(p=o.create(s.extend({parts:g.slice(0)},n)),o.setPosition(p,{x:e,y:t}),p):g[0]}},function(e,t,i){var n={};e.exports=n;var r=i(0),s=i(8);n.create=function(e){return r.extend({bodies:[],pairs:null},e)},n.setBodies=function(e,t){e.bodies=t.slice(0)},n.clear=function(e){e.bodies=[]},n.collisions=function(e){var t,i,r=[],o=e.pairs,a=e.bodies,l=a.length,h=n.canCollide,c=s.collides;for(a.sort(n._compareBoundsX),t=0;t<l;t++){var u=a[t],d=u.bounds,f=u.bounds.max.x,p=u.bounds.max.y,g=u.bounds.min.y,m=u.isStatic||u.isSleeping,y=u.parts.length,_=1===y;for(i=t+1;i<l;i++){var v=a[i];if((C=v.bounds).min.x>f)break;if(!(p<C.min.y||g>C.max.y)&&(!m||!v.isStatic&&!v.isSleeping)&&h(u.collisionFilter,v.collisionFilter)){var x=v.parts.length;if(_&&1===x)(A=c(u,v,o))&&r.push(A);else for(var b=x>1?1:0,w=y>1?1:0;w<y;w++)for(var S=u.parts[w],k=(d=S.bounds,b);k<x;k++){var A,T=v.parts[k],C=T.bounds;d.min.x>C.max.x||d.max.x<C.min.x||d.max.y<C.min.y||d.min.y>C.max.y||(A=c(S,T,o))&&r.push(A)}}}}return r},n.canCollide=function(e,t){return e.group===t.group&&0!==e.group?e.group>0:0!=(e.mask&t.category)&&0!=(t.mask&e.category)},n._compareBoundsX=function(e,t){return e.bounds.min.x-t.bounds.min.x}},function(e,t,i){var n={};e.exports=n;var r=i(0);n.create=function(e){var t={};return e||r.log("Mouse.create: element was undefined, defaulting to document.body","warn"),t.element=e||document.body,t.absolute={x:0,y:0},t.position={x:0,y:0},t.mousedownPosition={x:0,y:0},t.mouseupPosition={x:0,y:0},t.offset={x:0,y:0},t.scale={x:1,y:1},t.wheelDelta=0,t.button=-1,t.pixelRatio=parseInt(t.element.getAttribute("data-pixel-ratio"),10)||1,t.sourceEvents={mousemove:null,mousedown:null,mouseup:null,mousewheel:null},t.mousemove=function(e){var i=n._getRelativeMousePosition(e,t.element,t.pixelRatio);e.changedTouches&&(t.button=0,e.preventDefault()),t.absolute.x=i.x,t.absolute.y=i.y,t.position.x=t.absolute.x*t.scale.x+t.offset.x,t.position.y=t.absolute.y*t.scale.y+t.offset.y,t.sourceEvents.mousemove=e},t.mousedown=function(e){var i=n._getRelativeMousePosition(e,t.element,t.pixelRatio);e.changedTouches?(t.button=0,e.preventDefault()):t.button=e.button,t.absolute.x=i.x,t.absolute.y=i.y,t.position.x=t.absolute.x*t.scale.x+t.offset.x,t.position.y=t.absolute.y*t.scale.y+t.offset.y,t.mousedownPosition.x=t.position.x,t.mousedownPosition.y=t.position.y,t.sourceEvents.mousedown=e},t.mouseup=function(e){var i=n._getRelativeMousePosition(e,t.element,t.pixelRatio);e.changedTouches&&e.preventDefault(),t.button=-1,t.absolute.x=i.x,t.absolute.y=i.y,t.position.x=t.absolute.x*t.scale.x+t.offset.x,t.position.y=t.absolute.y*t.scale.y+t.offset.y,t.mouseupPosition.x=t.position.x,t.mouseupPosition.y=t.position.y,t.sourceEvents.mouseup=e},t.mousewheel=function(e){t.wheelDelta=Math.max(-1,Math.min(1,e.wheelDelta||-e.detail)),e.preventDefault()},n.setElement(t,t.element),t},n.setElement=function(e,t){e.element=t,t.addEventListener("mousemove",e.mousemove),t.addEventListener("mousedown",e.mousedown),t.addEventListener("mouseup",e.mouseup),t.addEventListener("mousewheel",e.mousewheel),t.addEventListener("DOMMouseScroll",e.mousewheel),t.addEventListener("touchmove",e.mousemove),t.addEventListener("touchstart",e.mousedown),t.addEventListener("touchend",e.mouseup)},n.clearSourceEvents=function(e){e.sourceEvents.mousemove=null,e.sourceEvents.mousedown=null,e.sourceEvents.mouseup=null,e.sourceEvents.mousewheel=null,e.wheelDelta=0},n.setOffset=function(e,t){e.offset.x=t.x,e.offset.y=t.y,e.position.x=e.absolute.x*e.scale.x+e.offset.x,e.position.y=e.absolute.y*e.scale.y+e.offset.y},n.setScale=function(e,t){e.scale.x=t.x,e.scale.y=t.y,e.position.x=e.absolute.x*e.scale.x+e.offset.x,e.position.y=e.absolute.y*e.scale.y+e.offset.y},n._getRelativeMousePosition=function(e,t,i){var n,r,s=t.getBoundingClientRect(),o=document.documentElement||document.body.parentNode||document.body,a=void 0!==window.pageXOffset?window.pageXOffset:o.scrollLeft,l=void 0!==window.pageYOffset?window.pageYOffset:o.scrollTop,h=e.changedTouches;return h?(n=h[0].pageX-s.left-a,r=h[0].pageY-s.top-l):(n=e.pageX-s.left-a,r=e.pageY-s.top-l),{x:n/(t.clientWidth/(t.width||t.clientWidth)*i),y:r/(t.clientHeight/(t.height||t.clientHeight)*i)}}},function(e,t,i){var n={};e.exports=n;var r=i(0);n._registry={},n.register=function(e){if(n.isPlugin(e)||r.warn("Plugin.register:",n.toString(e),"does not implement all required fields."),e.name in n._registry){var t=n._registry[e.name],i=n.versionParse(e.version).number,s=n.versionParse(t.version).number;i>s?(r.warn("Plugin.register:",n.toString(t),"was upgraded to",n.toString(e)),n._registry[e.name]=e):i<s?r.warn("Plugin.register:",n.toString(t),"can not be downgraded to",n.toString(e)):e!==t&&r.warn("Plugin.register:",n.toString(e),"is already registered to different plugin object")}else n._registry[e.name]=e;return e},n.resolve=function(e){return n._registry[n.dependencyParse(e).name]},n.toString=function(e){return"string"==typeof e?e:(e.name||"anonymous")+"@"+(e.version||e.range||"0.0.0")},n.isPlugin=function(e){return e&&e.name&&e.version&&e.install},n.isUsed=function(e,t){return e.used.indexOf(t)>-1},n.isFor=function(e,t){var i=e.for&&n.dependencyParse(e.for);return!e.for||t.name===i.name&&n.versionSatisfies(t.version,i.range)},n.use=function(e,t){if(e.uses=(e.uses||[]).concat(t||[]),0!==e.uses.length){for(var i=n.dependencies(e),s=r.topologicalSort(i),o=[],a=0;a<s.length;a+=1)if(s[a]!==e.name){var l=n.resolve(s[a]);l?n.isUsed(e,l.name)||(n.isFor(l,e)||(r.warn("Plugin.use:",n.toString(l),"is for",l.for,"but installed on",n.toString(e)+"."),l._warned=!0),l.install?l.install(e):(r.warn("Plugin.use:",n.toString(l),"does not specify an install function."),l._warned=!0),l._warned?(o.push(" "+n.toString(l)),delete l._warned):o.push(" "+n.toString(l)),e.used.push(l.name)):o.push(" "+s[a])}o.length>0&&r.info(o.join("  "))}else r.warn("Plugin.use:",n.toString(e),"does not specify any dependencies to install.")},n.dependencies=function(e,t){var i=n.dependencyParse(e),s=i.name;if(!(s in(t=t||{}))){e=n.resolve(e)||e,t[s]=r.map(e.uses||[],(function(t){n.isPlugin(t)&&n.register(t);var s=n.dependencyParse(t),o=n.resolve(t);return o&&!n.versionSatisfies(o.version,s.range)?(r.warn("Plugin.dependencies:",n.toString(o),"does not satisfy",n.toString(s),"used by",n.toString(i)+"."),o._warned=!0,e._warned=!0):o||(r.warn("Plugin.dependencies:",n.toString(t),"used by",n.toString(i),"could not be resolved."),e._warned=!0),s.name}));for(var o=0;o<t[s].length;o+=1)n.dependencies(t[s][o],t);return t}},n.dependencyParse=function(e){return r.isString(e)?(/^[\w-]+(@(\*|[\^~]?\d+\.\d+\.\d+(-[0-9A-Za-z-+]+)?))?$/.test(e)||r.warn("Plugin.dependencyParse:",e,"is not a valid dependency string."),{name:e.split("@")[0],range:e.split("@")[1]||"*"}):{name:e.name,range:e.range||e.version}},n.versionParse=function(e){var t=/^(\*)|(\^|~|>=|>)?\s*((\d+)\.(\d+)\.(\d+))(-[0-9A-Za-z-+]+)?$/;t.test(e)||r.warn("Plugin.versionParse:",e,"is not a valid version or range.");var i=t.exec(e),n=Number(i[4]),s=Number(i[5]),o=Number(i[6]);return{isRange:Boolean(i[1]||i[2]),version:i[3],range:e,operator:i[1]||i[2]||"",major:n,minor:s,patch:o,parts:[n,s,o],prerelease:i[7],number:1e8*n+1e4*s+o}},n.versionSatisfies=function(e,t){t=t||"*";var i=n.versionParse(t),r=n.versionParse(e);if(i.isRange){if("*"===i.operator||"*"===e)return!0;if(">"===i.operator)return r.number>i.number;if(">="===i.operator)return r.number>=i.number;if("~"===i.operator)return r.major===i.major&&r.minor===i.minor&&r.patch>=i.patch;if("^"===i.operator)return i.major>0?r.major===i.major&&r.number>=i.number:i.minor>0?r.minor===i.minor&&r.patch>=i.patch:r.patch===i.patch}return e===t||"*"===e}},function(e,t){var i={};e.exports=i,i.create=function(e){return{vertex:e,normalImpulse:0,tangentImpulse:0}}},function(e,t,i){var n={};e.exports=n;var r=i(7),s=i(18),o=i(13),a=i(19),l=i(5),h=i(6),c=i(10),u=i(0),d=i(4);n.create=function(e){e=e||{};var t=u.extend({positionIterations:6,velocityIterations:4,constraintIterations:2,enableSleeping:!1,events:[],plugin:{},gravity:{x:0,y:1,scale:.001},timing:{timestamp:0,timeScale:1,lastDelta:0,lastElapsed:0}},e);return t.world=e.world||h.create({label:"World"}),t.pairs=e.pairs||a.create(),t.detector=e.detector||o.create(),t.grid={buckets:[]},t.world.gravity=t.gravity,t.broadphase=t.grid,t.metrics={},t},n.update=function(e,t){var i,d=u.now(),f=e.world,p=e.detector,g=e.pairs,m=e.timing,y=m.timestamp;t=void 0!==t?t:u._baseDelta,t*=m.timeScale,m.timestamp+=t,m.lastDelta=t;var _={timestamp:m.timestamp,delta:t};l.trigger(e,"beforeUpdate",_);var v=h.allBodies(f),x=h.allConstraints(f);for(f.isModified&&(o.setBodies(p,v),h.setModified(f,!1,!1,!0)),e.enableSleeping&&r.update(v,t),n._bodiesApplyGravity(v,e.gravity),t>0&&n._bodiesUpdate(v,t),c.preSolveAll(v),i=0;i<e.constraintIterations;i++)c.solveAll(x,t);c.postSolveAll(v),p.pairs=e.pairs;var b=o.collisions(p);a.update(g,b,y),e.enableSleeping&&r.afterCollisions(g.list),g.collisionStart.length>0&&l.trigger(e,"collisionStart",{pairs:g.collisionStart});var w=u.clamp(20/e.positionIterations,0,1);for(s.preSolvePosition(g.list),i=0;i<e.positionIterations;i++)s.solvePosition(g.list,t,w);for(s.postSolvePosition(v),c.preSolveAll(v),i=0;i<e.constraintIterations;i++)c.solveAll(x,t);for(c.postSolveAll(v),s.preSolveVelocity(g.list),i=0;i<e.velocityIterations;i++)s.solveVelocity(g.list,t);return n._bodiesUpdateVelocities(v),g.collisionActive.length>0&&l.trigger(e,"collisionActive",{pairs:g.collisionActive}),g.collisionEnd.length>0&&l.trigger(e,"collisionEnd",{pairs:g.collisionEnd}),n._bodiesClearForces(v),l.trigger(e,"afterUpdate",_),e.timing.lastElapsed=u.now()-d,e},n.merge=function(e,t){if(u.extend(e,t),t.world){e.world=t.world,n.clear(e);for(var i=h.allBodies(e.world),s=0;s<i.length;s++){var o=i[s];r.set(o,!1),o.id=u.nextId()}}},n.clear=function(e){a.clear(e.pairs),o.clear(e.detector)},n._bodiesClearForces=function(e){for(var t=e.length,i=0;i<t;i++){var n=e[i];n.force.x=0,n.force.y=0,n.torque=0}},n._bodiesApplyGravity=function(e,t){var i=void 0!==t.scale?t.scale:.001,n=e.length;if((0!==t.x||0!==t.y)&&0!==i)for(var r=0;r<n;r++){var s=e[r];s.isStatic||s.isSleeping||(s.force.y+=s.mass*t.y*i,s.force.x+=s.mass*t.x*i)}},n._bodiesUpdate=function(e,t){for(var i=e.length,n=0;n<i;n++){var r=e[n];r.isStatic||r.isSleeping||d.update(r,t)}},n._bodiesUpdateVelocities=function(e){for(var t=e.length,i=0;i<t;i++)d.updateVelocities(e[i])}},function(e,t,i){var n={};e.exports=n;var r=i(3),s=i(0),o=i(1);n._restingThresh=2,n._restingThreshTangent=Math.sqrt(6),n._positionDampen=.9,n._positionWarming=.8,n._frictionNormalMultiplier=5,n._frictionMaxStatic=Number.MAX_VALUE,n.preSolvePosition=function(e){var t,i,n,r=e.length;for(t=0;t<r;t++)(i=e[t]).isActive&&(n=i.activeContacts.length,i.collision.parentA.totalContacts+=n,i.collision.parentB.totalContacts+=n)},n.solvePosition=function(e,t,i){var r,o,a,l,h,c,u,d,f=n._positionDampen*(i||1),p=s.clamp(t/s._baseDelta,0,1),g=e.length;for(r=0;r<g;r++)(o=e[r]).isActive&&!o.isSensor&&(l=(a=o.collision).parentA,h=a.parentB,c=a.normal,o.separation=c.x*(h.positionImpulse.x+a.penetration.x-l.positionImpulse.x)+c.y*(h.positionImpulse.y+a.penetration.y-l.positionImpulse.y));for(r=0;r<g;r++)(o=e[r]).isActive&&!o.isSensor&&(l=(a=o.collision).parentA,h=a.parentB,c=a.normal,d=o.separation-o.slop*p,(l.isStatic||h.isStatic)&&(d*=2),l.isStatic||l.isSleeping||(u=f/l.totalContacts,l.positionImpulse.x+=c.x*d*u,l.positionImpulse.y+=c.y*d*u),h.isStatic||h.isSleeping||(u=f/h.totalContacts,h.positionImpulse.x-=c.x*d*u,h.positionImpulse.y-=c.y*d*u))},n.postSolvePosition=function(e){for(var t=n._positionWarming,i=e.length,s=r.translate,a=o.update,l=0;l<i;l++){var h=e[l],c=h.positionImpulse,u=c.x,d=c.y,f=h.velocity;if(h.totalContacts=0,0!==u||0!==d){for(var p=0;p<h.parts.length;p++){var g=h.parts[p];s(g.vertices,c),a(g.bounds,g.vertices,f),g.position.x+=u,g.position.y+=d}h.positionPrev.x+=u,h.positionPrev.y+=d,u*f.x+d*f.y<0?(c.x=0,c.y=0):(c.x*=t,c.y*=t)}}},n.preSolveVelocity=function(e){var t,i,n=e.length;for(t=0;t<n;t++){var r=e[t];if(r.isActive&&!r.isSensor){var s=r.activeContacts,o=s.length,a=r.collision,l=a.parentA,h=a.parentB,c=a.normal,u=a.tangent;for(i=0;i<o;i++){var d=s[i],f=d.vertex,p=d.normalImpulse,g=d.tangentImpulse;if(0!==p||0!==g){var m=c.x*p+u.x*g,y=c.y*p+u.y*g;l.isStatic||l.isSleeping||(l.positionPrev.x+=m*l.inverseMass,l.positionPrev.y+=y*l.inverseMass,l.anglePrev+=l.inverseInertia*((f.x-l.position.x)*y-(f.y-l.position.y)*m)),h.isStatic||h.isSleeping||(h.positionPrev.x-=m*h.inverseMass,h.positionPrev.y-=y*h.inverseMass,h.anglePrev-=h.inverseInertia*((f.x-h.position.x)*y-(f.y-h.position.y)*m))}}}}},n.solveVelocity=function(e,t){var i,r,o,a,l=t/s._baseDelta,h=l*l*l,c=-n._restingThresh*l,u=n._restingThreshTangent,d=n._frictionNormalMultiplier*l,f=n._frictionMaxStatic,p=e.length;for(o=0;o<p;o++){var g=e[o];if(g.isActive&&!g.isSensor){var m=g.collision,y=m.parentA,_=m.parentB,v=y.velocity,x=_.velocity,b=m.normal.x,w=m.normal.y,S=m.tangent.x,k=m.tangent.y,A=g.activeContacts,T=A.length,C=1/T,R=y.inverseMass+_.inverseMass,E=g.friction*g.frictionStatic*d;for(v.x=y.position.x-y.positionPrev.x,v.y=y.position.y-y.positionPrev.y,x.x=_.position.x-_.positionPrev.x,x.y=_.position.y-_.positionPrev.y,y.angularVelocity=y.angle-y.anglePrev,_.angularVelocity=_.angle-_.anglePrev,a=0;a<T;a++){var P=A[a],M=P.vertex,j=M.x-y.position.x,F=M.y-y.position.y,L=M.x-_.position.x,O=M.y-_.position.y,I=v.x-F*y.angularVelocity,B=v.y+j*y.angularVelocity,N=I-(x.x-O*_.angularVelocity),D=B-(x.y+L*_.angularVelocity),H=b*N+w*D,V=S*N+k*D,z=g.separation+H,q=Math.min(z,1),W=(q=z<0?0:q)*E;V<-W||V>W?(r=V>0?V:-V,(i=g.friction*(V>0?1:-1)*h)<-r?i=-r:i>r&&(i=r)):(i=V,r=f);var U=j*w-F*b,X=L*w-O*b,$=C/(R+y.inverseInertia*U*U+_.inverseInertia*X*X),Y=(1+g.restitution)*H*$;if(i*=$,H<c)P.normalImpulse=0;else{var G=P.normalImpulse;P.normalImpulse+=Y,P.normalImpulse>0&&(P.normalImpulse=0),Y=P.normalImpulse-G}if(V<-u||V>u)P.tangentImpulse=0;else{var K=P.tangentImpulse;P.tangentImpulse+=i,P.tangentImpulse<-r&&(P.tangentImpulse=-r),P.tangentImpulse>r&&(P.tangentImpulse=r),i=P.tangentImpulse-K}var Q=b*Y+S*i,J=w*Y+k*i;y.isStatic||y.isSleeping||(y.positionPrev.x+=Q*y.inverseMass,y.positionPrev.y+=J*y.inverseMass,y.anglePrev+=(j*J-F*Q)*y.inverseInertia),_.isStatic||_.isSleeping||(_.positionPrev.x-=Q*_.inverseMass,_.positionPrev.y-=J*_.inverseMass,_.anglePrev-=(L*J-O*Q)*_.inverseInertia)}}}}},function(e,t,i){var n={};e.exports=n;var r=i(9),s=i(0);n.create=function(e){return s.extend({table:{},list:[],collisionStart:[],collisionActive:[],collisionEnd:[]},e)},n.update=function(e,t,i){var n,s,o,a,l=e.list,h=l.length,c=e.table,u=t.length,d=e.collisionStart,f=e.collisionEnd,p=e.collisionActive;for(d.length=0,f.length=0,p.length=0,a=0;a<h;a++)l[a].confirmedActive=!1;for(a=0;a<u;a++)(o=(n=t[a]).pair)?(o.isActive?p.push(o):d.push(o),r.update(o,n,i),o.confirmedActive=!0):(c[(o=r.create(n,i)).id]=o,d.push(o),l.push(o));var g=[];for(h=l.length,a=0;a<h;a++)(o=l[a]).confirmedActive||(r.setActive(o,!1,i),f.push(o),o.collision.bodyA.isSleeping||o.collision.bodyB.isSleeping||g.push(a));for(a=0;a<g.length;a++)o=l[s=g[a]-a],l.splice(s,1),delete c[o.id]},n.clear=function(e){return e.table={},e.list.length=0,e.collisionStart.length=0,e.collisionActive.length=0,e.collisionEnd.length=0,e}},function(e,t,i){var n=e.exports=i(21);n.Axes=i(11),n.Bodies=i(12),n.Body=i(4),n.Bounds=i(1),n.Collision=i(8),n.Common=i(0),n.Composite=i(6),n.Composites=i(22),n.Constraint=i(10),n.Contact=i(16),n.Detector=i(13),n.Engine=i(17),n.Events=i(5),n.Grid=i(23),n.Mouse=i(14),n.MouseConstraint=i(24),n.Pair=i(9),n.Pairs=i(19),n.Plugin=i(15),n.Query=i(25),n.Render=i(26),n.Resolver=i(18),n.Runner=i(27),n.SAT=i(28),n.Sleeping=i(7),n.Svg=i(29),n.Vector=i(2),n.Vertices=i(3),n.World=i(30),n.Engine.run=n.Runner.run,n.Common.deprecated(n.Engine,"run","Engine.run  use Matter.Runner.run(engine) instead")},function(e,t,i){var n={};e.exports=n;var r=i(15),s=i(0);n.name="matter-js",n.version="0.19.0",n.uses=[],n.used=[],n.use=function(){r.use(n,Array.prototype.slice.call(arguments))},n.before=function(e,t){return e=e.replace(/^Matter./,""),s.chainPathBefore(n,e,t)},n.after=function(e,t){return e=e.replace(/^Matter./,""),s.chainPathAfter(n,e,t)}},function(e,t,i){var n={};e.exports=n;var r=i(6),s=i(10),o=i(0),a=i(4),l=i(12),h=o.deprecated;n.stack=function(e,t,i,n,s,o,l){for(var h,c=r.create({label:"Stack"}),u=e,d=t,f=0,p=0;p<n;p++){for(var g=0,m=0;m<i;m++){var y=l(u,d,m,p,h,f);if(y){var _=y.bounds.max.y-y.bounds.min.y,v=y.bounds.max.x-y.bounds.min.x;_>g&&(g=_),a.translate(y,{x:.5*v,y:.5*_}),u=y.bounds.max.x+s,r.addBody(c,y),h=y,f+=1}else u+=s}d+=g+o,u=e}return c},n.chain=function(e,t,i,n,a,l){for(var h=e.bodies,c=1;c<h.length;c++){var u=h[c-1],d=h[c],f=u.bounds.max.y-u.bounds.min.y,p=u.bounds.max.x-u.bounds.min.x,g=d.bounds.max.y-d.bounds.min.y,m={bodyA:u,pointA:{x:p*t,y:f*i},bodyB:d,pointB:{x:(d.bounds.max.x-d.bounds.min.x)*n,y:g*a}},y=o.extend(m,l);r.addConstraint(e,s.create(y))}return e.label+=" Chain",e},n.mesh=function(e,t,i,n,a){var l,h,c,u,d,f=e.bodies;for(l=0;l<i;l++){for(h=1;h<t;h++)c=f[h-1+l*t],u=f[h+l*t],r.addConstraint(e,s.create(o.extend({bodyA:c,bodyB:u},a)));if(l>0)for(h=0;h<t;h++)c=f[h+(l-1)*t],u=f[h+l*t],r.addConstraint(e,s.create(o.extend({bodyA:c,bodyB:u},a))),n&&h>0&&(d=f[h-1+(l-1)*t],r.addConstraint(e,s.create(o.extend({bodyA:d,bodyB:u},a)))),n&&h<t-1&&(d=f[h+1+(l-1)*t],r.addConstraint(e,s.create(o.extend({bodyA:d,bodyB:u},a))))}return e.label+=" Mesh",e},n.pyramid=function(e,t,i,r,s,o,l){return n.stack(e,t,i,r,s,o,(function(t,n,o,h,c,u){var d=Math.min(r,Math.ceil(i/2)),f=c?c.bounds.max.x-c.bounds.min.x:0;if(!(h>d||o<(h=d-h)||o>i-1-h))return 1===u&&a.translate(c,{x:(o+(i%2==1?1:-1))*f,y:0}),l(e+(c?o*f:0)+o*s,n,o,h,c,u)}))},n.newtonsCradle=function(e,t,i,n,o){for(var a=r.create({label:"Newtons Cradle"}),h=0;h<i;h++){var c=l.circle(e+h*(1.9*n),t+o,n,{inertia:1/0,restitution:1,friction:0,frictionAir:1e-4,slop:1}),u=s.create({pointA:{x:e+h*(1.9*n),y:t},bodyB:c});r.addBody(a,c),r.addConstraint(a,u)}return a},h(n,"newtonsCradle","Composites.newtonsCradle  moved to newtonsCradle example"),n.car=function(e,t,i,n,o){var h=a.nextGroup(!0),c=.5*-i+20,u=.5*i-20,d=r.create({label:"Car"}),f=l.rectangle(e,t,i,n,{collisionFilter:{group:h},chamfer:{radius:.5*n},density:2e-4}),p=l.circle(e+c,t+0,o,{collisionFilter:{group:h},friction:.8}),g=l.circle(e+u,t+0,o,{collisionFilter:{group:h},friction:.8}),m=s.create({bodyB:f,pointB:{x:c,y:0},bodyA:p,stiffness:1,length:0}),y=s.create({bodyB:f,pointB:{x:u,y:0},bodyA:g,stiffness:1,length:0});return r.addBody(d,f),r.addBody(d,p),r.addBody(d,g),r.addConstraint(d,m),r.addConstraint(d,y),d},h(n,"car","Composites.car  moved to car example"),n.softBody=function(e,t,i,r,s,a,h,c,u,d){u=o.extend({inertia:1/0},u),d=o.extend({stiffness:.2,render:{type:"line",anchors:!1}},d);var f=n.stack(e,t,i,r,s,a,(function(e,t){return l.circle(e,t,c,u)}));return n.mesh(f,i,r,h,d),f.label="Soft Body",f},h(n,"softBody","Composites.softBody  moved to softBody and cloth examples")},function(e,t,i){var n={};e.exports=n;var r=i(9),s=i(0),o=s.deprecated;n.create=function(e){return s.extend({buckets:{},pairs:{},pairsList:[],bucketWidth:48,bucketHeight:48},e)},n.update=function(e,t,i,r){var s,o,a,l,h,c=i.world,u=e.buckets,d=!1;for(s=0;s<t.length;s++){var f=t[s];if((!f.isSleeping||r)&&(!c.bounds||!(f.bounds.max.x<c.bounds.min.x||f.bounds.min.x>c.bounds.max.x||f.bounds.max.y<c.bounds.min.y||f.bounds.min.y>c.bounds.max.y))){var p=n._getRegion(e,f);if(!f.region||p.id!==f.region.id||r){f.region&&!r||(f.region=p);var g=n._regionUnion(p,f.region);for(o=g.startCol;o<=g.endCol;o++)for(a=g.startRow;a<=g.endRow;a++){l=u[h=n._getBucketId(o,a)];var m=o>=p.startCol&&o<=p.endCol&&a>=p.startRow&&a<=p.endRow,y=o>=f.region.startCol&&o<=f.region.endCol&&a>=f.region.startRow&&a<=f.region.endRow;!m&&y&&y&&l&&n._bucketRemoveBody(e,l,f),(f.region===p||m&&!y||r)&&(l||(l=n._createBucket(u,h)),n._bucketAddBody(e,l,f))}f.region=p,d=!0}}}d&&(e.pairsList=n._createActivePairsList(e))},o(n,"update","Grid.update  replaced by Matter.Detector"),n.clear=function(e){e.buckets={},e.pairs={},e.pairsList=[]},o(n,"clear","Grid.clear  replaced by Matter.Detector"),n._regionUnion=function(e,t){var i=Math.min(e.startCol,t.startCol),r=Math.max(e.endCol,t.endCol),s=Math.min(e.startRow,t.startRow),o=Math.max(e.endRow,t.endRow);return n._createRegion(i,r,s,o)},n._getRegion=function(e,t){var i=t.bounds,r=Math.floor(i.min.x/e.bucketWidth),s=Math.floor(i.max.x/e.bucketWidth),o=Math.floor(i.min.y/e.bucketHeight),a=Math.floor(i.max.y/e.bucketHeight);return n._createRegion(r,s,o,a)},n._createRegion=function(e,t,i,n){return{id:e+","+t+","+i+","+n,startCol:e,endCol:t,startRow:i,endRow:n}},n._getBucketId=function(e,t){return"C"+e+"R"+t},n._createBucket=function(e,t){return e[t]=[]},n._bucketAddBody=function(e,t,i){var n,s=e.pairs,o=r.id,a=t.length;for(n=0;n<a;n++){var l=t[n];if(!(i.id===l.id||i.isStatic&&l.isStatic)){var h=o(i,l),c=s[h];c?c[2]+=1:s[h]=[i,l,1]}}t.push(i)},n._bucketRemoveBody=function(e,t,i){var n,o=e.pairs,a=r.id;t.splice(s.indexOf(t,i),1);var l=t.length;for(n=0;n<l;n++){var h=o[a(i,t[n])];h&&(h[2]-=1)}},n._createActivePairsList=function(e){var t,i,n=e.pairs,r=s.keys(n),o=r.length,a=[];for(i=0;i<o;i++)(t=n[r[i]])[2]>0?a.push(t):delete n[r[i]];return a}},function(e,t,i){var n={};e.exports=n;var r=i(3),s=i(7),o=i(14),a=i(5),l=i(13),h=i(10),c=i(6),u=i(0),d=i(1);n.create=function(e,t){var i=(e?e.mouse:null)||(t?t.mouse:null);i||(e&&e.render&&e.render.canvas?i=o.create(e.render.canvas):t&&t.element?i=o.create(t.element):(i=o.create(),u.warn("MouseConstraint.create: options.mouse was undefined, options.element was undefined, may not function as expected")));var r={type:"mouseConstraint",mouse:i,element:null,body:null,constraint:h.create({label:"Mouse Constraint",pointA:i.position,pointB:{x:0,y:0},length:.01,stiffness:.1,angularStiffness:1,render:{strokeStyle:"#90EE90",lineWidth:3}}),collisionFilter:{category:1,mask:4294967295,group:0}},s=u.extend(r,t);return a.on(e,"beforeUpdate",(function(){var t=c.allBodies(e.world);n.update(s,t),n._triggerEvents(s)})),s},n.update=function(e,t){var i=e.mouse,n=e.constraint,o=e.body;if(0===i.button){if(n.bodyB)s.set(n.bodyB,!1),n.pointA=i.position;else for(var h=0;h<t.length;h++)if(o=t[h],d.contains(o.bounds,i.position)&&l.canCollide(o.collisionFilter,e.collisionFilter))for(var c=o.parts.length>1?1:0;c<o.parts.length;c++){var u=o.parts[c];if(r.contains(u.vertices,i.position)){n.pointA=i.position,n.bodyB=e.body=o,n.pointB={x:i.position.x-o.position.x,y:i.position.y-o.position.y},n.angleB=o.angle,s.set(o,!1),a.trigger(e,"startdrag",{mouse:i,body:o});break}}}else n.bodyB=e.body=null,n.pointB=null,o&&a.trigger(e,"enddrag",{mouse:i,body:o})},n._triggerEvents=function(e){var t=e.mouse,i=t.sourceEvents;i.mousemove&&a.trigger(e,"mousemove",{mouse:t}),i.mousedown&&a.trigger(e,"mousedown",{mouse:t}),i.mouseup&&a.trigger(e,"mouseup",{mouse:t}),o.clearSourceEvents(t)}},function(e,t,i){var n={};e.exports=n;var r=i(2),s=i(8),o=i(1),a=i(12),l=i(3);n.collides=function(e,t){for(var i=[],n=t.length,r=e.bounds,a=s.collides,l=o.overlaps,h=0;h<n;h++){var c=t[h],u=c.parts.length,d=1===u?0:1;if(l(c.bounds,r))for(var f=d;f<u;f++){var p=c.parts[f];if(l(p.bounds,r)){var g=a(p,e);if(g){i.push(g);break}}}}return i},n.ray=function(e,t,i,s){s=s||1e-100;for(var o=r.angle(t,i),l=r.magnitude(r.sub(t,i)),h=.5*(i.x+t.x),c=.5*(i.y+t.y),u=a.rectangle(h,c,l,s,{angle:o}),d=n.collides(u,e),f=0;f<d.length;f+=1){var p=d[f];p.body=p.bodyB=p.bodyA}return d},n.region=function(e,t,i){for(var n=[],r=0;r<e.length;r++){var s=e[r],a=o.overlaps(s.bounds,t);(a&&!i||!a&&i)&&n.push(s)}return n},n.point=function(e,t){for(var i=[],n=0;n<e.length;n++){var r=e[n];if(o.contains(r.bounds,t))for(var s=1===r.parts.length?0:1;s<r.parts.length;s++){var a=r.parts[s];if(o.contains(a.bounds,t)&&l.contains(a.vertices,t)){i.push(r);break}}}return i}},function(e,t,i){var n={};e.exports=n;var r=i(4),s=i(0),o=i(6),a=i(1),l=i(5),h=i(2),c=i(14);!function(){var e,t;"undefined"!=typeof window&&(e=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame||function(e){window.setTimeout((function(){e(s.now())}),1e3/60)},t=window.cancelAnimationFrame||window.mozCancelAnimationFrame||window.webkitCancelAnimationFrame||window.msCancelAnimationFrame),n._goodFps=30,n._goodDelta=1e3/60,n.create=function(e){var t={engine:null,element:null,canvas:null,mouse:null,frameRequestId:null,timing:{historySize:60,delta:0,deltaHistory:[],lastTime:0,lastTimestamp:0,lastElapsed:0,timestampElapsed:0,timestampElapsedHistory:[],engineDeltaHistory:[],engineElapsedHistory:[],elapsedHistory:[]},options:{width:800,height:600,pixelRatio:1,background:"#14151f",wireframeBackground:"#14151f",hasBounds:!!e.bounds,enabled:!0,wireframes:!0,showSleeping:!0,showDebug:!1,showStats:!1,showPerformance:!1,showBounds:!1,showVelocity:!1,showCollisions:!1,showSeparations:!1,showAxes:!1,showPositions:!1,showAngleIndicator:!1,showIds:!1,showVertexNumbers:!1,showConvexHulls:!1,showInternalEdges:!1,showMousePosition:!1}},i=s.extend(t,e);return i.canvas&&(i.canvas.width=i.options.width||i.canvas.width,i.canvas.height=i.options.height||i.canvas.height),i.mouse=e.mouse,i.engine=e.engine,i.canvas=i.canvas||d(i.options.width,i.options.height),i.context=i.canvas.getContext("2d"),i.textures={},i.bounds=i.bounds||{min:{x:0,y:0},max:{x:i.canvas.width,y:i.canvas.height}},i.controller=n,i.options.showBroadphase=!1,1!==i.options.pixelRatio&&n.setPixelRatio(i,i.options.pixelRatio),s.isElement(i.element)&&i.element.appendChild(i.canvas),i},n.run=function(t){!function r(s){t.frameRequestId=e(r),i(t,s),n.world(t,s),(t.options.showStats||t.options.showDebug)&&n.stats(t,t.context,s),(t.options.showPerformance||t.options.showDebug)&&n.performance(t,t.context,s)}()},n.stop=function(e){t(e.frameRequestId)},n.setPixelRatio=function(e,t){var i=e.options,n=e.canvas;"auto"===t&&(t=f(n)),i.pixelRatio=t,n.setAttribute("data-pixel-ratio",t),n.width=i.width*t,n.height=i.height*t,n.style.width=i.width+"px",n.style.height=i.height+"px"},n.lookAt=function(e,t,i,n){n=void 0===n||n,t=s.isArray(t)?t:[t],i=i||{x:0,y:0};for(var r={min:{x:1/0,y:1/0},max:{x:-1/0,y:-1/0}},o=0;o<t.length;o+=1){var a=t[o],l=a.bounds?a.bounds.min:a.min||a.position||a,h=a.bounds?a.bounds.max:a.max||a.position||a;l&&h&&(l.x<r.min.x&&(r.min.x=l.x),h.x>r.max.x&&(r.max.x=h.x),l.y<r.min.y&&(r.min.y=l.y),h.y>r.max.y&&(r.max.y=h.y))}var u=r.max.x-r.min.x+2*i.x,d=r.max.y-r.min.y+2*i.y,f=e.canvas.height,p=e.canvas.width/f,g=u/d,m=1,y=1;g>p?y=g/p:m=p/g,e.options.hasBounds=!0,e.bounds.min.x=r.min.x,e.bounds.max.x=r.min.x+u*m,e.bounds.min.y=r.min.y,e.bounds.max.y=r.min.y+d*y,n&&(e.bounds.min.x+=.5*u-u*m*.5,e.bounds.max.x+=.5*u-u*m*.5,e.bounds.min.y+=.5*d-d*y*.5,e.bounds.max.y+=.5*d-d*y*.5),e.bounds.min.x-=i.x,e.bounds.max.x-=i.x,e.bounds.min.y-=i.y,e.bounds.max.y-=i.y,e.mouse&&(c.setScale(e.mouse,{x:(e.bounds.max.x-e.bounds.min.x)/e.canvas.width,y:(e.bounds.max.y-e.bounds.min.y)/e.canvas.height}),c.setOffset(e.mouse,e.bounds.min))},n.startViewTransform=function(e){var t=e.bounds.max.x-e.bounds.min.x,i=e.bounds.max.y-e.bounds.min.y,n=t/e.options.width,r=i/e.options.height;e.context.setTransform(e.options.pixelRatio/n,0,0,e.options.pixelRatio/r,0,0),e.context.translate(-e.bounds.min.x,-e.bounds.min.y)},n.endViewTransform=function(e){e.context.setTransform(e.options.pixelRatio,0,0,e.options.pixelRatio,0,0)},n.world=function(e,t){var i,r=s.now(),u=e.engine,d=u.world,f=e.canvas,p=e.context,m=e.options,y=e.timing,_=o.allBodies(d),v=o.allConstraints(d),x=m.wireframes?m.wireframeBackground:m.background,b=[],w=[],S={timestamp:u.timing.timestamp};if(l.trigger(e,"beforeRender",S),e.currentBackground!==x&&g(e,x),p.globalCompositeOperation="source-in",p.fillStyle="transparent",p.fillRect(0,0,f.width,f.height),p.globalCompositeOperation="source-over",m.hasBounds){for(i=0;i<_.length;i++){var k=_[i];a.overlaps(k.bounds,e.bounds)&&b.push(k)}for(i=0;i<v.length;i++){var A=v[i],T=A.bodyA,C=A.bodyB,R=A.pointA,E=A.pointB;T&&(R=h.add(T.position,A.pointA)),C&&(E=h.add(C.position,A.pointB)),R&&E&&(a.contains(e.bounds,R)||a.contains(e.bounds,E))&&w.push(A)}n.startViewTransform(e),e.mouse&&(c.setScale(e.mouse,{x:(e.bounds.max.x-e.bounds.min.x)/e.options.width,y:(e.bounds.max.y-e.bounds.min.y)/e.options.height}),c.setOffset(e.mouse,e.bounds.min))}else w=v,b=_,1!==e.options.pixelRatio&&e.context.setTransform(e.options.pixelRatio,0,0,e.options.pixelRatio,0,0);!m.wireframes||u.enableSleeping&&m.showSleeping?n.bodies(e,b,p):(m.showConvexHulls&&n.bodyConvexHulls(e,b,p),n.bodyWireframes(e,b,p)),m.showBounds&&n.bodyBounds(e,b,p),(m.showAxes||m.showAngleIndicator)&&n.bodyAxes(e,b,p),m.showPositions&&n.bodyPositions(e,b,p),m.showVelocity&&n.bodyVelocity(e,b,p),m.showIds&&n.bodyIds(e,b,p),m.showSeparations&&n.separations(e,u.pairs.list,p),m.showCollisions&&n.collisions(e,u.pairs.list,p),m.showVertexNumbers&&n.vertexNumbers(e,b,p),m.showMousePosition&&n.mousePosition(e,e.mouse,p),n.constraints(w,p),m.hasBounds&&n.endViewTransform(e),l.trigger(e,"afterRender",S),y.lastElapsed=s.now()-r},n.stats=function(e,t,i){for(var n=e.engine,r=n.world,s=o.allBodies(r),a=0,l=0,h=0;h<s.length;h+=1)a+=s[h].parts.length;var c={Part:a,Body:s.length,Cons:o.allConstraints(r).length,Comp:o.allComposites(r).length,Pair:n.pairs.list.length};for(var u in t.fillStyle="#0e0f19",t.fillRect(l,0,302.5,44),t.font="12px Arial",t.textBaseline="top",t.textAlign="right",c){var d=c[u];t.fillStyle="#aaa",t.fillText(u,l+55,8),t.fillStyle="#eee",t.fillText(d,l+55,26),l+=55}},n.performance=function(e,t){var i=e.engine,r=e.timing,s=r.deltaHistory,o=r.elapsedHistory,a=r.timestampElapsedHistory,l=r.engineDeltaHistory,h=r.engineElapsedHistory,c=i.timing.lastDelta,d=u(s),f=u(o),p=u(l),g=u(h),m=u(a)/d||0,y=1e3/d||0;t.fillStyle="#0e0f19",t.fillRect(0,50,370,34),n.status(t,10,69,60,4,s.length,Math.round(y)+" fps",y/n._goodFps,(function(e){return s[e]/d-1})),n.status(t,82,69,60,4,l.length,c.toFixed(2)+" dt",n._goodDelta/c,(function(e){return l[e]/p-1})),n.status(t,154,69,60,4,h.length,g.toFixed(2)+" ut",1-g/n._goodFps,(function(e){return h[e]/g-1})),n.status(t,226,69,60,4,o.length,f.toFixed(2)+" rt",1-f/n._goodFps,(function(e){return o[e]/f-1})),n.status(t,298,69,60,4,a.length,m.toFixed(2)+" x",m*m*m,(function(e){return(a[e]/s[e]/m||0)-1}))},n.status=function(e,t,i,n,r,o,a,l,h){e.strokeStyle="#888",e.fillStyle="#444",e.lineWidth=1,e.fillRect(t,i+7,n,1),e.beginPath(),e.moveTo(t,i+7-r*s.clamp(.4*h(0),-2,2));for(var c=0;c<n;c+=1)e.lineTo(t+c,i+7-(c<o?r*s.clamp(.4*h(c),-2,2):0));e.stroke(),e.fillStyle="hsl("+s.clamp(25+95*l,0,120)+",100%,60%)",e.fillRect(t,i-7,4,4),e.font="12px Arial",e.textBaseline="middle",e.textAlign="right",e.fillStyle="#eee",e.fillText(a,t+n,i-5)},n.constraints=function(e,t){for(var i=t,n=0;n<e.length;n++){var r=e[n];if(r.render.visible&&r.pointA&&r.pointB){var o,a,l=r.bodyA,c=r.bodyB;if(o=l?h.add(l.position,r.pointA):r.pointA,"pin"===r.render.type)i.beginPath(),i.arc(o.x,o.y,3,0,2*Math.PI),i.closePath();else{if(a=c?h.add(c.position,r.pointB):r.pointB,i.beginPath(),i.moveTo(o.x,o.y),"spring"===r.render.type)for(var u,d=h.sub(a,o),f=h.perp(h.normalise(d)),p=Math.ceil(s.clamp(r.length/5,12,20)),g=1;g<p;g+=1)u=g%2==0?1:-1,i.lineTo(o.x+d.x*(g/p)+f.x*u*4,o.y+d.y*(g/p)+f.y*u*4);i.lineTo(a.x,a.y)}r.render.lineWidth&&(i.lineWidth=r.render.lineWidth,i.strokeStyle=r.render.strokeStyle,i.stroke()),r.render.anchors&&(i.fillStyle=r.render.strokeStyle,i.beginPath(),i.arc(o.x,o.y,3,0,2*Math.PI),i.arc(a.x,a.y,3,0,2*Math.PI),i.closePath(),i.fill())}}},n.bodies=function(e,t,i){var n,r,s,o,a=i,l=(e.engine,e.options),h=l.showInternalEdges||!l.wireframes;for(s=0;s<t.length;s++)if((n=t[s]).render.visible)for(o=n.parts.length>1?1:0;o<n.parts.length;o++)if((r=n.parts[o]).render.visible){if(l.showSleeping&&n.isSleeping?a.globalAlpha=.5*r.render.opacity:1!==r.render.opacity&&(a.globalAlpha=r.render.opacity),r.render.sprite&&r.render.sprite.texture&&!l.wireframes){var c=r.render.sprite,u=p(e,c.texture);a.translate(r.position.x,r.position.y),a.rotate(r.angle),a.drawImage(u,u.width*-c.xOffset*c.xScale,u.height*-c.yOffset*c.yScale,u.width*c.xScale,u.height*c.yScale),a.rotate(-r.angle),a.translate(-r.position.x,-r.position.y)}else{if(r.circleRadius)a.beginPath(),a.arc(r.position.x,r.position.y,r.circleRadius,0,2*Math.PI);else{a.beginPath(),a.moveTo(r.vertices[0].x,r.vertices[0].y);for(var d=1;d<r.vertices.length;d++)!r.vertices[d-1].isInternal||h?a.lineTo(r.vertices[d].x,r.vertices[d].y):a.moveTo(r.vertices[d].x,r.vertices[d].y),r.vertices[d].isInternal&&!h&&a.moveTo(r.vertices[(d+1)%r.vertices.length].x,r.vertices[(d+1)%r.vertices.length].y);a.lineTo(r.vertices[0].x,r.vertices[0].y),a.closePath()}l.wireframes?(a.lineWidth=1,a.strokeStyle="#bbb",a.stroke()):(a.fillStyle=r.render.fillStyle,r.render.lineWidth&&(a.lineWidth=r.render.lineWidth,a.strokeStyle=r.render.strokeStyle,a.stroke()),a.fill())}a.globalAlpha=1}},n.bodyWireframes=function(e,t,i){var n,r,s,o,a,l=i,h=e.options.showInternalEdges;for(l.beginPath(),s=0;s<t.length;s++)if((n=t[s]).render.visible)for(a=n.parts.length>1?1:0;a<n.parts.length;a++){for(r=n.parts[a],l.moveTo(r.vertices[0].x,r.vertices[0].y),o=1;o<r.vertices.length;o++)!r.vertices[o-1].isInternal||h?l.lineTo(r.vertices[o].x,r.vertices[o].y):l.moveTo(r.vertices[o].x,r.vertices[o].y),r.vertices[o].isInternal&&!h&&l.moveTo(r.vertices[(o+1)%r.vertices.length].x,r.vertices[(o+1)%r.vertices.length].y);l.lineTo(r.vertices[0].x,r.vertices[0].y)}l.lineWidth=1,l.strokeStyle="#bbb",l.stroke()},n.bodyConvexHulls=function(e,t,i){var n,r,s,o=i;for(o.beginPath(),r=0;r<t.length;r++)if((n=t[r]).render.visible&&1!==n.parts.length){for(o.moveTo(n.vertices[0].x,n.vertices[0].y),s=1;s<n.vertices.length;s++)o.lineTo(n.vertices[s].x,n.vertices[s].y);o.lineTo(n.vertices[0].x,n.vertices[0].y)}o.lineWidth=1,o.strokeStyle="rgba(255,255,255,0.2)",o.stroke()},n.vertexNumbers=function(e,t,i){var n,r,s,o=i;for(n=0;n<t.length;n++){var a=t[n].parts;for(s=a.length>1?1:0;s<a.length;s++){var l=a[s];for(r=0;r<l.vertices.length;r++)o.fillStyle="rgba(255,255,255,0.2)",o.fillText(n+"_"+r,l.position.x+.8*(l.vertices[r].x-l.position.x),l.position.y+.8*(l.vertices[r].y-l.position.y))}}},n.mousePosition=function(e,t,i){var n=i;n.fillStyle="rgba(255,255,255,0.8)",n.fillText(t.position.x+"  "+t.position.y,t.position.x+5,t.position.y-5)},n.bodyBounds=function(e,t,i){var n=i,r=(e.engine,e.options);n.beginPath();for(var s=0;s<t.length;s++)if(t[s].render.visible)for(var o=t[s].parts,a=o.length>1?1:0;a<o.length;a++){var l=o[a];n.rect(l.bounds.min.x,l.bounds.min.y,l.bounds.max.x-l.bounds.min.x,l.bounds.max.y-l.bounds.min.y)}r.wireframes?n.strokeStyle="rgba(255,255,255,0.08)":n.strokeStyle="rgba(0,0,0,0.1)",n.lineWidth=1,n.stroke()},n.bodyAxes=function(e,t,i){var n,r,s,o,a=i,l=(e.engine,e.options);for(a.beginPath(),r=0;r<t.length;r++){var h=t[r],c=h.parts;if(h.render.visible)if(l.showAxes)for(s=c.length>1?1:0;s<c.length;s++)for(n=c[s],o=0;o<n.axes.length;o++){var u=n.axes[o];a.moveTo(n.position.x,n.position.y),a.lineTo(n.position.x+20*u.x,n.position.y+20*u.y)}else for(s=c.length>1?1:0;s<c.length;s++)for(n=c[s],o=0;o<n.axes.length;o++)a.moveTo(n.position.x,n.position.y),a.lineTo((n.vertices[0].x+n.vertices[n.vertices.length-1].x)/2,(n.vertices[0].y+n.vertices[n.vertices.length-1].y)/2)}l.wireframes?(a.strokeStyle="indianred",a.lineWidth=1):(a.strokeStyle="rgba(255, 255, 255, 0.4)",a.globalCompositeOperation="overlay",a.lineWidth=2),a.stroke(),a.globalCompositeOperation="source-over"},n.bodyPositions=function(e,t,i){var n,r,s,o,a=i,l=(e.engine,e.options);for(a.beginPath(),s=0;s<t.length;s++)if((n=t[s]).render.visible)for(o=0;o<n.parts.length;o++)r=n.parts[o],a.arc(r.position.x,r.position.y,3,0,2*Math.PI,!1),a.closePath();for(l.wireframes?a.fillStyle="indianred":a.fillStyle="rgba(0,0,0,0.5)",a.fill(),a.beginPath(),s=0;s<t.length;s++)(n=t[s]).render.visible&&(a.arc(n.positionPrev.x,n.positionPrev.y,2,0,2*Math.PI,!1),a.closePath());a.fillStyle="rgba(255,165,0,0.8)",a.fill()},n.bodyVelocity=function(e,t,i){var n=i;n.beginPath();for(var s=0;s<t.length;s++){var o=t[s];if(o.render.visible){var a=r.getVelocity(o);n.moveTo(o.position.x,o.position.y),n.lineTo(o.position.x+a.x,o.position.y+a.y)}}n.lineWidth=3,n.strokeStyle="cornflowerblue",n.stroke()},n.bodyIds=function(e,t,i){var n,r,s=i;for(n=0;n<t.length;n++)if(t[n].render.visible){var o=t[n].parts;for(r=o.length>1?1:0;r<o.length;r++){var a=o[r];s.font="12px Arial",s.fillStyle="rgba(255,255,255,0.5)",s.fillText(a.id,a.position.x+10,a.position.y-10)}}},n.collisions=function(e,t,i){var n,r,s,o,a=i,l=e.options;for(a.beginPath(),s=0;s<t.length;s++)if((n=t[s]).isActive)for(r=n.collision,o=0;o<n.activeContacts.length;o++){var h=n.activeContacts[o].vertex;a.rect(h.x-1.5,h.y-1.5,3.5,3.5)}for(l.wireframes?a.fillStyle="rgba(255,255,255,0.7)":a.fillStyle="orange",a.fill(),a.beginPath(),s=0;s<t.length;s++)if((n=t[s]).isActive&&(r=n.collision,n.activeContacts.length>0)){var c=n.activeContacts[0].vertex.x,u=n.activeContacts[0].vertex.y;2===n.activeContacts.length&&(c=(n.activeContacts[0].vertex.x+n.activeContacts[1].vertex.x)/2,u=(n.activeContacts[0].vertex.y+n.activeContacts[1].vertex.y)/2),r.bodyB===r.supports[0].body||!0===r.bodyA.isStatic?a.moveTo(c-8*r.normal.x,u-8*r.normal.y):a.moveTo(c+8*r.normal.x,u+8*r.normal.y),a.lineTo(c,u)}l.wireframes?a.strokeStyle="rgba(255,165,0,0.7)":a.strokeStyle="orange",a.lineWidth=1,a.stroke()},n.separations=function(e,t,i){var n,r,s,o,a,l=i,h=e.options;for(l.beginPath(),a=0;a<t.length;a++)if((n=t[a]).isActive){s=(r=n.collision).bodyA;var c=1;(o=r.bodyB).isStatic||s.isStatic||(c=.5),o.isStatic&&(c=0),l.moveTo(o.position.x,o.position.y),l.lineTo(o.position.x-r.penetration.x*c,o.position.y-r.penetration.y*c),c=1,o.isStatic||s.isStatic||(c=.5),s.isStatic&&(c=0),l.moveTo(s.position.x,s.position.y),l.lineTo(s.position.x+r.penetration.x*c,s.position.y+r.penetration.y*c)}h.wireframes?l.strokeStyle="rgba(255,165,0,0.5)":l.strokeStyle="orange",l.stroke()},n.inspector=function(e,t){e.engine;var i,n=e.selected,r=e.render,s=r.options;if(s.hasBounds){var o=r.bounds.max.x-r.bounds.min.x,a=r.bounds.max.y-r.bounds.min.y,l=o/r.options.width,h=a/r.options.height;t.scale(1/l,1/h),t.translate(-r.bounds.min.x,-r.bounds.min.y)}for(var c=0;c<n.length;c++){var u=n[c].data;switch(t.translate(.5,.5),t.lineWidth=1,t.strokeStyle="rgba(255,165,0,0.9)",t.setLineDash([1,2]),u.type){case"body":i=u.bounds,t.beginPath(),t.rect(Math.floor(i.min.x-3),Math.floor(i.min.y-3),Math.floor(i.max.x-i.min.x+6),Math.floor(i.max.y-i.min.y+6)),t.closePath(),t.stroke();break;case"constraint":var d=u.pointA;u.bodyA&&(d=u.pointB),t.beginPath(),t.arc(d.x,d.y,10,0,2*Math.PI),t.closePath(),t.stroke()}t.setLineDash([]),t.translate(-.5,-.5)}null!==e.selectStart&&(t.translate(.5,.5),t.lineWidth=1,t.strokeStyle="rgba(255,165,0,0.6)",t.fillStyle="rgba(255,165,0,0.1)",i=e.selectBounds,t.beginPath(),t.rect(Math.floor(i.min.x),Math.floor(i.min.y),Math.floor(i.max.x-i.min.x),Math.floor(i.max.y-i.min.y)),t.closePath(),t.stroke(),t.fill(),t.translate(-.5,-.5)),s.hasBounds&&t.setTransform(1,0,0,1,0,0)};var i=function(e,t){var i=e.engine,r=e.timing,s=r.historySize,o=i.timing.timestamp;r.delta=t-r.lastTime||n._goodDelta,r.lastTime=t,r.timestampElapsed=o-r.lastTimestamp||0,r.lastTimestamp=o,r.deltaHistory.unshift(r.delta),r.deltaHistory.length=Math.min(r.deltaHistory.length,s),r.engineDeltaHistory.unshift(i.timing.lastDelta),r.engineDeltaHistory.length=Math.min(r.engineDeltaHistory.length,s),r.timestampElapsedHistory.unshift(r.timestampElapsed),r.timestampElapsedHistory.length=Math.min(r.timestampElapsedHistory.length,s),r.engineElapsedHistory.unshift(i.timing.lastElapsed),r.engineElapsedHistory.length=Math.min(r.engineElapsedHistory.length,s),r.elapsedHistory.unshift(r.lastElapsed),r.elapsedHistory.length=Math.min(r.elapsedHistory.length,s)},u=function(e){for(var t=0,i=0;i<e.length;i+=1)t+=e[i];return t/e.length||0},d=function(e,t){var i=document.createElement("canvas");return i.width=e,i.height=t,i.oncontextmenu=function(){return!1},i.onselectstart=function(){return!1},i},f=function(e){var t=e.getContext("2d");return(window.devicePixelRatio||1)/(t.webkitBackingStorePixelRatio||t.mozBackingStorePixelRatio||t.msBackingStorePixelRatio||t.oBackingStorePixelRatio||t.backingStorePixelRatio||1)},p=function(e,t){var i=e.textures[t];return i||((i=e.textures[t]=new Image).src=t,i)},g=function(e,t){var i=t;/(jpg|gif|png)$/.test(t)&&(i="url("+t+")"),e.canvas.style.background=i,e.canvas.style.backgroundSize="contain",e.currentBackground=t}}()},function(e,t,i){var n={};e.exports=n;var r,s,o,a=i(5),l=i(17),h=i(0);"undefined"!=typeof window&&(r=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame,s=window.cancelAnimationFrame||window.mozCancelAnimationFrame||window.webkitCancelAnimationFrame||window.msCancelAnimationFrame),r||(r=function(e){o=setTimeout((function(){e(h.now())}),1e3/60)},s=function(){clearTimeout(o)}),n.create=function(e){var t=h.extend({fps:60,deltaSampleSize:60,counterTimestamp:0,frameCounter:0,deltaHistory:[],timePrev:null,frameRequestId:null,isFixed:!1,enabled:!0},e);return t.delta=t.delta||1e3/t.fps,t.deltaMin=t.deltaMin||1e3/t.fps,t.deltaMax=t.deltaMax||1e3/(.5*t.fps),t.fps=1e3/t.delta,t},n.run=function(e,t){return void 0!==e.positionIterations&&(t=e,e=n.create()),function i(s){e.frameRequestId=r(i),s&&e.enabled&&n.tick(e,t,s)}(),e},n.tick=function(e,t,i){var n,r=t.timing;e.isFixed?n=e.delta:(n=i-e.timePrev||e.delta,e.timePrev=i,e.deltaHistory.push(n),e.deltaHistory=e.deltaHistory.slice(-e.deltaSampleSize),n=(n=(n=Math.min.apply(null,e.deltaHistory))<e.deltaMin?e.deltaMin:n)>e.deltaMax?e.deltaMax:n,e.delta=n);var s={timestamp:r.timestamp};a.trigger(e,"beforeTick",s),e.frameCounter+=1,i-e.counterTimestamp>=1e3&&(e.fps=e.frameCounter*((i-e.counterTimestamp)/1e3),e.counterTimestamp=i,e.frameCounter=0),a.trigger(e,"tick",s),a.trigger(e,"beforeUpdate",s),l.update(t,n),a.trigger(e,"afterUpdate",s),a.trigger(e,"afterTick",s)},n.stop=function(e){s(e.frameRequestId)},n.start=function(e,t){n.run(e,t)}},function(e,t,i){var n={};e.exports=n;var r=i(8),s=i(0).deprecated;n.collides=function(e,t){return r.collides(e,t)},s(n,"collides","SAT.collides  replaced by Collision.collides")},function(e,t,i){var n={};e.exports=n,i(1);var r=i(0);n.pathToVertices=function(e,t){"undefined"==typeof window||"SVGPathSeg"in window||r.warn("Svg.pathToVertices: SVGPathSeg not defined, a polyfill is required.");var i,s,o,a,l,h,c,u,d,f,p,g=[],m=0,y=0,_=0;t=t||15;var v=function(e,t,i){var n=i%2==1&&i>1;if(!d||e!=d.x||t!=d.y){d&&n?(f=d.x,p=d.y):(f=0,p=0);var r={x:f+e,y:p+t};!n&&d||(d=r),g.push(r),y=f+e,_=p+t}},x=function(e){var t=e.pathSegTypeAsLetter.toUpperCase();if("Z"!==t){switch(t){case"M":case"L":case"T":case"C":case"S":case"Q":y=e.x,_=e.y;break;case"H":y=e.x;break;case"V":_=e.y}v(y,_,e.pathSegType)}};for(n._svgPathToAbsolute(e),o=e.getTotalLength(),h=[],i=0;i<e.pathSegList.numberOfItems;i+=1)h.push(e.pathSegList.getItem(i));for(c=h.concat();m<o;){if((l=h[e.getPathSegAtLength(m)])!=u){for(;c.length&&c[0]!=l;)x(c.shift());u=l}switch(l.pathSegTypeAsLetter.toUpperCase()){case"C":case"T":case"S":case"Q":case"A":a=e.getPointAtLength(m),v(a.x,a.y,0)}m+=t}for(i=0,s=c.length;i<s;++i)x(c[i]);return g},n._svgPathToAbsolute=function(e){for(var t,i,n,r,s,o,a=e.pathSegList,l=0,h=0,c=a.numberOfItems,u=0;u<c;++u){var d=a.getItem(u),f=d.pathSegTypeAsLetter;if(/[MLHVCSQTA]/.test(f))"x"in d&&(l=d.x),"y"in d&&(h=d.y);else switch("x1"in d&&(n=l+d.x1),"x2"in d&&(s=l+d.x2),"y1"in d&&(r=h+d.y1),"y2"in d&&(o=h+d.y2),"x"in d&&(l+=d.x),"y"in d&&(h+=d.y),f){case"m":a.replaceItem(e.createSVGPathSegMovetoAbs(l,h),u);break;case"l":a.replaceItem(e.createSVGPathSegLinetoAbs(l,h),u);break;case"h":a.replaceItem(e.createSVGPathSegLinetoHorizontalAbs(l),u);break;case"v":a.replaceItem(e.createSVGPathSegLinetoVerticalAbs(h),u);break;case"c":a.replaceItem(e.createSVGPathSegCurvetoCubicAbs(l,h,n,r,s,o),u);break;case"s":a.replaceItem(e.createSVGPathSegCurvetoCubicSmoothAbs(l,h,s,o),u);break;case"q":a.replaceItem(e.createSVGPathSegCurvetoQuadraticAbs(l,h,n,r),u);break;case"t":a.replaceItem(e.createSVGPathSegCurvetoQuadraticSmoothAbs(l,h),u);break;case"a":a.replaceItem(e.createSVGPathSegArcAbs(l,h,d.r1,d.r2,d.angle,d.largeArcFlag,d.sweepFlag),u);break;case"z":case"Z":l=t,h=i}"M"!=f&&"m"!=f||(t=l,i=h)}}},function(e,t,i){var n={};e.exports=n;var r=i(6);i(0),n.create=r.create,n.add=r.add,n.remove=r.remove,n.clear=r.clear,n.addComposite=r.addComposite,n.addBody=r.addBody,n.addConstraint=r.addConstraint}])},e.exports=n()}},t={};function i(n){var r=t[n];if(void 0!==r)return r.exports;var s=t[n]={id:n,loaded:!1,exports:{}};return e[n].call(s.exports,s,s.exports,i),s.loaded=!0,s.exports}i.amdO={},i.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return i.d(t,{a:t}),t},i.d=(e,t)=>{for(var n in t)i.o(t,n)&&!i.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},i.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),i.hmd=e=>((e=Object.create(e)).children||(e.children=[]),Object.defineProperty(e,"exports",{enumerable:!0,set:()=>{throw new Error("ES Modules may not assign module.exports or exports.*, Use ESM export syntax, instead: "+e.id)}}),e),i.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),i(450)})();